<?xml version="1.0" encoding="UTF-8"?>

<document>
  <properties>
    <title>Vortikal Change Log
    </title>
  </properties>

  <body>

    <release version="0.3.12-SNAPSHOT" date="In SVN" description="Release 0.3.12">
      <!-- add 'action' entries here, newest on top: -->
      <!-- type: update|fix|add|remove -->
    </release>

    <release version="0.3.11" date="2007-10-11" description="Release 0.3.11">
      <action type="add">
        Integrated FCKEditor client-side HTML editor as an extension
        (http://www.fckeditor.net).
      </action>
      <action type="add">
        Implemented a service that prevents lock and session timeout
        in edit modes
      </action>
      <action type="update">
        Improved collection listing on view
      </action>
      <action type="update">
        Library update: Updgraded Spring to version 2.0.7
      </action>
      <action type="fix">
        Various minor bug fixes
      </action>
    </release>

    <release version="0.3.10.1" date="2007-09-17" description="Release 0.3.10.1">
      <action type="fix">
        Repository: Use Spring's SqlMapClientTemplate interface to the
        iBATIS database layer (instead of direct API usage) in order
        to avoid certain JDBC connection issues.
      </action>
    </release>

    <release version="0.3.10" date="2007-09-06" description="Release 0.3.10">
      <action type="add">
        Added basic support for resource comments
      </action>
      <action type="update">
        Library update: Updgraded Lucene to version 2.2.0
      </action>
      <action type="update">
        Decorating: various bug fixes and minor updates
      </action>
      <action type="add">
        Decorating: new authentication (login/logout) component
      </action>
      <action type="update">
        Repository: better transaction handling using Spring's
        transaction manager
      </action>
    </release>

    <release version="0.3.9.1" date="2007-07-04" description="Release 0.3.9.1">
      <action type="fix">
        Fix missing title property evaluation for HTML resources when
        copying and moving.
      </action>
    </release>

    <release version="0.3.9" date="2007-07-02" description="Release 0.3.9">
      <action type="fix">
        Kupu: various bug fixes.
      </action>
      <action type="add">
        Resource types: add support for hierarchichal property
        vocabularies.
      </action>
      <action type="update">
        Security: always require secure connection for HTTP/Basic
        authenticaion.
      </action>
      <action type="fix">
        Fix for 500 internal server error when accessing index files
        that are not readable for anonymous clients. (Instead, either
        require authentication or display a 403 status page.)
      </action>
    </release>

    <release version="0.3.8" date="2007-06-04" description="Release 0.3.8">
      <action type="add">
        All resources now have a 'title' property. For most resources
        this evaluates to the resource's name (the default). For HTML,
        audio and some XML documents specific evaluators are
        implemented.
      </action>
      <action type="add">
        Property framework: added support for evaluating property
        values based on the resource name
      </action>
      <action type="add">
        Query syntax: added support for inverted prefix queries
      </action>
      <action type="update">
        Decorating: the breadcrumb component no longer includes the
        parent folder when accessing an index file
      </action>
      <action type="update">
        Query: name prefix searches now work properly. Inverted
        queries for properties, URI and name prefixes also implemented
      </action>
      <action type="update">
        Library update: Updgraded iBATIS to version 2.3.0
      </action>
      <action type="update">
        Library update: Updgraded Spring to version 2.0.5
      </action>
    </release>

    <release version="0.3.7" date="2007-05-03" description="Release 0.3.7">
      <action type="fix">
        Database: escape special SQL wildcard characters causing
        problems when copying or moving resources with names
        containing such characters
      </action>
      <action type="fix">
        Decorating: fix bug that caused DOCTYPE to be stripped from
        HTML documents containing decorator component syntax
      </action>
      <action type="fix">
        Decorating: handle upper-case tags in HTML documents
      </action>
      <action type="fix">
        Decorating: syntax parsing fixes
      </action>
    </release>

    <release version="0.3.6.1" date="2007-04-20" description="Release 0.3.6.1">
      <action type="fix">
        Decorating: feed component now handles empty feeds without
        crashing.
      </action>
    </release>

    <release version="0.3.6" date="2007-04-19" description="Release 0.3.6">
      <action type="add">
        Decorating: Implemented virtual ("transformed") includes in
        the include component.
      </action>
      <action type="fix">
        Fixed issue with HTTP Digest authentication: handle commas in
        URIs
      </action>
      <action type="fix">
        Decorating: Fixed various HTML parser issues (mostly with tags
        interpreted as empty)
      </action>
      <action type="fix">
        Fixed crashes in XML edit caused by non thread-safe libraries
      </action>
      <action type="update">
        Library update: Updgraded to Spring 2.0.4
      </action>
      <action type="update">
        Kupu: Use Jericho HTML parser for pretty-printing HTML when
        saving (http://jerichohtml.sourceforge.net)
      </action>
    </release>

    <release version="0.3.5.1" date="2007-03-30" description="Release 0.3.5.1">
      <action type="fix">
        Reverted lower-casing of principal names from principal
        factory
      </action>
    </release>

    <release version="0.3.5" date="2007-03-29" description="Release 0.3.5">
      <action type="add">
        Added support for configuring HTTPS access in configuration
        file in repository (default /vrtx/ssl-config.txt).
      </action>
      <action type="add">
        Added support for extracting audio properties from MP3 files
        (currently requires external libraries to be installed).
      </action>
      <action type="add">
        Introduced a new HTML decorating framework, making it possible
        to add modifications (e.g. add visual components) to plain
        HTML output.
      </action>
      <action type="update">
        Library updates: Updgraded to Spring 2.0.3 and Lucene 2.1.0
      </action>
    </release>

    <release version="0.3.4.2" date="2007-02-15" description="Release 0.3.4.2">
      <action type="fix">
        Fixed concurrency bug with query parser.
      </action>
    </release>

    <release version="0.3.4.1" date="2007-02-08" description="Release 0.3.4.1">
      <action type="add">
        Added ThrottleHandlerInterceptor (avoid too many concurrent
        requests from a single client).
      </action>
    </release>

    <release version="0.3.4" date="2006-01-18" description="Release 0.3.4">
      <action type="fix">
        File upload no longer chrashes with file names shorter than 3
        characters.
      </action>
      <action type="fix">
        File upload no longer converts file names to lower case.
      </action>
      <action type="add">
        Searching: implemented support for "property not exists"
        queries.
      </action>
      <action type="fix">
        Fixed several Kupu-related issues.
      </action>
    </release>

    <release version="0.3.3" date="2006-12-04" description="Release 0.3.3">
      <action type="add">
        Allow option to specify (date) format strings in XML search
        results.
      </action>
      <action type="add">
        Search syntax: allow dates to be specified (in several
        ISO-8601-ish formats)
      </action>
      <action type="fix">
        Avoid sending the HTTP "Expires" header on documents that are
        not readable by all (anonymous users).
      </action>
      <action type="fix">
        Fixed several resource property evaluation issues.
      </action>
      <action type="update">
        Kupu: upgrade to version 1.3.9, fix various bugs.
      </action>
      <action type="add">
        Add view URL to result elements (XML-search service)
      </action>
      <action type="add">
        Add ability to limit the set of properties that are returned
        in search queries (optional feature).
      </action>
      <action type="add">
        Added functionality for depth query in query syntax.
      </action>
      <action type="add">
        Add functionality for checking consistency of a property set
        index and optionally repair any detected errors.
      </action>
    </release>

    <release version="0.3.2" date="2006-10-19" description="Release 0.3.2">
     <action type="update">
       Updated to Maven 2 for building the project.
     </action>
     <action type="fix">
       Fixed bug in index file handling for folders containing
       non-ascii characters.
     </action>
     <action type="fix">
       Fixed missing MIME type in "Content-Type" HTML meta tag
       generated by JTidyTransformer.
     </action>
     <action type="remove">
       Removed cache for XSLT document() calls, as it had no
       noticeable effect and was buggy.
     </action>
    </release>

    <release version="0.3.1" date="2006-09-29" description="Release 0.3.1"> 
     <action type="fix">
        Editing properties on text-based documents caused
        guessedCharacterEncoding to revert to default value due to
        misconfiguration.
      </action>
      <action type="fix">
        Updated JtityTransformer ("make web-editable") to properly
        convert document to UTF-8 encoding.
      </action>
      <action type="fix">
        Fix index file handling when index file not readable for
        everyone (either return status 401 or 403). Also properly
        URL-encode index file URI when forwarding request.
      </action>
      <action type="remove">
        Remove "displayName" managed resource property.
      </action>
      <action type="update">
        Fixed evaluation of character encoding for XML, HTML and XHTML
        resources.
      </action>
      <action type="update">
        Upgraded util.concurrent to version 1.3.4.
      </action>
    </release>

    <release version="0.3" date="2006-09-21" description="Release 0.3">
      <action type="add">
        Refactored cache-related header setting in DisplayResourceView
        and ResourceXSLTView (now done by a handler interceptor).
      </action>
      <action type="add">
        Added a simple request load listener (for request load
        monitoring).
      </action>
      <action type="add">
        Added option to limit number of simultaneous XML
        transformations.
      </action>
      <action type="remove">
        Removed lock types (as the only supported locks are exclusive
        write locks).
      </action>
      <action type="add">
        Added request filter for normalizing dot-segments in request
        URIs.
      </action>
      <action type="add">
        Added operational log for logging write operations on the
        repository separately.
      </action>
      <action type="add">
        Added option to use name based view resolving in error
        handlers instead of having to supply a view object directly.
      </action>
      <action type="add">
        Added a new JDOM Document extension that is backed by a
        repository resource.
      </action>
      <action type="add">
        New view wrapper that sets arbitrary response headers,
        configurable using a (key, value) map.
      </action>
      <action type="add">
        Added java.util.Properties and java.util.HashMap
        implementations that read their initial entries from the
        content repository, with support for dynamic reloading.
      </action>
      <action type="remove">
        Removed MultiRequestFilter, as the VortikalServlet now looks
        up requst filters from the application context on
        initialization.
      </action>
      <action type="add">
        Added a repository event trigger that invokes a method on a
        configurable object on repository events. Supports filtering
        based on URI regular expressions or excact matches. (Should
        support a list of RepositoryAssertions.)
      </action>
      <action type="update">
        SimpleCacheImpl now maintains its own cleanup thread if the
        expires-timeout is specified.
      </action>
      <action type="update">
        The default PrincipalManager implementation now has the option
        to look up principal stores from the context, instead of
        having the stores specified directly.
      </action>
      <action type="add">
        Added support for storing/retrieving special property
        'contentLength' in database. Also added storing/retrieving of
        meta-property 'resourceType'.
      </action>
      <action type="add">
        Integrated the Kupu client-side HTML editor as an extension
        (http://kupu.oscom.org).
      </action>
      <action type="add">
        Added default theme (css, images, etc.)
      </action>
      <action type="update">
        Updgraded to Spring 1.2.7
      </action>
      <action type="fix">
        Removed ACL validating when moving resources that caused the
        move operation to fail on ACLs containing invalid principals.
      </action>
      <action type="add">
        Added default set of Spring bean configuration files.
      </action>
      <action type="update">
        Now storing effective ACL inheritance node in resource table
        (repositoryimpl).
      </action>
      <action type="add">
        Introduced a new hierarchical resource type regime. A resource
        is put through a rule-based classification process on
        modification, and its resource type is determined based on the
        set of criteria that matches.

        A resource type may have a set of properties associated with
        it. Properties are either fully user-defined ("dead"), in the
        sense that no definition exists for a property, or "managed",
        which means that they belong to a resource type. These managed
        properties are either user editable or "live" (fully
        server-maintained, evaluated on resource modification).
      </action>
      <action type="add">
        All managed properties are now indexed using Lucene
        (http://lucene.apache.org/), and a new query API is defined on
        top of the indexing system.
      </action>
      <action type="add">
        Added support for multi-valued properties and property-value
        typing.
      </action>
      <action type="update">
        Switched to using iBATIS (http://ibatis.apache.org/) for the
        default JDBC-based backend implementation.
      </action>
    </release>

    <release version="0.2.3" date="2006-08-14" description="Release 0.2.3">
      <action type="add">
        Implement caching of XSLT document() calls for selected URIs.
      </action>
      <action type="fix">
        CreateResourceFromResourceController: Avoid crashing on
        startup if transformation stylesheet is not available.
      </action>
      <action type="fix">
        Fix NPE in SchemaDocumentDefinition for empty elements
      </action>
    </release>

    <release version="0.2.2" date="2006-03-27" description="Release 0.2.2">
      <action type="fix">
        Fix WebDAV bugs preventing Dreamweaver/Contribute from working
        properly.
      </action>
    </release>

    <release version="0.2.1" date="2006-01-31" description="Release 0.2.1">
      <action type="add">
        Added validation of document before saving in xml
        edit. Changed exception handling to propagate
        validation/saving exceptions.
      </action>
      <action type="update">
        The current collection is now included in the WebDAV PROPFIND
        response on requests with the "depth" parameter set to
        1. Fixes WebDAV mounting in gnome-vfs.
      </action>
      <action type="update">
        Added option to disable sending of "Expires" HTTP header on
        XSLT views.
      </action>
      <action type="fix">
        Collection timestamps are now correctly updated on resource
        creations and deletions.
      </action>
    </release>


    <release version="0.2" date="2005-11-22" description="Release 0.2">
      <action type="add">
        Added a new interface: RequestFilter for performing various
        pre-processing tasks on servlet requests.
      </action>
      <action type="add">
        Added assertion for matching on principals and groups.
      </action>
      <action type="add">
        Added assertion for performing regular expression matches on
        request headers.
      </action>
      <action type="fix">
        Removed extra URL decoding on request context initialization
        (caused file names that contain the '+' character to fail).
      </action>
      <action type="add">
        Added web controller for serving class path resources.
      </action>
      <action type="update">
        Reworked the shell support package. Added a new socket based
        command line interface for remote shell support.
      </action>
      <action type="fix">
        Fixed bug that caused move operations to fail in certain
        circumstances when the principal was not present in the ACL of
        the resource being moved.
      </action>
      <action type="update">
        The plain text edit component is now more robust with regards
        to character encoding in XML/HTML documents.
      </action>
      <action type="fix">
        Fixed bug in wrapped views where HEAD requests sometimes
        received different Content-Length headers than GET requests.
      </action>
    </release>

    <release version="0.1.9.3" date="2005-10-03" description="Release 0.1.9.2">
      <action type="update">
        Added 'reference' type element to structured text parser.
      </action>
    </release>

    <release version="0.1.9.2" date="2005-09-07" description="Release 0.1.9.2">
      <action type="update">
        Various database (SQL) changes to improve performance.
      </action>
    </release>

    <release version="0.1.9.1" date="2005-08-26" description="Release 0.1.9.1">
      <action type="fix">
        Update property 'contentLastModified' when storing resources
        with the 'overrideLiveProperties' flag set.
      </action>
    </release>

    <release version="0.1.9" date="2005-08-18" description="Release 0.1.9">
      <action type="add">
        Added controllers for copying and moving resources.
      </action>
      <action type="update">
        Made the current servlet request available trough the request
        context.
      </action>
    </release>

    <release version="0.1.8" date="2005-07-27" description="Release 0.1.8">
      <action type="add">
        Added reference data provider for creating URLs to fixed
        resources (as opposed to the currently requested resource).
      </action>
      <action dev="storset,gormap" type="update">
        Refactored the view wrapping framework. Added a new package
        'view.wrapper' that now contains the view wrapping code. Split
        'referencedataprovider' package into 'referencedata' and
        'referencedata.provider'.
      </action>
      <action type="add">
        Added possibility to wrap views and specify reference data
        providers at the view resolver level, making it easier to
        provide consistent sets of related views.
      </action>
      <action type="add">
        Added a handler interceptor that redirects to a re-written URL
        when the request URI matches a given regular expression
      </action>
      <action type="update">
        Wildcards ('*') are now allowed in port and protocol
        assertions.
      </action>
      <action type="add">
        Added ...util.beans.comparator and two bean comparators
      </action>
      <action type="add">
        Added preliminary support for HTTP/Digest authentication.
      </action>
      <action type="fix">
        Fixed nullpointer in plaintext edit.
      </action>
      <action type="remove">
        TabsProvider and ActionBarProvider replaced by menu component
      </action>
      <action type="add">
        Added menu component
      </action>
      <action type="update">
        Reworked/generalized categorizable functionality
      </action>
      <action type="update">
        Added API support for rejecting invalid authentication
        requests.
      </action>
      <action type="update">
        Added HTTP status codes to request/access logging.
      </action>
      <action type="update">
        Adding/deleting users/groups allows for multiple csv users at
        once
      </action>
    </release>

    <release version="0.1.8-pr3" date="2005-06-17">
      <action type="add">
        Added new FreemarkerConfig implementation,
        MultiTemplateLocationsFreeMarkerConfigurer, looking up
        (possibly) multiple template locations in the application
        context
      </action>
      <action type="update">
        Catching possible IllegalArgumentException when clients send
        unparsable date header
      </action>
    </release>

    <release version="0.1.8-pr2" date="2005-06-03">
      <action type="update">
        Updated ResourcePrincipalPermissionAssertion to avoid matching
        when the repository is in read-only mode.
      </action>
      <action type="update">
        Modified the mechanism for cleaning up expired locks to
        perform all the work directly in the data access layer,
        instead of first loading the resources.
      </action>
    </release>

    <release version="0.1.8-pr1" date="2005-05-27">
      <action type="update">
        Put will now try to guess content type based on file extension
        when the client sends application/octet-stream
      </action>
      <action type="add">
        Added a new view implementation, 'StandardHttpView' that
        allows parameterization of status code and headers.
      </action>
      <action type="update">
        Moved to Spring 1.2 final
      </action>
    </release>

    <release version="0.1.7" date="2005-05-13">
      <action type="fix">
        Fixed NullPointerException error with error handler resolving
        when no service is yet resolved.
      </action>
      <action type="fix">
        Fixed bug in EvenStructuredText. It was unable to handle
        unfinished links at the end of the text
        (i.e. "laLA":[end-of-text])
      </action>
      <action type="update">
        Authentication exceptions are no longer logged at level WARN
        when checking resources and requests for 'If-Modified-Since'
        dates before the actual request processing.
      </action>
      <action type="fix">
        FilteringViewWrapper now bails out (aborting the filter
        sequence) when it discovers that the wrapped response has an
        unsupported character encoding. The original response is
        written instead.
      </action>
      <action type="add">
        Extended child assertion with optional assertion property to
        be tested against child
      </action>
    </release>

    <release version="0.1.6" date="2005-05-11">
      <action type="update">
        Stale http sessions are now detected in the security
        initializer. A new session is created if the old onewas
        invalid.
      </action>
      <action type="update">
        Composite view now avoids writing body on HEAD requests.
      </action>
    </release>

    <release version="0.1.5" date="2005-05-10">
      <action type="update">
        XSLT now handles transformations with content type
        'application/xhtml+xml' (XHTML) properly.
      </action>
      <action type="fix">
        Servlet requests getting a '304 Not Modified' response are now
        logged as 'cached by client', and not the other way around.
      </action>
      <action type="fix">
        Fixed character encoding issue with BufferedResponseWrapper.
      </action>
    </release>

    <release version="0.1.4" date="2005-05-09">
      <action type="update">
        Improved logging for data accesslayer.
      </action>
      <action type="update">
        Improved error logging for dispatcher servlet
      </action>
      <action type="update">
        Parameterized lock timeouts for XML edit controllers
      </action>
      <action type="update">
        Fix for illegal (expired) sessionstates
      </action>
    </release>

    <release version="0.1.3" date="2005-05-04">
      <action type="fix">
        Locks that have expired, but have not yet been removed by the
        lock-cleaning thread are not loaded anymore.
      </action>
      <action type="update">
        The correct timezone (UTC) is now used when returning the
        WebDAV 'creationdate' property.
      </action>
      <action type="update">
        Modification timestamps on collections are now correctly
        updated when creating child resources.
      </action>
    </release>

    <release version="0.1.2" date="2005-04-29">
      <action type="add">
        Added the ability to associate error handlers with a service
        tree. When a service is specified for an error handler, the
        handler is not selected unless the service of the request is
        the same as or a descendant of the specified service.
      </action>
      <action type="fix">
        Fixed lock discovery functionality in XML edit component
        (re-locking previously failed due to a bug)
      </action>
      <action type="fix">
        WebDAV now returns the correct lock timeout on 'lockdiscovery'
        PROPFIND request. Fixes some issues with Microsoft Office and
        lock refreshing.
      </action>
      <action type="update">
        Factored out services' ability to 'categorize' their parent
        into a specific parent property
      </action>
      <action type="update">
        Factored out services' Categorizable functionality into its
        own interface
      </action>
      <action type="add">
        Added a new MessageSource implementation that looks up other
        message sources in the application context and delegates
        lookups to them.
      </action>
      <action type="add">
        Implemented HTTP HEAD handling, both for FreeMarkerView and
        DisplayResourceView.
      </action>
    </release>

    <release version="0.1.1" date="2005-04-01">
      <action type="fix">
        Fixed crash in HtmlHeadContentFilter HTML head elements
        containing the '$' character.
      </action>
      <action type="add">
        Added RequestURIRegexpWrappingAssertion, for selectively
        applying assertions based on regular expression matching on
        the request URI. One use case for such an assertion is to
        require that certain subtrees in the URI space are only
        accessible through https.
      </action>
      <action type="add">
        Added LinkConstructor as an optional parameter to xsl
        transformation with ResourceXsltView. This makes it possible
        to create links from within xsl.
      </action>
      <action type="fix">
        Refactored/bug fixed getAbsolutePath() in
        AbstractPathBasedURIResolver. Not extensively tested.
      </action>
      <action type="update">
        It is now possible for services to 'hook into' another service
        trough a new category-based lookup system, avoiding the need
        to explicitly refer to child services from an existing
        service. (As a consequence, services may now belong to more
        than one category.)
      </action>
      <action type="update">
        Added refresh functionality to the document templates listing
        component for creating new documents.
      </action>
      <action type="update">
        Improved character encoding for HTML documents in plaintext
        editing component. Now checks actual HTML content for meta
        tags if no character encoding is set on the resource itself.
      </action>
    </release>

    <release version="0.1" date="2005-03-08">
      <action type="update">
        Initial release
      </action>
    </release>
  </body>
</document>
