
resourcetype file {
  properties {
    contenttype : string required,
    contentlength : int
  }
}

resourcetype article : file {
  properties {
    title : string,
    introduction : html,
    content : html
  }
}

resourcetype event : article {
  properties {
    start-date : datetime required,
    end-date : datetime required,
    location : string required,
    mapref : string
  }
  edit-rules {
    group starts-ends (start-date, end-date) before article:content,
    mapref after event:location
  }
  view-definition {
  }
}
