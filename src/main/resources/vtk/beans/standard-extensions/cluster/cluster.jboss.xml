<?xml version="1.0" encoding="utf-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

  <import resource="cluster.xml" />

  <bean id="jboss.clusterManager" class="vtk.cluster.JBossClusterManager">
    <property name="clusterComponents" ref="cluster.components"/>
  </bean>

  <bean id="cookieLinkStore.cache" class="vtk.cluster.InfinispanCache">
    <constructor-arg name="name" value="cookieLinkStore.cache" />
    <constructor-arg name="timeoutSeconds" value="3600" />
    <constructor-arg name="updateTimeouts" value="true" />
  </bean>

  <bean id="feide.requestIdStore" class="vtk.cluster.InfinispanCache">
    <constructor-arg name="name" value="feide.requestIdStore" />
    <!-- Should be same timeout as sessions in general. -->
    <constructor-arg name="timeoutSeconds" value="1800" />
    <constructor-arg name="updateTimeouts" value="false" />
  </bean>

  <bean id="saml.ieCookieStore.cache" class="vtk.cluster.InfinispanCache">
    <constructor-arg name="name" value="saml.ieCookieStore.cache" />
    <constructor-arg name="timeoutSeconds" value="3600" />
    <constructor-arg name="updateTimeouts" value="true" />
  </bean>

  <bean id="saml.requestIdStore" class="vtk.cluster.InfinispanCache">
    <constructor-arg name="name" value="saml.requestIdStore" />
    <!-- Should be same timeout as sessions in general. -->
    <constructor-arg name="timeoutSeconds" value="1800" />
    <constructor-arg name="updateTimeouts" value="false" />
  </bean>

  <bean id="tokenManagerCache" class="vtk.cluster.InfinispanCache">
    <constructor-arg name="name" value="tokenManagerCache" />
    <constructor-arg name="timeoutSeconds" value="1800" />
    <constructor-arg name="updateTimeouts" value="true" />
  </bean>

</beans>
