<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	
	<import resource="../managed-xml.xml" />
    
    <!-- Emnegruppe XML resource -->
	<bean id="emnegruppeXmlResource"
		class="org.vortikal.repository.resourcetype.PrimaryResourceTypeDefinitionImpl">
		<property name="name" value="emnegruppe" />
		<property name="namespace" ref="EMNEGRUPPE_NAMESPACE" /> <!-- studier-namespace for alt ? -->
		<property name="parentTypeDefinition" ref="managedXmlResource" />
		<property name="propertyTypeDefinitions">
			<list>
				<ref bean="emnegruppeEmnegruppekodePropDef" />
				<ref bean="emnegruppeEmnegruppenavnPropDef" />
				<ref bean="emnegruppeEmnegruppeomfangPropDef" />
				<ref bean="emnegruppeStatusPropDef" />
			</list>
		</property>
		<property name="assertions">
			<list>
				<ref bean="schemaIsEmnegruppe" />
			</list>
		</property>
	</bean>
	
	<bean id="EMNEGRUPPE_NAMESPACE" class="org.vortikal.repository.Namespace">
		<constructor-arg value="emnegruppe" />
		<constructor-arg value="http://www.uio.no/xsd/studier/emnegruppe" />
	</bean>
	
	<bean id="schemaIsEmnegruppe"
		class="org.vortikal.web.service.ResourcePropertyRegexpAssertion">
		<property name="namespace" ref="DEFAULT_NAMESPACE" />
		<property name="name" value="schema" />
		<property name="pattern"
			value="http://www.uio.no/xsd/studier/emnegruppe/v00.*" />
	</bean>
	
	<bean id="emnegruppeEmnegruppekodePropDef"
		class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl"
		parent="abstractPropDef">
		<property name="name" value="emnegruppekode" />
		<property name="type" value="STRING" />
		<property name="protectionLevel" ref="PROTECTION_LEVEL_UNEDITABLE" />
		<property name="mandatory" value="false" />
		<property name="contentModificationEvaluator" ref="emnegruppeEmnegruppekodeEvaluator" />
	</bean>
	
	<bean id="emnegruppeEmnegruppekodeEvaluator" parent="abstractXPathEvaluator">
		<property name="expression" value="/emnegruppe/emnegruppekode" />
	</bean>
	
	<bean id="emnegruppeEmnegruppenavnPropDef"
		class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl"
		parent="abstractPropDef">
		<property name="name" value="emnegruppenavn" />
		<property name="type" value="STRING" />
		<property name="protectionLevel" ref="PROTECTION_LEVEL_UNEDITABLE" />
		<property name="mandatory" value="false" />
		<property name="contentModificationEvaluator" ref="emnegruppeEmnegruppenavnEvaluator" />
	</bean>
	
	<bean id="emnegruppeEmnegruppenavnEvaluator" parent="abstractXPathEvaluator">
		<property name="expression" value="/emnegruppe/emnegruppenavn" />
	</bean>
	
	<bean id="emnegruppeEmnegruppeomfangPropDef"
		class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl"
		parent="abstractPropDef">
		<property name="name" value="emnegruppeomfang" />
		<property name="type" value="INT" />
		<property name="protectionLevel" ref="PROTECTION_LEVEL_UNEDITABLE" />
		<property name="mandatory" value="false" />
		<property name="contentModificationEvaluator" ref="emnegruppeEmnegruppeomfangEvaluator" />
	</bean>
	
	<bean id="emnegruppeEmnegruppeomfangEvaluator" parent="abstractXPathEvaluator">
		<property name="expression" value="/emnegruppe/emnegruppeomfang" />
	</bean>
	
	<bean id="emnegruppeStatusPropDef"
		class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl"
		parent="abstractPropDef">
		<property name="name" value="status" />
		<property name="type" value="STRING" />
		<property name="protectionLevel" ref="PROTECTION_LEVEL_UNEDITABLE" />
		<property name="mandatory" value="false" />
		<property name="contentModificationEvaluator" ref="emnegruppeStatusEvaluator" />
	</bean>
	
	<bean id="emnegruppeStatusEvaluator" parent="abstractXPathEvaluator">
		<property name="expression" value="/emnegruppe/status" />
	</bean>
	
</beans>