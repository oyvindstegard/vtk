<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
  "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>


  <bean id="noCacheHandlerInterceptor"
        class="org.vortikal.web.controller.HeaderControlHandlerInterceptor">
    <property name="staticHeaders">
      <map>
        <entry key="Cache-Control" value="no-cache, no-store, must-revalidate, max-age=0" />
        <entry key="Expires" value="0" />
        <entry key="Pragma" value="no-cache" />
      </map>
    </property>
  </bean>




  <!-- WEB controllers -->

  <bean id="logoutHandler" 
    class="org.vortikal.web.controller.LogoutController" parent="requestLocalRepositoryAware">
    <property name="service" ref="viewService" />
    <property name="securityInitializer" ref="securityInitializer" />
  </bean>

  <bean id="redirectHandler" 
    class="org.vortikal.web.controller.RedirectController">
    <property name="viewName" value="collectionRedirect" />
  </bean>

  <bean id="httpOptionsHandler"
        class="org.vortikal.web.controller.ResourceAwareParameterizableViewController"
        parent="requestLocalRepositoryAware">
    <property name="supportedMethods" value="OPTIONS" />
    <property name="viewName" value="httpOptions" />
  </bean>

  <bean id="collectionListingHandler" 
    class="org.vortikal.web.controller.DisplayResourceController"
    parent="requestLocalRepositoryAware">
    <property name="viewName" value="collectionListing" />
    <property name="displayProcessed" value="true" />
  </bean>
  
  <bean id="displayIndexFileHandler" class="org.vortikal.web.controller.IndexFileController"
        parent="requestLocalRepositoryAware">
    <property name="indexFiles" ref="indexFileList" />
    <property name="uriCharacterEncoding" value="${indexFileHandlerURIEncoding}" />
  </bean>

  <bean id="collectionListingAsFeedHandler" 
    class="org.vortikal.web.controller.ResourceAwareParameterizableViewController"
    parent="requestLocalRepositoryAware">
    <property name="viewName" value="collectionListingAsFeed" />
  </bean>
  
  <bean id="displayResourceHandler" 
    class="org.vortikal.web.controller.DisplayResourceController"
    parent="requestLocalRepositoryAware">
    <property name="displayProcessed" value="true" />
  </bean>

  <bean id="displayHTMLResourceHandler" 
    class="org.vortikal.web.controller.DisplayResourceController"
    parent="requestLocalRepositoryAware">
    <property name="displayProcessed" value="true" />
    <property name="viewName" value="displayHTMLResource" />
  </bean>


</beans>
