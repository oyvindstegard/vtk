<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

  <bean id="personResourceTypeDefinition"
        class="org.vortikal.repository.resourcetype.PrimaryResourceTypeDefinitionImpl">
    <property name="name" value="person-listing"/>
    <property name="namespace" ref="DEFAULT_NAMESPACE" />
    <property name="parentTypeDefinition" ref="collectionResourceTypeDefinition" />
    <property name="assertions">
      <list>
        <ref bean="isPersonAssertion" />
      </list>
    </property>
    <property name="propertyTypeDefinitions">
      <list>
        <ref bean="firstNamePropDef" />
        <ref bean="surnamePropDef" />
        <ref bean="usernamePropDef" />
        <ref bean="positionPropDef" />
        <ref bean="phonePropDef" />
        <ref bean="mobilePropDef" />
        <ref bean="faxPropDef" />
        <ref bean="postalAddressPropDef" />
        <ref bean="visitingAddressPropDef" />
        <ref bean="emailPropDef" />
        <ref bean="picturePropDef" />
      </list>
    </property>
  </bean>

  <bean id="isPersonAssertion" class="org.vortikal.web.service.ResourcePropertyAssertion">
	<property name="namespace" ref="DEFAULT_NAMESPACE" />
    <property name="name" value="xhtml10-type" />
    <property name="value" value="person" />
    <property name="checkExistenceOnly" value="false" />
  </bean>

  <bean id="firstNamePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="firstName"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="surnamePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="surname"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="usernamePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="username"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="positionPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="position"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="phonePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="phone"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="mobilePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="mobile"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="faxPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="fax"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="postalAddressPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="postalAddress"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="visitingAddressPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="visitingAddress"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="emailPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="email"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

   <bean id="picturePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl" parent="abstractPropDef">
    <property name="contentRelation" value="PRE_CONTENT" />
    <property name="name" value="picture"/>
    <property name="type" value="STRING"/>
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE"/>
    <property name="mandatory" value="false"/>
  </bean>

</beans>
