<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
                       "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

  <bean id="icalService" class="org.vortikal.web.service.ServiceImpl">
    <property name="order" value="-999" />
    <property name="assertions">
      <list>
        <ref bean="ical.appResourceAssertion" />
        <ref bean="isEventAssertion" />
      </list>
    </property>
    <property name="handler" ref="icalHandler" />
  </bean>
  
  <bean id="icalHandler" class="org.vortikal.web.controller.ical.IcalHandler">
    <property name="repository" ref="repository" />
  </bean>
  
  <bean id="ical.appResourceAssertion"
    class="org.vortikal.web.service.RequestURIRegexpAssertion">
    <property name="pattern" value="${ical.appResourceURL}" />
  </bean>

</beans>