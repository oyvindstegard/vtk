<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

  <!-- Publish events whenever changes to Vortex resources occur. -->
  <bean id="processedContentEventDumper" 
    class="org.vortikal.repositoryimpl.ProcessedContentEventDumper">
    <property name="dataAccessor" ref="repository.database"/>
    <property name="repository" ref="repository"/>
    <property name="loggerType" value="1" />
    <property name="loggerId" value="1" />
  </bean>

  <!-- 
    Resource change fetcher.  This bean can be used to extract
    lists of resource changes from the database changelog table.
    NOTE: 
    'org.vortikal.repositoryimpl.dao.JDBCResourceChangeFetcher'
    
    is only compatible with the operations produced by the
    
    'org.vortikal.repositoryimpl.dao.RepositoryEventDumperImpl'-event dumper.
  -->
  <bean id="dbResourceChangeFetcher" 
        class="org.vortikal.repositoryimpl.dao.JDBCResourceChangeFetcher">
    <property name="jdbcDatabase" ref="repository.database" />
    <property name="loggerType" value="1" />
    <property name="loggerId" value="1" />
  </bean>

</beans>
