/*
Copyright (c) 2003-2010, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;if(!window.CKEDITOR)window.CKEDITOR=(function(){var h={timestamp:'D03G5XL',version:'3.6.6',revision:'7689',rnd:Math.floor(Math.random()*900)+100,_:{},status:'unloaded',basePath:(function(){var k=window.CKEDITOR_BASEPATH||'';if(!k){var l=document.getElementsByTagName('script');for(var m=0;m<l.length;m++){var n=l[m].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(n){k=n[1];break;}}}if(k.indexOf(':/')==-1)if(k.indexOf('/')===0)k=location.href.match(/^.*?:\/\/[^\/]*/)[0]+k;else k=location.href.match(/^[^\?]*\/(?:)/)[0]+k;if(!k)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return k;})(),getUrl:function(k){if(k.indexOf(':/')==-1&&k.indexOf('/')!==0)k=this.basePath+k;if(this.timestamp&&k.charAt(k.length-1)!='/'&&!/[&?]t=/.test(k))k+=(k.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return k;}},i=window.CKEDITOR_GETURL;if(i){var j=h.getUrl;h.getUrl=function(k){return i.call(h,k)||j.call(h,k);};}return h;})();var h=CKEDITOR;if(!h.event){h.event=function(){};h.event.implementOn=function(i){var j=h.event.prototype;for(var k in j){if(i[k]==undefined)i[k]=j[k];}};h.event.prototype=(function(){var i=function(k){var l=k.getPrivate&&k.getPrivate()||k._||(k._={});return l.events||(l.events={});},j=function(k){this.name=k;this.listeners=[];};j.prototype={getListenerIndex:function(k){for(var l=0,m=this.listeners;l<m.length;l++){if(m[l].fn==k)return l;}return-1;}};return{on:function(k,l,m,n,o){var p=i(this),q=p[k]||(p[k]=new j(k));if(q.getListenerIndex(l)<0){var r=q.listeners;if(!m)m=this;if(isNaN(o))o=10;var s=this,t=function(v,w,x,y){var z={name:k,sender:this,editor:v,data:w,listenerData:n,stop:x,cancel:y,removeListener:function(){s.removeListener(k,l);}};l.call(m,z);return z.data;};t.fn=l;t.priority=o;for(var u=r.length-1;u>=0;u--){if(r[u].priority<=o){r.splice(u+1,0,t);return;}}r.unshift(t);}},fire:(function(){var k=false,l=function(){k=true;},m=false,n=function(){m=true;};return function(o,p,q){var r=i(this)[o],s=k,t=m;k=m=false;if(r){var u=r.listeners;if(u.length){u=u.slice(0);for(var v=0;v<u.length;v++){var w=u[v].call(this,q,p,l,n);if(typeof w!='undefined')p=w;if(k||m)break;}}}var x=m||(typeof p=='undefined'?false:p);k=s;m=t;return x;};})(),fireOnce:function(k,l,m){var n=this.fire(k,l,m);delete i(this)[k];return n;},removeListener:function(k,l){var m=i(this)[k];if(m){var n=m.getListenerIndex(l);
if(n>=0)m.listeners.splice(n,1);}},hasListeners:function(k){var l=i(this)[k];return l&&l.listeners.length>0;}};})();}if(!h.editor){h.ELEMENT_MODE_NONE=0;h.ELEMENT_MODE_REPLACE=1;h.ELEMENT_MODE_APPENDTO=2;h.editor=function(i,j,k,l){var m=this;m._={instanceConfig:i,element:j,data:l};m.elementMode=k||0;h.event.call(m);m._init();};h.editor.replace=function(i,j){var k=i;if(typeof k!='object'){k=document.getElementById(i);if(k&&k.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})k=null;if(!k){var l=0,m=document.getElementsByName(i);while((k=m[l++])&&k.tagName.toLowerCase()!='textarea'){}}if(!k)throw '[CKEDITOR.editor.replace] The element with id or name "'+i+'" was not found.';}k.style.visibility='hidden';return new h.editor(j,k,1);};h.editor.appendTo=function(i,j,k){var l=i;if(typeof l!='object'){l=document.getElementById(i);if(!l)throw '[CKEDITOR.editor.appendTo] The element with id "'+i+'" was not found.';}return new h.editor(j,l,2,k);};h.editor.prototype={_init:function(){var i=h.editor._pending||(h.editor._pending=[]);i.push(this);},fire:function(i,j){return h.event.prototype.fire.call(this,i,j,this);},fireOnce:function(i,j){return h.event.prototype.fireOnce.call(this,i,j,this);}};h.event.implementOn(h.editor.prototype,true);}if(!h.env)h.env=(function(){var i=navigator.userAgent.toLowerCase(),j=window.opera,k={ie:/*@cc_on!@*/false,opera:!!j&&j.version,webkit:i.indexOf(' applewebkit/')>-1,air:i.indexOf(' adobeair/')>-1,mac:i.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:i.indexOf('mobile')>-1,iOS:/(ipad|iphone|ipod)/.test(i),isCustomDomain:function(){if(!this.ie)return false;var n=document.domain,o=window.location.hostname;return n!=o&&n!='['+o+']';},secure:location.protocol=='https:'};k.gecko=navigator.product=='Gecko'&&!k.webkit&&!k.opera;var l=0;if(k.ie){l=parseFloat(i.match(/msie (\d+)/)[1]);k.ie8=!!document.documentMode;k.ie8Compat=document.documentMode==8;k.ie9Compat=document.documentMode==9;k.ie7Compat=l==7&&!document.documentMode||document.documentMode==7;k.ie6Compat=l<7||k.quirks;}if(k.gecko){var m=i.match(/rv:([\d\.]+)/);if(m){m=m[1].split('.');l=m[0]*10000+(m[1]||0)*100+ +(m[2]||0);}}if(k.opera)l=parseFloat(j.version());if(k.air)l=parseFloat(i.match(/ adobeair\/(\d+)/)[1]);if(k.webkit)l=parseFloat(i.match(/ applewebkit\/(\d+)/)[1]);k.version=l;k.isCompatible=k.iOS&&l>=534||!k.mobile&&(k.ie&&l>=6||k.gecko&&l>=10801||k.opera&&l>=9.5||k.air&&l>=1||k.webkit&&l>=522||false);k.cssClass='cke_browser_'+(k.ie?'ie':k.gecko?'gecko':k.opera?'opera':k.webkit?'webkit':'unknown');
if(k.quirks)k.cssClass+=' cke_browser_quirks';if(k.ie){k.cssClass+=' cke_browser_ie'+(k.version<7?'6':k.version>=8?document.documentMode:'7');if(k.quirks)k.cssClass+=' cke_browser_iequirks';if(document.documentMode&&document.documentMode>=9)k.cssClass+=' cke_browser_ie9plus';}if(k.gecko&&l<10900)k.cssClass+=' cke_browser_gecko18';if(k.air)k.cssClass+=' cke_browser_air';return k;})();var i=h.env;var j=i.ie;if(h.status=='unloaded')(function(){h.event.implementOn(h);h.loadFullCore=function(){if(h.status!='basic_ready'){h.loadFullCore._load=1;return;}delete h.loadFullCore;var l=document.createElement('script');l.type='text/javascript';l.src=h.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(l);};h.loadFullCoreTimeout=0;h.replaceClass='ckeditor';h.replaceByClassEnabled=1;var k=function(l,m,n,o){if(i.isCompatible){if(h.loadFullCore)h.loadFullCore();var p=n(l,m,o);h.add(p);return p;}return null;};h.replace=function(l,m){return k(l,m,h.editor.replace);};h.appendTo=function(l,m,n){return k(l,m,h.editor.appendTo,n);};h.add=function(l){var m=this._.pending||(this._.pending=[]);m.push(l);};h.replaceAll=function(){var l=document.getElementsByTagName('textarea');for(var m=0;m<l.length;m++){var n=null,o=l[m];if(!o.name&&!o.id)continue;if(typeof arguments[0]=='string'){var p=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!p.test(o.className))continue;}else if(typeof arguments[0]=='function'){n={};if(arguments[0](o,n)===false)continue;}this.replace(o,n);}};(function(){var l=function(){var m=h.loadFullCore,n=h.loadFullCoreTimeout;if(h.replaceByClassEnabled)h.replaceAll(h.replaceClass);h.status='basic_ready';if(m&&m._load)m();else if(n)setTimeout(function(){if(h.loadFullCore)h.loadFullCore();},n*1000);};if(window.addEventListener)window.addEventListener('load',l,false);else if(window.attachEvent)window.attachEvent('onload',l);})();h.status='basic_loaded';})();h.dom={};var k=h.dom;(function(){var l=[];h.on('reset',function(){l=[];});h.tools={arrayCompare:function(m,n){if(!m&&!n)return true;if(!m||!n||m.length!=n.length)return false;for(var o=0;o<m.length;o++){if(m[o]!=n[o])return false;}return true;},clone:function(m){var n;if(m&&m instanceof Array){n=[];for(var o=0;o<m.length;o++)n[o]=this.clone(m[o]);return n;}if(m===null||typeof m!='object'||m instanceof String||m instanceof Number||m instanceof Boolean||m instanceof Date||m instanceof RegExp)return m;n=new m.constructor();for(var p in m){var q=m[p];n[p]=this.clone(q);}return n;},capitalize:function(m){return m.charAt(0).toUpperCase()+m.substring(1).toLowerCase();
},extend:function(m){var n=arguments.length,o,p;if(typeof (o=arguments[n-1])=='boolean')n--;else if(typeof (o=arguments[n-2])=='boolean'){p=arguments[n-1];n-=2;}for(var q=1;q<n;q++){var r=arguments[q];for(var s in r){if(o===true||m[s]==undefined)if(!p||s in p)m[s]=r[s];}}return m;},prototypedCopy:function(m){var n=function(){};n.prototype=m;return new n();},isArray:function(m){return!!m&&m instanceof Array;},isEmpty:function(m){for(var n in m){if(m.hasOwnProperty(n))return false;}return true;},cssStyleToDomStyle:(function(){var m=document.createElement('div').style,n=typeof m.cssFloat!='undefined'?'cssFloat':typeof m.styleFloat!='undefined'?'styleFloat':'float';return function(o){if(o=='float')return n;else return o.replace(/-./g,function(p){return p.substr(1).toUpperCase();});};})(),buildStyleHtml:function(m){m=[].concat(m);var n,o=[];for(var p=0;p<m.length;p++){n=m[p];if(/@import|[{}]/.test(n))o.push('<style>'+n+'</style>');else o.push('<link type="text/css" rel=stylesheet href="'+n+'">');}return o.join('');},htmlEncode:function(m){var n=function(r){var s=new k.element('span');s.setText(r);return s.getHtml();},o=n('\n').toLowerCase()=='<br>'?function(r){return n(r).replace(/<br>/gi,'\n');}:n,p=n('>')=='>'?function(r){return o(r).replace(/>/g,'&gt;');}:o,q=n('  ')=='&nbsp; '?function(r){return p(r).replace(/&nbsp;/g,' ');}:p;this.htmlEncode=q;return this.htmlEncode(m);},htmlEncodeAttr:function(m){return m.replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},getNextNumber:(function(){var m=0;return function(){return++m;};})(),getNextId:function(){return 'cke_'+this.getNextNumber();},override:function(m,n){return n(m);},setTimeout:function(m,n,o,p,q){if(!q)q=window;if(!o)o=q;return q.setTimeout(function(){if(p)m.apply(o,[].concat(p));else m.apply(o);},n||0);},trim:(function(){var m=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(n){return n.replace(m,'');};})(),ltrim:(function(){var m=/^[ \t\n\r]+/g;return function(n){return n.replace(m,'');};})(),rtrim:(function(){var m=/[ \t\n\r]+$/g;return function(n){return n.replace(m,'');};})(),indexOf:Array.prototype.indexOf?function(m,n){return m.indexOf(n);}:function(m,n){for(var o=0,p=m.length;o<p;o++){if(m[o]===n)return o;}return-1;},bind:function(m,n){return function(){return m.apply(n,arguments);};},createClass:function(m){var n=m.$,o=m.base,p=m.privates||m._,q=m.proto,r=m.statics;if(p){var s=n;n=function(){var w=this;var t=w._||(w._={});for(var u in p){var v=p[u];t[u]=typeof v=='function'?h.tools.bind(v,w):v;
}s.apply(w,arguments);};}if(o){n.prototype=this.prototypedCopy(o.prototype);n.prototype['constructor']=n;n.prototype.base=function(){this.base=o.prototype.base;o.apply(this,arguments);this.base=arguments.callee;};}if(q)this.extend(n.prototype,q,true);if(r)this.extend(n,r,true);return n;},addFunction:function(m,n){return l.push(function(){return m.apply(n||this,arguments);})-1;},removeFunction:function(m){l[m]=null;},callFunction:function(m){var n=l[m];return n&&n.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){return function(m){return m+(!m||isNaN(Number(m))?'':'px');};})(),convertToPx:(function(){var m;return function(n){if(!m){m=k.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',h.document);h.document.getBody().append(m);}if(!/%$/.test(n)){m.setStyle('width',n);return m.$.clientWidth;}return n;};})(),repeat:function(m,n){return new Array(n+1).join(m);},tryThese:function(){var m;for(var n=0,o=arguments.length;n<o;n++){var p=arguments[n];try{m=p();break;}catch(q){}}return m;},genKey:function(){return Array.prototype.slice.call(arguments).join('-');},normalizeCssText:function(m,n){var o=[],p,q=h.tools.parseCssText(m,true,n);for(p in q)o.push(p+':'+q[p]);o.sort();return o.length?o.join(';')+';':'';},convertRgbToHex:function(m){return m.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(n,o,p,q){var r=[o,p,q];for(var s=0;s<3;s++)r[s]=('0'+parseInt(r[s],10).toString(16)).slice(-2);return '#'+r.join('');});},parseCssText:function(m,n,o){var p={};if(o){var q=new k.element('span');q.setAttribute('style',m);m=h.tools.convertRgbToHex(q.getAttribute('style')||'');}if(!m||m==';')return p;m.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(r,s,t){if(n){s=s.toLowerCase();if(s=='font-family')t=t.toLowerCase().replace(/["']/g,'').replace(/\s*,\s*/g,',');t=h.tools.trim(t);}p[s]=t;});return p;}};})();var l=h.tools;h.dtd=(function(){var m=l.extend,n={isindex:1,fieldset:1},o={input:1,button:1,select:1,textarea:1,label:1},p=m({a:1},o),q=m({iframe:1},p),r={hr:1,ul:1,menu:1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,mark:1,time:1,meter:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},s={ins:1,del:1,script:1,style:1},t=m({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1,wbr:1},s),u=m({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1,mark:1},t),v=m({p:1},u),w=m({iframe:1},u,o),x={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,mark:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},y=m({a:1},w),z={tr:1},A={'#':1},B=m({param:1},x),C=m({form:1},n,q,r,v),D={li:1},E={style:1,script:1},F={base:1,link:1,meta:1,title:1},G=m(F,E),H={head:1,body:1},I={html:1},J={address:1,blockquote:1,center:1,dir:1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};
return{$nonBodyContent:m(I,H,F),$block:J,$blockLimit:{body:1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,td:1,th:1,caption:1,form:1},$inline:y,$body:m({script:1,style:1},J),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1,wbr:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1,audio:1,video:1},$captionBlock:{caption:1,legend:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1,mark:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:H,head:G,style:A,script:A,body:C,base:{},link:{},meta:{},title:A,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:C,td:C,br:{},wbr:{},th:C,center:C,kbd:y,button:m(v,r),basefont:{},h5:y,h4:y,samp:y,h6:y,ol:D,h1:y,h3:y,option:A,h2:y,form:m(n,q,r,v),select:{optgroup:1,option:1},font:y,ins:y,menu:D,abbr:y,label:y,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:y,tfoot:z,cite:y,li:C,input:{},iframe:C,strong:y,textarea:A,noframes:C,big:y,small:y,span:y,hr:{},dt:y,sub:y,optgroup:{option:1},param:{},bdo:y,'var':y,div:C,object:B,sup:y,dd:C,strike:y,area:{},dir:D,map:m({area:1,form:1,p:1},n,s,r),applet:B,dl:{dt:1,dd:1},del:y,isindex:{},fieldset:m({legend:1},x),thead:z,ul:D,acronym:y,b:y,a:w,blockquote:C,caption:y,i:y,u:y,tbody:z,s:y,address:m(q,v),tt:y,legend:y,q:y,pre:m(t,p),p:y,em:y,dfn:y,section:C,header:C,footer:C,nav:C,article:C,aside:C,figure:C,dialog:C,hgroup:C,mark:y,time:y,meter:y,menu:y,command:y,keygen:y,output:y,progress:B,audio:B,video:B,details:B,datagrid:B,datalist:B};})();var m=h.dtd;k.event=function(n){this.$=n;};k.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var o=this;var n=o.getKey();if(o.$.ctrlKey||o.$.metaKey)n+=1000;if(o.$.shiftKey)n+=2000;if(o.$.altKey)n+=4000;return n;},preventDefault:function(n){var o=this.$;if(o.preventDefault)o.preventDefault();else o.returnValue=false;if(n)this.stopPropagation();},stopPropagation:function(){var n=this.$;if(n.stopPropagation)n.stopPropagation();else n.cancelBubble=true;
},getTarget:function(){var n=this.$.target||this.$.srcElement;return n?new k.node(n):null;},getPageOffset:function(){var q=this;var n=q.getTarget().getDocument().$,o=q.$.pageX||q.$.clientX+(n.documentElement.scrollLeft||n.body.scrollLeft),p=q.$.pageY||q.$.clientY+(n.documentElement.scrollTop||n.body.scrollTop);return{x:o,y:p};}};h.CTRL=1114112;h.SHIFT=2228224;h.ALT=4456448;k.domObject=function(n){if(n)this.$=n;};k.domObject.prototype=(function(){var n=function(o,p){return function(q){if(typeof h!='undefined')o.fire(p,new k.event(q));};};return{getPrivate:function(){var o;if(!(o=this.getCustomData('_')))this.setCustomData('_',o={});return o;},on:function(o){var r=this;var p=r.getCustomData('_cke_nativeListeners');if(!p){p={};r.setCustomData('_cke_nativeListeners',p);}if(!p[o]){var q=p[o]=n(r,o);if(r.$.addEventListener)r.$.addEventListener(o,q,!!h.event.useCapture);else if(r.$.attachEvent)r.$.attachEvent('on'+o,q);}return h.event.prototype.on.apply(r,arguments);},removeListener:function(o){var r=this;h.event.prototype.removeListener.apply(r,arguments);if(!r.hasListeners(o)){var p=r.getCustomData('_cke_nativeListeners'),q=p&&p[o];if(q){if(r.$.removeEventListener)r.$.removeEventListener(o,q,false);else if(r.$.detachEvent)r.$.detachEvent('on'+o,q);delete p[o];}}},removeAllListeners:function(){var r=this;var o=r.getCustomData('_cke_nativeListeners');for(var p in o){var q=o[p];if(r.$.detachEvent)r.$.detachEvent('on'+p,q);else if(r.$.removeEventListener)r.$.removeEventListener(p,q,false);delete o[p];}}};})();(function(n){var o={};h.on('reset',function(){o={};});n.equals=function(p){return p&&p.$===this.$;};n.setCustomData=function(p,q){var r=this.getUniqueId(),s=o[r]||(o[r]={});s[p]=q;return this;};n.getCustomData=function(p){var q=this.$['data-cke-expando'],r=q&&o[q];return r&&r[p];};n.removeCustomData=function(p){var q=this.$['data-cke-expando'],r=q&&o[q],s=r&&r[p];if(typeof s!='undefined')delete r[p];return s||null;};n.clearCustomData=function(){this.removeAllListeners();var p=this.$['data-cke-expando'];p&&delete o[p];};n.getUniqueId=function(){return this.$['data-cke-expando']||(this.$['data-cke-expando']=l.getNextNumber());};h.event.implementOn(n);})(k.domObject.prototype);k.window=function(n){k.domObject.call(this,n);};k.window.prototype=new k.domObject();l.extend(k.window.prototype,{focus:function(){if(i.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},getViewPaneSize:function(){var n=this.$.document,o=n.compatMode=='CSS1Compat';return{width:(o?n.documentElement.clientWidth:n.body.clientWidth)||0,height:(o?n.documentElement.clientHeight:n.body.clientHeight)||0};
},getScrollPosition:function(){var n=this.$;if('pageXOffset' in n)return{x:n.pageXOffset||0,y:n.pageYOffset||0};else{var o=n.document;return{x:o.documentElement.scrollLeft||o.body.scrollLeft||0,y:o.documentElement.scrollTop||o.body.scrollTop||0};}}});k.document=function(n){k.domObject.call(this,n);};var n=k.document;n.prototype=new k.domObject();l.extend(n.prototype,{appendStyleSheet:function(o){if(this.$.createStyleSheet)this.$.createStyleSheet(o);else{var p=new k.element('link');p.setAttributes({rel:'stylesheet',type:'text/css',href:o});this.getHead().append(p);}},appendStyleText:function(o){var r=this;if(r.$.createStyleSheet){var p=r.$.createStyleSheet('');p.cssText=o;}else{var q=new k.element('style',r);q.append(new k.text(o,r));r.getHead().append(q);}},createElement:function(o,p){var q=new k.element(o,this);if(p){if(p.attributes)q.setAttributes(p.attributes);if(p.styles)q.setStyles(p.styles);}return q;},createText:function(o){return new k.text(o,this);},focus:function(){this.getWindow().focus();},getById:function(o){var p=this.$.getElementById(o);return p?new k.element(p):null;},getByAddress:function(o,p){var q=this.$.documentElement;for(var r=0;q&&r<o.length;r++){var s=o[r];if(!p){q=q.childNodes[s];continue;}var t=-1;for(var u=0;u<q.childNodes.length;u++){var v=q.childNodes[u];if(p===true&&v.nodeType==3&&v.previousSibling&&v.previousSibling.nodeType==3)continue;t++;if(t==s){q=v;break;}}}return q?new k.node(q):null;},getElementsByTag:function(o,p){if(!(j&&!(document.documentMode>8))&&p)o=p+':'+o;return new k.nodeList(this.$.getElementsByTagName(o));},getHead:function(){var o=this.$.getElementsByTagName('head')[0];if(!o)o=this.getDocumentElement().append(new k.element('head'),true);else o=new k.element(o);return(this.getHead=function(){return o;})();},getBody:function(){var o=new k.element(this.$.body);return(this.getBody=function(){return o;})();},getDocumentElement:function(){var o=new k.element(this.$.documentElement);return(this.getDocumentElement=function(){return o;})();},getWindow:function(){var o=new k.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return o;})();},write:function(o){var p=this;p.$.open('text/html','replace');i.isCustomDomain()&&(p.$.domain=document.domain);p.$.write(o);p.$.close();}});k.node=function(o){if(o){var p=o.nodeType==9?'document':o.nodeType==1?'element':o.nodeType==3?'text':o.nodeType==8?'comment':'domObject';return new k[p](o);}return this;};k.node.prototype=new k.domObject();h.NODE_ELEMENT=1;
h.NODE_DOCUMENT=9;h.NODE_TEXT=3;h.NODE_COMMENT=8;h.NODE_DOCUMENT_FRAGMENT=11;h.POSITION_IDENTICAL=0;h.POSITION_DISCONNECTED=1;h.POSITION_FOLLOWING=2;h.POSITION_PRECEDING=4;h.POSITION_IS_CONTAINED=8;h.POSITION_CONTAINS=16;l.extend(k.node.prototype,{appendTo:function(o,p){o.append(this,p);return o;},clone:function(o,p){var q=this.$.cloneNode(o),r=function(s){if(s.nodeType!=1)return;if(!p)s.removeAttribute('id',false);s['data-cke-expando']=undefined;if(o){var t=s.childNodes;for(var u=0;u<t.length;u++)r(t[u]);}};r(q);return new k.node(q);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(o){o.$.parentNode.insertBefore(this.$,o.$.nextSibling);return o;},insertBefore:function(o){o.$.parentNode.insertBefore(this.$,o.$);return o;},insertBeforeMe:function(o){this.$.parentNode.insertBefore(o.$,this.$);return o;},getAddress:function(o){var p=[],q=this.getDocument().$.documentElement,r=this.$;while(r&&r!=q){var s=r.parentNode;if(s)p.unshift(this.getIndex.call({$:r},o));r=s;}return p;},getDocument:function(){return new n(this.$.ownerDocument||this.$.parentNode.ownerDocument);},getIndex:function(o){var p=this.$,q=0;while(p=p.previousSibling){if(o&&p.nodeType==3&&(!p.nodeValue.length||p.previousSibling&&p.previousSibling.nodeType==3))continue;q++;}return q;},getNextSourceNode:function(o,p,q){if(q&&!q.call){var r=q;q=function(u){return!u.equals(r);};}var s=!o&&this.getFirst&&this.getFirst(),t;if(!s){if(this.type==1&&q&&q(this,true)===false)return null;s=this.getNext();}while(!s&&(t=(t||this).getParent())){if(q&&q(t,true)===false)return null;s=t.getNext();}if(!s)return null;if(q&&q(s)===false)return null;if(p&&p!=s.type)return s.getNextSourceNode(false,p,q);return s;},getPreviousSourceNode:function(o,p,q){if(q&&!q.call){var r=q;q=function(u){return!u.equals(r);};}var s=!o&&this.getLast&&this.getLast(),t;if(!s){if(this.type==1&&q&&q(this,true)===false)return null;s=this.getPrevious();}while(!s&&(t=(t||this).getParent())){if(q&&q(t,true)===false)return null;s=t.getPrevious();}if(!s)return null;if(q&&q(s)===false)return null;if(p&&s.type!=p)return s.getPreviousSourceNode(false,p,q);return s;},getPrevious:function(o){var p=this.$,q;do{p=p.previousSibling;q=p&&p.nodeType!=10&&new k.node(p);}while(q&&o&&!o(q))return q;},getNext:function(o){var p=this.$,q;do{p=p.nextSibling;q=p&&new k.node(p);}while(q&&o&&!o(q))return q;},getParent:function(){var o=this.$.parentNode;return o&&o.nodeType==1?new k.node(o):null;
},getParents:function(o){var p=this,q=[];do q[o?'push':'unshift'](p);while(p=p.getParent())return q;},getCommonAncestor:function(o){var q=this;if(o.equals(q))return q;if(o.contains&&o.contains(q))return o;var p=q.contains?q:q.getParent();do{if(p.contains(o))return p;}while(p=p.getParent())return null;},getPosition:function(o){var p=this.$,q=o.$;if(p.compareDocumentPosition)return p.compareDocumentPosition(q);if(p==q)return 0;if(this.type==1&&o.type==1){if(p.contains){if(p.contains(q))return 16+4;if(q.contains(p))return 8+2;}if('sourceIndex' in p)return p.sourceIndex<0||q.sourceIndex<0?1:p.sourceIndex<q.sourceIndex?4:2;}var r=this.getAddress(),s=o.getAddress(),t=Math.min(r.length,s.length);for(var u=0;u<=t-1;u++){if(r[u]!=s[u]){if(u<t)return r[u]<s[u]?4:2;break;}}return r.length<s.length?16+4:8+2;},getAscendant:function(o,p){var q=this.$,r;if(!p)q=q.parentNode;while(q){if(q.nodeName&&(r=q.nodeName.toLowerCase(),typeof o=='string'?r==o:r in o))return new k.node(q);q=q.parentNode;}return null;},hasAscendant:function(o,p){var q=this.$;if(!p)q=q.parentNode;while(q){if(q.nodeName&&q.nodeName.toLowerCase()==o)return true;q=q.parentNode;}return false;},move:function(o,p){o.append(this.remove(),p);},remove:function(o){var p=this.$,q=p.parentNode;if(q){if(o)for(var r;r=p.firstChild;)q.insertBefore(p.removeChild(r),p);q.removeChild(p);}return this;},replace:function(o){this.insertBefore(o);o.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var r=this;var o;while(r.getFirst&&(o=r.getFirst())){if(o.type==3){var p=l.ltrim(o.getText()),q=o.getLength();if(!p){o.remove();continue;}else if(p.length<q){o.split(q-p.length);r.$.removeChild(r.$.firstChild);}}break;}},rtrim:function(){var r=this;var o;while(r.getLast&&(o=r.getLast())){if(o.type==3){var p=l.rtrim(o.getText()),q=o.getLength();if(!p){o.remove();continue;}else if(p.length<q){o.split(p.length);r.$.lastChild.parentNode.removeChild(r.$.lastChild);}}break;}if(!j&&!i.opera){o=r.$.lastChild;if(o&&o.type==1&&o.nodeName.toLowerCase()=='br')o.parentNode.removeChild(o);}},isReadOnly:function(){var o=this;if(this.type!=1)o=this.getParent();if(o&&typeof o.$.isContentEditable!='undefined')return!(o.$.isContentEditable||o.data('cke-editable'));else{var p=o;while(p){if(p.is('body')||!!p.data('cke-editable'))break;if(p.getAttribute('contentEditable')=='false')return true;else if(p.getAttribute('contentEditable')=='true')break;p=p.getParent();}return false;}}});k.nodeList=function(o){this.$=o;};k.nodeList.prototype={count:function(){return this.$.length;
},getItem:function(o){var p=this.$[o];return p?new k.node(p):null;}};k.element=function(o,p){if(typeof o=='string')o=(p?p.$:document).createElement(o);k.domObject.call(this,o);};var o=k.element;o.get=function(p){return p&&(p.$?p:new o(p));};o.prototype=new k.node();o.createFromHtml=function(p,q){var r=new o('div',q);r.setHtml(p);return r.getFirst().remove();};o.setMarker=function(p,q,r,s){var t=q.getCustomData('list_marker_id')||q.setCustomData('list_marker_id',l.getNextNumber()).getCustomData('list_marker_id'),u=q.getCustomData('list_marker_names')||q.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');p[t]=q;u[r]=1;return q.setCustomData(r,s);};o.clearAllMarkers=function(p){for(var q in p)o.clearMarkers(p,p[q],1);};o.clearMarkers=function(p,q,r){var s=q.getCustomData('list_marker_names'),t=q.getCustomData('list_marker_id');for(var u in s)q.removeCustomData(u);q.removeCustomData('list_marker_names');if(r){q.removeCustomData('list_marker_id');delete p[t];}};(function(){l.extend(o.prototype,{type:1,addClass:function(s){var t=this.$.className;if(t){var u=new RegExp('(?:^|\\s)'+s+'(?:\\s|$)','');if(!u.test(t))t+=' '+s;}this.$.className=t||s;},removeClass:function(s){var t=this.getAttribute('class');if(t){var u=new RegExp('(?:^|\\s+)'+s+'(?=\\s|$)','i');if(u.test(t)){t=t.replace(u,'').replace(/^\s+/,'');if(t)this.setAttribute('class',t);else this.removeAttribute('class');}}},hasClass:function(s){var t=new RegExp('(?:^|\\s+)'+s+'(?=\\s|$)','');return t.test(this.getAttribute('class'));},append:function(s,t){var u=this;if(typeof s=='string')s=u.getDocument().createElement(s);if(t)u.$.insertBefore(s.$,u.$.firstChild);else u.$.appendChild(s.$);return s;},appendHtml:function(s){var u=this;if(!u.$.childNodes.length)u.setHtml(s);else{var t=new o('div',u.getDocument());t.setHtml(s);t.moveChildren(u);}},appendText:function(s){if(this.$.text!=undefined)this.$.text+=s;else this.append(new k.text(s));},appendBogus:function(){var u=this;var s=u.getLast();while(s&&s.type==3&&!l.rtrim(s.getText()))s=s.getPrevious();if(!s||!s.is||!s.is('br')){var t=i.opera?u.getDocument().createText(''):u.getDocument().createElement('br');i.gecko&&t.setAttribute('type','_moz');u.append(t);}},breakParent:function(s){var v=this;var t=new k.range(v.getDocument());t.setStartAfter(v);t.setEndAfter(s);var u=t.extractContents();t.insertNode(v.remove());u.insertAfterNode(v);},contains:j||i.webkit?function(s){var t=this.$;return s.type!=1?t.contains(s.getParent().$):t!=s.$&&t.contains(s.$);
}:function(s){return!!(this.$.compareDocumentPosition(s.$)&16);},focus:(function(){function s(){try{this.$.focus();}catch(t){}};return function(t){if(t)l.setTimeout(s,100,this);else s.call(this);};})(),getHtml:function(){var s=this.$.innerHTML;return j?s.replace(/<\?[^>]*>/g,''):s;},getOuterHtml:function(){var t=this;if(t.$.outerHTML)return t.$.outerHTML.replace(/<\?[^>]*>/,'');var s=t.$.ownerDocument.createElement('div');s.appendChild(t.$.cloneNode(true));return s.innerHTML;},setHtml:function(s){return this.$.innerHTML=s;},setText:function(s){o.prototype.setText=this.$.innerText!=undefined?function(t){return this.$.innerText=t;}:function(t){return this.$.textContent=t;};return this.setText(s);},getAttribute:(function(){var s=function(t){return this.$.getAttribute(t,2);};if(j&&(i.ie7Compat||i.ie6Compat))return function(t){var x=this;switch(t){case 'class':t='className';break;case 'http-equiv':t='httpEquiv';break;case 'name':return x.$.name;case 'tabindex':var u=s.call(x,t);if(u!==0&&x.$.tabIndex===0)u=null;return u;break;case 'checked':var v=x.$.attributes.getNamedItem(t),w=v.specified?v.nodeValue:x.$.checked;return w?'checked':null;case 'hspace':case 'value':return x.$[t];case 'style':return x.$.style.cssText;case 'contenteditable':case 'contentEditable':return x.$.attributes.getNamedItem('contentEditable').specified?x.$.getAttribute('contentEditable'):null;}return s.call(x,t);};else return s;})(),getChildren:function(){return new k.nodeList(this.$.childNodes);},getComputedStyle:j?function(s){return this.$.currentStyle[l.cssStyleToDomStyle(s)];}:function(s){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(s):'';},getDtd:function(){var s=m[this.getName()];this.getDtd=function(){return s;};return s;},getElementsByTag:n.prototype.getElementsByTag,getTabIndex:j?function(){var s=this.$.tabIndex;if(s===0&&!m.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)s=-1;return s;}:i.webkit?function(){var s=this.$.tabIndex;if(s==undefined){s=parseInt(this.getAttribute('tabindex'),10);if(isNaN(s))s=-1;}return s;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var s=this.$.nodeName.toLowerCase();if(j&&!(document.documentMode>8)){var t=this.$.scopeName;if(t!='HTML')s=t.toLowerCase()+':'+s;}return(this.getName=function(){return s;
})();},getValue:function(){return this.$.value;},getFirst:function(s){var t=this.$.firstChild,u=t&&new k.node(t);if(u&&s&&!s(u))u=u.getNext(s);return u;},getLast:function(s){var t=this.$.lastChild,u=t&&new k.node(t);if(u&&s&&!s(u))u=u.getPrevious(s);return u;},getStyle:function(s){return this.$.style[l.cssStyleToDomStyle(s)];},is:function(){var s=this.getName();for(var t=0;t<arguments.length;t++){if(arguments[t]==s)return true;}return false;},isEditable:function(s){var v=this;var t=v.getName();if(v.isReadOnly()||v.getComputedStyle('display')=='none'||v.getComputedStyle('visibility')=='hidden'||v.is('a')&&v.data('cke-saved-name')&&!v.getChildCount()||m.$nonEditable[t]||m.$empty[t])return false;if(s!==false){var u=m[t]||m.span;return u&&u['#'];}return true;},isIdentical:function(s){if(this.getName()!=s.getName())return false;var t=this.$.attributes,u=s.$.attributes,v=t.length,w=u.length;for(var x=0;x<v;x++){var y=t[x];if(y.nodeName=='_moz_dirty')continue;if((!j||y.specified&&y.nodeName!='data-cke-expando')&&y.nodeValue!=s.getAttribute(y.nodeName))return false;}if(j)for(x=0;x<w;x++){y=u[x];if(y.specified&&y.nodeName!='data-cke-expando'&&y.nodeValue!=this.getAttribute(y.nodeName))return false;}return true;},isVisible:function(){var v=this;var s=(v.$.offsetHeight||v.$.offsetWidth)&&v.getComputedStyle('visibility')!='hidden',t,u;if(s&&(i.webkit||i.opera)){t=v.getWindow();if(!t.equals(h.document.getWindow())&&(u=t.$.frameElement))s=new o(u).isVisible();}return!!s;},isEmptyInlineRemoveable:function(){if(!m.$removeEmpty[this.getName()])return false;var s=this.getChildren();for(var t=0,u=s.count();t<u;t++){var v=s.getItem(t);if(v.type==1&&v.data('cke-bookmark'))continue;if(v.type==1&&!v.isEmptyInlineRemoveable()||v.type==3&&l.trim(v.getText()))return false;}return true;},hasAttributes:j&&(i.ie7Compat||i.ie6Compat)?function(){var s=this.$.attributes;for(var t=0;t<s.length;t++){var u=s[t];switch(u.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'data-cke-expando':continue;default:if(u.specified)return true;}}return false;}:function(){var s=this.$.attributes,t=s.length,u={'data-cke-expando':1,_moz_dirty:1};return t>0&&(t>2||!u[s[0].nodeName]||t==2&&!u[s[1].nodeName]);},hasAttribute:(function(){function s(t){var u=this.$.attributes.getNamedItem(t);return!!(u&&u.specified);};return j&&i.version<8?function(t){if(t=='name')return!!this.$.name;return s.call(this,t);}:s;})(),hide:function(){this.setStyle('display','none');},moveChildren:function(s,t){var u=this.$;
s=s.$;if(u==s)return;var v;if(t)while(v=u.lastChild)s.insertBefore(u.removeChild(v),s.firstChild);else while(v=u.firstChild)s.appendChild(u.removeChild(v));},mergeSiblings:(function(){function s(t,u,v){if(u&&u.type==1){var w=[];while(u.data('cke-bookmark')||u.isEmptyInlineRemoveable()){w.push(u);u=v?u.getNext():u.getPrevious();if(!u||u.type!=1)return;}if(t.isIdentical(u)){var x=v?t.getLast():t.getFirst();while(w.length)w.shift().move(t,!v);u.moveChildren(t,!v);u.remove();if(x&&x.type==1)x.mergeSiblings();}}};return function(t){var u=this;if(!(t===false||m.$removeEmpty[u.getName()]||u.is('a')))return;s(u,u.getNext(),true);s(u,u.getPrevious());};})(),show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var s=function(t,u){this.$.setAttribute(t,u);return this;};if(j&&(i.ie7Compat||i.ie6Compat))return function(t,u){var v=this;if(t=='class')v.$.className=u;else if(t=='style')v.$.style.cssText=u;else if(t=='tabindex')v.$.tabIndex=u;else if(t=='checked')v.$.checked=u;else if(t=='contenteditable')s.call(v,'contentEditable',u);else s.apply(v,arguments);return v;};else if(i.ie8Compat&&i.secure)return function(t,u){if(t=='src'&&u.match(/^http:\/\//))try{s.apply(this,arguments);}catch(v){}else s.apply(this,arguments);return this;};else return s;})(),setAttributes:function(s){for(var t in s)this.setAttribute(t,s[t]);return this;},setValue:function(s){this.$.value=s;return this;},removeAttribute:(function(){var s=function(t){this.$.removeAttribute(t);};if(j&&(i.ie7Compat||i.ie6Compat))return function(t){if(t=='class')t='className';else if(t=='tabindex')t='tabIndex';else if(t=='contenteditable')t='contentEditable';s.call(this,t);};else return s;})(),removeAttributes:function(s){if(l.isArray(s))for(var t=0;t<s.length;t++)this.removeAttribute(s[t]);else for(var u in s)s.hasOwnProperty(u)&&this.removeAttribute(u);},removeStyle:function(s){var w=this;var t=w.$.style;if(!t.removeProperty&&(s=='border'||s=='margin'||s=='padding')){var u=q(s);for(var v=0;v<u.length;v++)w.removeStyle(u[v]);return;}t.removeProperty?t.removeProperty(s):t.removeAttribute(l.cssStyleToDomStyle(s));if(!w.$.style.cssText)w.removeAttribute('style');},setStyle:function(s,t){this.$.style[l.cssStyleToDomStyle(s)]=t;return this;},setStyles:function(s){for(var t in s)this.setStyle(t,s[t]);return this;},setOpacity:function(s){if(j&&i.version<9){s=Math.round(s*100);this.setStyle('filter',s>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+s+')');}else this.setStyle('opacity',s);
},unselectable:i.gecko?function(){this.$.style.MozUserSelect='none';this.on('dragstart',function(s){s.data.preventDefault();});}:i.webkit?function(){this.$.style.KhtmlUserSelect='none';this.on('dragstart',function(s){s.data.preventDefault();});}:function(){if(j||i.opera){var s=this.$,t=s.getElementsByTagName('*'),u,v=0;s.unselectable='on';while(u=t[v++])switch(u.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:u.unselectable='on';}}},getPositionedAncestor:function(){var s=this;while(s.getName()!='html'){if(s.getComputedStyle('position')!='static')return s;s=s.getParent();}return null;},getDocumentPosition:function(s){var N=this;var t=0,u=0,v=N.getDocument(),w=v.getBody(),x=v.$.compatMode=='BackCompat';if(document.documentElement.getBoundingClientRect){var y=N.$.getBoundingClientRect(),z=v.$,A=z.documentElement,B=A.clientTop||w.$.clientTop||0,C=A.clientLeft||w.$.clientLeft||0,D=true;if(j){var E=v.getDocumentElement().contains(N),F=v.getBody().contains(N);D=x&&F||!x&&E;}if(D){t=y.left+(!x&&A.scrollLeft||w.$.scrollLeft);t-=C;u=y.top+(!x&&A.scrollTop||w.$.scrollTop);u-=B;}}else{var G=N,H=null,I;while(G&&!(G.getName()=='body'||G.getName()=='html')){t+=G.$.offsetLeft-G.$.scrollLeft;u+=G.$.offsetTop-G.$.scrollTop;if(!G.equals(N)){t+=G.$.clientLeft||0;u+=G.$.clientTop||0;}var J=H;while(J&&!J.equals(G)){t-=J.$.scrollLeft;u-=J.$.scrollTop;J=J.getParent();}H=G;G=(I=G.$.offsetParent)?new o(I):null;}}if(s){var K=N.getWindow(),L=s.getWindow();if(!K.equals(L)&&K.$.frameElement){var M=new o(K.$.frameElement).getDocumentPosition(s);t+=M.x;u+=M.y;}}if(!document.documentElement.getBoundingClientRect)if(i.gecko&&!x){t+=N.$.clientLeft?1:0;u+=N.$.clientTop?1:0;}return{x:t,y:u};},scrollIntoView:function(s){var t=this.getParent();if(!t)return;do{var u=t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight;if(u)this.scrollIntoParent(t,s,1);if(t.is('html')){var v=t.getWindow();try{var w=v.$.frameElement;w&&(t=new o(w));}catch(x){}}}while(t=t.getParent())},scrollIntoParent:function(s,t,u){!s&&(s=this.getWindow());var v=s.getDocument(),w=v.$.compatMode=='BackCompat';if(s instanceof k.window)s=w?v.getBody():v.getDocumentElement();function x(J,K){if(/body|html/.test(s.getName()))s.getWindow().$.scrollBy(J,K);else{s.$.scrollLeft+=J;s.$.scrollTop+=K;}};function y(J,K){var L={x:0,y:0};if(!J.is(w?'body':'html')){var M=J.$.getBoundingClientRect();L.x=M.left,L.y=M.top;}var N=J.getWindow();if(!N.equals(K)){var O=y(o.get(N.$.frameElement),K);
L.x+=O.x,L.y+=O.y;}return L;};function z(J,K){return parseInt(J.getComputedStyle('margin-'+K)||0,10)||0;};var A=s.getWindow(),B=y(this,A),C=y(s,A),D=this.$.offsetHeight,E=this.$.offsetWidth,F=s.$.clientHeight,G=s.$.clientWidth,H,I;H={x:B.x-z(this,'left')-C.x||0,y:B.y-z(this,'top')-C.y||0};I={x:B.x+E+z(this,'right')-(C.x+G)||0,y:B.y+D+z(this,'bottom')-(C.y+F)||0};if(H.y<0||I.y>0)x(0,t===true?H.y:t===false?I.y:H.y<0?H.y:I.y);if(u&&(H.x<0||I.x>0))x(H.x<0?H.x:I.x,0);},setState:function(s){var t=this;switch(s){case 1:t.addClass('cke_on');t.removeClass('cke_off');t.removeClass('cke_disabled');break;case 0:t.addClass('cke_disabled');t.removeClass('cke_off');t.removeClass('cke_on');break;default:t.addClass('cke_off');t.removeClass('cke_on');t.removeClass('cke_disabled');break;}},getFrameDocument:function(){var s=this.$;try{s.contentWindow.document;}catch(t){s.src=s.src;if(j&&i.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")');}return s&&new n(s.contentWindow.document);},copyAttributes:function(s,t){var z=this;var u=z.$.attributes;t=t||{};for(var v=0;v<u.length;v++){var w=u[v],x=w.nodeName.toLowerCase(),y;if(x in t)continue;if(x=='checked'&&(y=z.getAttribute(x)))s.setAttribute(x,y);else if(w.specified||j&&w.nodeValue&&x=='value'){y=z.getAttribute(x);if(y===null)y=w.nodeValue;s.setAttribute(x,y);}}if(z.$.style.cssText!=='')s.$.style.cssText=z.$.style.cssText;},renameNode:function(s){var v=this;if(v.getName()==s)return;var t=v.getDocument(),u=new o(s,t);v.copyAttributes(u);v.moveChildren(u);v.getParent()&&v.$.parentNode.replaceChild(u.$,v.$);u.$['data-cke-expando']=v.$['data-cke-expando'];v.$=u.$;},getChild:function(s){var t=this.$;if(!s.slice)t=t.childNodes[s];else while(s.length>0&&t)t=t.childNodes[s.shift()];return t?new k.node(t):null;},getChildCount:function(){return this.$.childNodes.length;},disableContextMenu:function(){this.on('contextmenu',function(s){if(!s.data.getTarget().hasClass('cke_enable_context_menu'))s.data.preventDefault();});},getDirection:function(s){var t=this;return s?t.getComputedStyle('direction')||t.getDirection()||t.getDocument().$.dir||t.getDocument().getBody().getDirection(1):t.getStyle('direction')||t.getAttribute('dir');},data:function(s,t){s='data-'+s;if(t===undefined)return this.getAttribute(s);else if(t===false)this.removeAttribute(s);else this.setAttribute(s,t);return null;}});var p={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};
function q(s){var t=['top','left','right','bottom'],u;if(s=='border')u=['color','style','width'];var v=[];for(var w=0;w<t.length;w++){if(u)for(var x=0;x<u.length;x++)v.push([s,t[w],u[x]].join('-'));else v.push([s,t[w]].join('-'));}return v;};function r(s){var t=0;for(var u=0,v=p[s].length;u<v;u++)t+=parseInt(this.getComputedStyle(p[s][u])||0,10)||0;return t;};o.prototype.setSize=function(s,t,u){if(typeof t=='number'){if(u&&!(j&&i.quirks))t-=r.call(this,s);this.setStyle(s,t+'px');}};o.prototype.getSize=function(s,t){var u=Math.max(this.$['offset'+l.capitalize(s)],this.$['client'+l.capitalize(s)])||0;if(t)u-=r.call(this,s);return u;};})();h.command=function(p,q){this.uiItems=[];this.exec=function(r){var s=this;if(s.state==0)return false;if(s.editorFocus)p.focus();if(s.fire('exec')===true)return true;return q.exec.call(s,p,r)!==false;};this.refresh=function(){if(this.fire('refresh')===true)return true;return q.refresh&&q.refresh.apply(this,arguments)!==false;};l.extend(this,q,{modes:{wysiwyg:1},editorFocus:1,state:2});h.event.call(this);};h.command.prototype={enable:function(){var p=this;if(p.state==0)p.setState(!p.preserveState||typeof p.previousState=='undefined'?2:p.previousState);},disable:function(){this.setState(0);},setState:function(p){var q=this;if(q.state==p)return false;q.previousState=q.state;q.state=p;q.fire('state');return true;},toggleState:function(){var p=this;if(p.state==2)p.setState(1);else if(p.state==1)p.setState(2);}};h.event.implementOn(h.command.prototype,true);h.ENTER_P=1;h.ENTER_BR=2;h.ENTER_DIV=3;h.config={customConfig:'config.js',autoUpdateElement:true,baseHref:'',contentsCss:h.basePath+'contents.css',contentsLangDirection:'ui',contentsLanguage:'',language:'',defaultLanguage:'en',enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:'',bodyClass:'',fullPage:false,height:200,plugins:'about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,showblocks,showborders,smiley,sourcearea,specialchar,stylescombo,tab,table,tabletools,templates,toolbar,undo,wsc,wysiwygarea',extraPlugins:'',removePlugins:'',protectedSource:[],tabIndex:0,theme:'default',skin:'kama',width:'',baseFloatZIndex:10000};
var p=h.config;h.focusManager=function(q){if(q.focusManager)return q.focusManager;this.hasFocus=false;this._={editor:q};return this;};h.focusManager.prototype={focus:function(){var r=this;if(r._.timer)clearTimeout(r._.timer);if(!r.hasFocus){if(h.currentInstance)h.currentInstance.focusManager.forceBlur();var q=r._.editor;q.container.getChild(1).addClass('cke_focus');r.hasFocus=true;q.fire('focus');}},blur:function(){var q=this;if(q._.timer)clearTimeout(q._.timer);q._.timer=setTimeout(function(){delete q._.timer;q.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var q=this._.editor;q.container.getChild(1).removeClass('cke_focus');this.hasFocus=false;q.fire('blur');}}};(function(){var q={};h.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,'en-au':1,'en-ca':1,'en-gb':1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,'fr-ca':1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,'pt-br':1,pt:1,ro:1,ru:1,sk:1,sl:1,'sr-latn':1,sr:1,sv:1,th:1,tr:1,ug:1,uk:1,vi:1,'zh-cn':1,zh:1},load:function(r,s,t){if(!r||!h.lang.languages[r])r=this.detect(s,r);if(!this[r])h.scriptLoader.load(h.getUrl('lang/'+r+'.js'),function(){t(r,this[r]);},this);else t(r,this[r]);},detect:function(r,s){var t=this.languages;s=s||navigator.userLanguage||navigator.language||r;var u=s.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),v=u[1],w=u[2];if(t[v+'-'+w])v=v+'-'+w;else if(!t[v])v=null;h.lang.detect=v?function(){return v;}:function(x){return x;};return v||r;}};})();h.scriptLoader=(function(){var q={},r={};return{load:function(s,t,u,v){var w=typeof s=='string';if(w)s=[s];if(!u)u=h;var x=s.length,y=[],z=[],A=function(F){if(t)if(w)t.call(u,F);else t.call(u,y,z);};if(x===0){A(true);return;}var B=function(F,G){(G?y:z).push(F);if(--x<=0){v&&h.document.getDocumentElement().removeStyle('cursor');A(G);}},C=function(F,G){q[F]=1;var H=r[F];delete r[F];for(var I=0;I<H.length;I++)H[I](F,G);},D=function(F){if(q[F]){B(F,true);return;}var G=r[F]||(r[F]=[]);G.push(B);if(G.length>1)return;var H=new o('script');H.setAttributes({type:'text/javascript',src:F});if(t)if(j)H.$.onreadystatechange=function(){if(H.$.readyState=='loaded'||H.$.readyState=='complete'){H.$.onreadystatechange=null;C(F,true);}};else{H.$.onload=function(){setTimeout(function(){C(F,true);},0);};H.$.onerror=function(){C(F,false);};}H.appendTo(h.document.getHead());};v&&h.document.getDocumentElement().setStyle('cursor','wait');for(var E=0;E<x;E++)D(s[E]);}};})();h.resourceManager=function(q,r){var s=this;
s.basePath=q;s.fileName=r;s.registered={};s.loaded={};s.externals={};s._={waitingList:{}};};h.resourceManager.prototype={add:function(q,r){if(this.registered[q])throw '[CKEDITOR.resourceManager.add] The resource name "'+q+'" is already registered.';h.fire(q+l.capitalize(this.fileName)+'Ready',this.registered[q]=r||{});},get:function(q){return this.registered[q]||null;},getPath:function(q){var r=this.externals[q];return h.getUrl(r&&r.dir||this.basePath+q+'/');},getFilePath:function(q){var r=this.externals[q];return h.getUrl(this.getPath(q)+(r&&typeof r.file=='string'?r.file:this.fileName+'.js'));},addExternal:function(q,r,s){q=q.split(',');for(var t=0;t<q.length;t++){var u=q[t];this.externals[u]={dir:r,file:s};}},load:function(q,r,s){if(!l.isArray(q))q=q?[q]:[];var t=this.loaded,u=this.registered,v=[],w={},x={};for(var y=0;y<q.length;y++){var z=q[y];if(!z)continue;if(!t[z]&&!u[z]){var A=this.getFilePath(z);v.push(A);if(!(A in w))w[A]=[];w[A].push(z);}else x[z]=this.get(z);}h.scriptLoader.load(v,function(B,C){if(C.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+w[C[0]].join(',')+'" was not found at "'+C[0]+'".';for(var D=0;D<B.length;D++){var E=w[B[D]];for(var F=0;F<E.length;F++){var G=E[F];x[G]=this.get(G);t[G]=1;}}r.call(s,x);},this);}};h.plugins=new h.resourceManager('plugins/','plugin');var q=h.plugins;q.load=l.override(q.load,function(r){return function(s,t,u){var v={},w=function(x){r.call(this,x,function(y){l.extend(v,y);var z=[];for(var A in y){var B=y[A],C=B&&B.requires;if(C)for(var D=0;D<C.length;D++){if(!v[C[D]])z.push(C[D]);}}if(z.length)w.call(this,z);else{for(A in v){B=v[A];if(B.onLoad&&!B.onLoad._called){B.onLoad();B.onLoad._called=1;}}if(t)t.call(u||window,v);}},this);};w.call(this,s);};});q.setLang=function(r,s,t){var u=this.get(r),v=u.langEntries||(u.langEntries={}),w=u.lang||(u.lang=[]);if(l.indexOf(w,s)==-1)w.push(s);v[s]=t;};h.skins=(function(){var r={},s={},t=function(u,v,w,x){var y=r[v];if(!u.skin){u.skin=y;if(y.init)y.init(u);}var z=function(I){for(var J=0;J<I.length;J++)I[J]=h.getUrl(s[v]+I[J]);};function A(I,J){return I.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(K,L,M,N){if(/^\/|^\w?:/.test(M))return K;else return 'url('+J+L+M+N+')';});};w=y[w];var B=!w||!!w._isLoaded;if(B)x&&x();else{var C=w._pending||(w._pending=[]);C.push(x);if(C.length>1)return;var D=!w.css||!w.css.length,E=!w.js||!w.js.length,F=function(){if(D&&E){w._isLoaded=1;for(var I=0;I<C.length;I++){if(C[I])C[I]();}}};if(!D){var G=w.css;if(l.isArray(G)){z(G);
for(var H=0;H<G.length;H++)h.document.appendStyleSheet(G[H]);}else{G=A(G,h.getUrl(s[v]));h.document.appendStyleText(G);}w.css=G;D=1;}if(!E){z(w.js);h.scriptLoader.load(w.js,function(){E=1;F();});}F();}};return{add:function(u,v){r[u]=v;v.skinPath=s[u]||(s[u]=h.getUrl('skins/'+u+'/'));},load:function(u,v,w){var x=u.skinName,y=u.skinPath;if(r[x])t(u,x,v,w);else{s[x]=y;h.scriptLoader.load(h.getUrl(y+'skin.js'),function(){t(u,x,v,w);});}}};})();h.themes=new h.resourceManager('themes/','theme');h.ui=function(r){if(r.ui)return r.ui;this._={handlers:{},items:{},editor:r};return this;};var r=h.ui;r.prototype={add:function(s,t,u){this._.items[s]={type:t,command:u.command||null,args:Array.prototype.slice.call(arguments,2)};},create:function(s){var x=this;var t=x._.items[s],u=t&&x._.handlers[t.type],v=t&&t.command&&x._.editor.getCommand(t.command),w=u&&u.create.apply(x,t.args);t&&(w=l.extend(w,x._.editor.skin[t.type],true));if(v)v.uiItems.push(w);return w;},addHandler:function(s,t){this._.handlers[s]=t;}};h.event.implementOn(r);(function(){var s=0,t=function(){var E='editor'+ ++s;return h.instances&&h.instances[E]?t():E;},u={},v=function(E){var F=E.config.customConfig;if(!F)return false;F=h.getUrl(F);var G=u[F]||(u[F]={});if(G.fn){G.fn.call(E,E.config);if(h.getUrl(E.config.customConfig)==F||!v(E))E.fireOnce('customConfigLoaded');}else h.scriptLoader.load(F,function(){if(h.editorConfig)G.fn=h.editorConfig;else G.fn=function(){};v(E);});return true;},w=function(E,F){E.on('customConfigLoaded',function(){if(F){if(F.on)for(var G in F.on)E.on(G,F.on[G]);l.extend(E.config,F,true);delete E.config.on;}x(E);});if(F&&F.customConfig!=undefined)E.config.customConfig=F.customConfig;if(!v(E))E.fireOnce('customConfigLoaded');},x=function(E){var F=E.config.skin.split(','),G=F[0],H=h.getUrl(F[1]||'skins/'+G+'/');E.skinName=G;E.skinPath=H;E.skinClass='cke_skin_'+G;E.tabIndex=E.config.tabIndex||E.element.getAttribute('tabindex')||0;E.readOnly=!!(E.config.readOnly||E.element.getAttribute('disabled'));E.fireOnce('configLoaded');A(E);},y=function(E){h.lang.load(E.config.language,E.config.defaultLanguage,function(F,G){E.langCode=F;E.lang=l.prototypedCopy(G);if(i.gecko&&i.version<10900&&E.lang.dir=='rtl')E.lang.dir='ltr';E.fire('langLoaded');var H=E.config;H.contentsLangDirection=='ui'&&(H.contentsLangDirection=E.lang.dir);z(E);});},z=function(E){var F=E.config,G=F.plugins,H=F.extraPlugins,I=F.removePlugins;if(H){var J=new RegExp('(?:^|,)(?:'+H.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');G=G.replace(J,'');
G+=','+H;}if(I){J=new RegExp('(?:^|,)(?:'+I.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');G=G.replace(J,'');}i.air&&(G+=',adobeair');q.load(G.split(','),function(K){var L=[],M=[],N=[];E.plugins=K;for(var O in K){var P=K[O],Q=P.lang,R=q.getPath(O),S=null;P.path=R;if(Q){S=l.indexOf(Q,E.langCode)>=0?E.langCode:Q[0];if(!P.langEntries||!P.langEntries[S])N.push(h.getUrl(R+'lang/'+S+'.js'));else{l.extend(E.lang,P.langEntries[S]);S=null;}}M.push(S);L.push(P);}h.scriptLoader.load(N,function(){var T=['beforeInit','init','afterInit'];for(var U=0;U<T.length;U++)for(var V=0;V<L.length;V++){var W=L[V];if(U===0&&M[V]&&W.lang)l.extend(E.lang,W.langEntries[M[V]]);if(W[T[U]])W[T[U]](E);}E.fire('pluginsLoaded');B(E);});});},A=function(E){h.skins.load(E,'editor',function(){y(E);});},B=function(E){var F=E.config.theme;h.themes.load(F,function(){var G=E.theme=h.themes.get(F);G.path=h.themes.getPath(F);G.build(E);if(E.config.autoUpdateElement)C(E);});},C=function(E){var F=E.element;if(E.elementMode==1&&F.is('textarea')){var G=F.$.form&&new o(F.$.form);if(G){function H(){E.updateElement();};G.on('submit',H);if(!G.$.submit.nodeName&&!G.$.submit.length)G.$.submit=l.override(G.$.submit,function(I){return function(){E.updateElement();if(I.apply)I.apply(this,arguments);else I();};});E.on('destroy',function(){G.removeListener('submit',H);});}}};function D(){var E,F=this._.commands,G=this.mode;if(!G)return;for(var H in F){E=F[H];E[E.startDisabled?'disable':this.readOnly&&!E.readOnly?'disable':E.modes[G]?'enable':'disable']();}};h.editor.prototype._init=function(){var G=this;var E=o.get(G._.element),F=G._.instanceConfig;delete G._.element;delete G._.instanceConfig;G._.commands={};G._.styles=[];G.element=E;G.name=E&&G.elementMode==1&&(E.getId()||E.getNameAtt())||t();if(G.name in h.instances)throw '[CKEDITOR.editor] The instance "'+G.name+'" already exists.';G.id=l.getNextId();G.config=l.prototypedCopy(p);G.ui=new r(G);G.focusManager=new h.focusManager(G);h.fire('instanceCreated',null,G);G.on('mode',D,null,null,1);G.on('readOnly',D,null,null,1);w(G,F);};})();l.extend(h.editor.prototype,{addCommand:function(s,t){return this._.commands[s]=new h.command(this,t);},addCss:function(s){this._.styles.push(s);},destroy:function(s){var t=this;if(!s)t.updateElement();t.fire('destroy');t.theme&&t.theme.destroy(t);h.remove(t);h.fire('instanceDestroyed',null,t);},execCommand:function(s,t){var u=this.getCommand(s),v={name:s,commandData:t,command:u};if(u&&u.state!=0)if(this.fire('beforeCommandExec',v)!==true){v.returnValue=u.exec(v.commandData);
if(!u.async&&this.fire('afterCommandExec',v)!==true)return v.returnValue;}return false;},getCommand:function(s){return this._.commands[s];},getData:function(){var u=this;u.fire('beforeGetData');var s=u._.data;if(typeof s!='string'){var t=u.element;if(t&&u.elementMode==1)s=t.is('textarea')?t.getValue():t.getHtml();else s='';}s={dataValue:s};u.fire('getData',s);return s.dataValue;},getSnapshot:function(){var s=this.fire('getSnapshot');if(typeof s!='string'){var t=this.element;if(t&&this.elementMode==1)s=t.is('textarea')?t.getValue():t.getHtml();}return s;},loadSnapshot:function(s){this.fire('loadSnapshot',s);},setData:function(s,t,u){if(t)this.on('dataReady',function(w){w.removeListener();t.call(w.editor);});var v={dataValue:s};!u&&this.fire('setData',v);this._.data=v.dataValue;!u&&this.fire('afterSetData',v);},setReadOnly:function(s){s=s==undefined||s;if(this.readOnly!=s){this.readOnly=s;this.fire('readOnly');}},insertHtml:function(s){this.fire('insertHtml',s);},insertText:function(s){this.fire('insertText',s);},insertElement:function(s){this.fire('insertElement',s);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var u=this;var s=u.element;if(s&&u.elementMode==1){var t=u.getData();if(u.config.htmlEncodeOutput)t=l.htmlEncode(t);if(s.is('textarea'))s.setValue(t);else s.setHtml(t);}}});h.on('loaded',function(){var s=h.editor._pending;if(s){delete h.editor._pending;for(var t=0;t<s.length;t++)s[t]._init();}});h.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'>])*)\\/?>))",'g')};};(function(){var s=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};h.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(u){var H=this;var v,w,x=0,y;while(v=H._.htmlPartsRegex.exec(u)){var z=v.index;if(z>x){var A=u.substring(x,z);if(y)y.push(A);else H.onText(A);}x=H._.htmlPartsRegex.lastIndex;if(w=v[1]){w=w.toLowerCase();if(y&&m.$cdata[w]){H.onCDATA(y.join(''));y=null;}if(!y){H.onTagClose(w);continue;}}if(y){y.push(v[0]);continue;}if(w=v[3]){w=w.toLowerCase();if(/="/.test(w))continue;
var B={},C,D=v[4],E=!!(D&&D.charAt(D.length-1)=='/');if(D)while(C=s.exec(D)){var F=C[1].toLowerCase(),G=C[2]||C[3]||C[4]||'';if(!G&&t[F])B[F]=F;else B[F]=G;}H.onTagOpen(w,B,E);if(!y&&m.$cdata[w])y=[];continue;}if(w=v[2])H.onComment(w);}if(u.length>x)H.onText(u.substring(x,u.length));}};})();h.htmlParser.comment=function(s){this.value=s;this._={isBlockLike:false};};h.htmlParser.comment.prototype={type:8,writeHtml:function(s,t){var u=this.value;if(t){if(!(u=t.onComment(u,this)))return;if(typeof u!='string'){u.parent=this.parent;u.writeHtml(s,t);return;}}s.comment(u);}};(function(){h.htmlParser.text=function(s){this.value=s;this._={isBlockLike:false};};h.htmlParser.text.prototype={type:3,writeHtml:function(s,t){var u=this.value;if(t&&!(u=t.onText(u,this)))return;s.text(u);}};})();(function(){h.htmlParser.cdata=function(s){this.value=s;};h.htmlParser.cdata.prototype={type:3,writeHtml:function(s){s.write(this.value);}};})();h.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var s=l.extend({table:1,ul:1,ol:1,dl:1},m.table,m.ul,m.ol,m.dl),t=j&&i.version<8?{dd:1,dt:1}:{},u={ol:1,ul:1},v=l.extend({},{html:1},m.html,m.body,m.head,{style:1,script:1});function w(x){return x.name=='a'&&x.attributes.href||m.$removeEmpty[x.name];};h.htmlParser.fragment.fromHtml=function(x,y,z){var A=new h.htmlParser(),B=z||new h.htmlParser.fragment(),C=[],D=[],E=B,F=false,G=false;function H(K){var L;if(C.length>0)for(var M=0;M<C.length;M++){var N=C[M],O=N.name,P=m[O],Q=E.name&&m[E.name];if((!Q||Q[O])&&(!K||!P||P[K]||!m[K])){if(!L){I();L=1;}N=N.clone();N.parent=E;E=N;C.splice(M,1);M--;}else if(O==E.name)J(E,E.parent,1),M--;}};function I(){while(D.length)E.add(D.shift());};function J(K,L,M){if(K.previous!==undefined)return;L=L||E||B;var N=E;if(y&&(!L.type||L.name=='body')){var O,P;if(K.attributes&&(P=K.attributes['data-cke-real-element-type']))O=P;else O=K.name;if(O&&!(O in m.$body||O=='body'||K.isOrphan)){E=L;A.onTagOpen(y,{});K.returnPoint=L=E;}}if(K._.isBlockLike&&K.name!='pre'&&K.name!='textarea'){var Q=K.children.length,R=K.children[Q-1],S;if(R&&R.type==3)if(!(S=l.rtrim(R.value)))K.children.length=Q-1;else R.value=S;}L.add(K);if(K.name=='pre')G=false;if(K.name=='textarea')F=false;if(K.returnPoint){E=K.returnPoint;delete K.returnPoint;}else E=M?L:N;};A.onTagOpen=function(K,L,M,N){var O=new h.htmlParser.element(K,L);if(O.isUnknown&&M)O.isEmpty=true;O.isOptionalClose=K in t||N;if(w(O)){C.push(O);return;}else if(K=='pre')G=true;
else if(K=='br'&&G){E.add(new h.htmlParser.text('\n'));return;}else if(K=='textarea')F=true;if(K=='br'){D.push(O);return;}while(1){var P=E.name,Q=P?m[P]||(E._.isBlockLike?m.div:m.span):v;if(!O.isUnknown&&!E.isUnknown&&!Q[K]){if(E.isOptionalClose)A.onTagClose(P);else if(K in u&&P in u){var R=E.children,S=R[R.length-1];if(!(S&&S.name=='li'))J(S=new h.htmlParser.element('li'),E);!O.returnPoint&&(O.returnPoint=E);E=S;}else if(K in m.$listItem&&P!=K)A.onTagOpen(K=='li'?'ul':'dl',{},0,1);else if(P in s&&P!=K){!O.returnPoint&&(O.returnPoint=E);E=E.parent;}else{if(P in m.$inline)C.unshift(E);if(E.parent)J(E,E.parent,1);else{O.isOrphan=1;break;}}}else break;}H(K);I();O.parent=E;if(O.isEmpty)J(O);else E=O;};A.onTagClose=function(K){for(var L=C.length-1;L>=0;L--){if(K==C[L].name){C.splice(L,1);return;}}var M=[],N=[],O=E;while(O!=B&&O.name!=K){if(!O._.isBlockLike)N.unshift(O);M.push(O);O=O.returnPoint||O.parent;}if(O!=B){for(L=0;L<M.length;L++){var P=M[L];J(P,P.parent);}E=O;if(O._.isBlockLike)I();J(O,O.parent);if(O==E)E=E.parent;C=C.concat(N);}if(K=='body')y=false;};A.onText=function(K){if((!E._.hasInlineStarted||D.length)&&!G&&!F){K=l.ltrim(K);if(K.length===0)return;}var L=E.name,M=L?m[L]||(E._.isBlockLike?m.div:m.span):v;if(!F&&!M['#']&&L in s){A.onTagOpen(L in u?'li':L=='dl'?'dd':L=='table'?'tr':L=='tr'?'td':'');A.onText(K);return;}I();H();if(y&&(!E.type||E.name=='body')&&l.trim(K))this.onTagOpen(y,{},0,1);if(!G&&!F)K=K.replace(/[\t\r\n ]{2,}|[\t\r\n]/g,' ');E.add(new h.htmlParser.text(K));};A.onCDATA=function(K){E.add(new h.htmlParser.cdata(K));};A.onComment=function(K){I();H();E.add(new h.htmlParser.comment(K));};A.parse(x);I(!j&&1);while(E!=B)J(E,E.parent,1);return B;};h.htmlParser.fragment.prototype={add:function(x,y){var A=this;isNaN(y)&&(y=A.children.length);var z=y>0?A.children[y-1]:null;if(z){if(x._.isBlockLike&&z.type==3){z.value=l.rtrim(z.value);if(z.value.length===0){A.children.pop();A.add(x);return;}}z.next=x;}x.previous=z;x.parent=A;A.children.splice(y,0,x);A._.hasInlineStarted=x.type==3||x.type==1&&!x._.isBlockLike;},writeHtml:function(x,y){var z;this.filterChildren=function(){var A=new h.htmlParser.basicWriter();this.writeChildrenHtml.call(this,A,y,true);var B=A.getHtml();this.children=new h.htmlParser.fragment.fromHtml(B).children;z=1;};!this.name&&y&&y.onFragment(this);this.writeChildrenHtml(x,z?null:y);},writeChildrenHtml:function(x,y){for(var z=0;z<this.children.length;z++)this.children[z].writeHtml(x,y);}};})();h.htmlParser.element=function(s,t){var x=this;
x.name=s;x.attributes=t||{};x.children=[];var u=s||'',v=u.match(/^cke:(.*)/);v&&(u=v[1]);var w=!!(m.$nonBodyContent[u]||m.$block[u]||m.$listItem[u]||m.$tableContent[u]||m.$nonEditable[u]||u=='br');x.isEmpty=!!m.$empty[s];x.isUnknown=!m[s];x._={isBlockLike:w,hasInlineStarted:x.isEmpty||!w};};h.htmlParser.cssStyle=function(){var s,t=arguments[0],u={};s=t instanceof h.htmlParser.element?t.attributes.style:t;(s||'').replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(v,w,x){w=='font-family'&&(x=x.replace(/["']/g,''));u[w.toLowerCase()]=x;});return{rules:u,populate:function(v){var w=this.toString();if(w)v instanceof o?v.setAttribute('style',w):v instanceof h.htmlParser.element?v.attributes.style=w:v.style=w;},'toString':function(){var v=[];for(var w in u)u[w]&&v.push(w,':',u[w],';');return v.join('');}};};(function(){var s=function(t,u){t=t[0];u=u[0];return t<u?-1:t>u?1:0;};h.htmlParser.element.prototype={type:1,add:h.htmlParser.fragment.prototype.add,clone:function(){return new h.htmlParser.element(this.name,this.attributes);},writeHtml:function(t,u){var v=this.attributes,w=this,x=w.name,y,z,A,B;w.filterChildren=function(){if(!B){var I=new h.htmlParser.basicWriter();h.htmlParser.fragment.prototype.writeChildrenHtml.call(w,I,u);w.children=new h.htmlParser.fragment.fromHtml(I.getHtml(),0,w.clone()).children;B=1;}};if(u){for(;;){if(!(x=u.onElementName(x)))return;w.name=x;if(!(w=u.onElement(w)))return;w.parent=this.parent;if(w.name==x)break;if(w.type!=1){w.writeHtml(t,u);return;}x=w.name;if(!x){for(var C=0,D=this.children.length;C<D;C++)this.children[C].parent=w.parent;this.writeChildrenHtml.call(w,t,B?null:u);return;}}v=w.attributes;}t.openTag(x,v);var E=[];for(var F=0;F<2;F++)for(y in v){z=y;A=v[y];if(F==1)E.push([y,A]);else if(u){for(;;){if(!(z=u.onAttributeName(y))){delete v[y];break;}else if(z!=y){delete v[y];y=z;continue;}else break;}if(z)if((A=u.onAttribute(w,z,A))===false)delete v[z];else v[z]=A;}}if(t.sortAttributes)E.sort(s);var G=E.length;for(F=0;F<G;F++){var H=E[F];t.attribute(H[0],H[1]);}t.openTagClose(x,w.isEmpty);if(!w.isEmpty){this.writeChildrenHtml.call(w,t,B?null:u);t.closeTag(x);}},writeChildrenHtml:function(t,u){h.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments);}};})();(function(){h.htmlParser.filter=l.createClass({$:function(x){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(x)this.addRules(x,10);},proto:{addRules:function(x,y){var z=this;if(typeof y!='number')y=10;
t(z._.elementNames,x.elementNames,y);t(z._.attributeNames,x.attributeNames,y);u(z._.elements,x.elements,y);u(z._.attributes,x.attributes,y);z._.text=v(z._.text,x.text,y)||z._.text;z._.comment=v(z._.comment,x.comment,y)||z._.comment;z._.root=v(z._.root,x.root,y)||z._.root;},onElementName:function(x){return s(x,this._.elementNames);},onAttributeName:function(x){return s(x,this._.attributeNames);},onText:function(x){var y=this._.text;return y?y.filter(x):x;},onComment:function(x,y){var z=this._.comment;return z?z.filter(x,y):x;},onFragment:function(x){var y=this._.root;return y?y.filter(x):x;},onElement:function(x){var C=this;var y=[C._.elements['^'],C._.elements[x.name],C._.elements.$],z,A;for(var B=0;B<3;B++){z=y[B];if(z){A=z.filter(x,C);if(A===false)return null;if(A&&A!=x)return C.onNode(A);if(x.parent&&!x.name)break;}}return x;},onNode:function(x){var y=x.type;return y==1?this.onElement(x):y==3?new h.htmlParser.text(this.onText(x.value)):y==8?new h.htmlParser.comment(this.onComment(x.value)):null;},onAttribute:function(x,y,z){var A=this._.attributes[y];if(A){var B=A.filter(z,x,this);if(B===false)return false;if(typeof B!='undefined')return B;}return z;}}});function s(x,y){for(var z=0;x&&z<y.length;z++){var A=y[z];x=x.replace(A[0],A[1]);}return x;};function t(x,y,z){if(typeof y=='function')y=[y];var A,B,C=x.length,D=y&&y.length;if(D){for(A=0;A<C&&x[A].pri<z;A++){}for(B=D-1;B>=0;B--){var E=y[B];if(E){E.pri=z;x.splice(A,0,E);}}}};function u(x,y,z){if(y)for(var A in y){var B=x[A];x[A]=v(B,y[A],z);if(!B)x.$length++;}};function v(x,y,z){if(y){y.pri=z;if(x){if(!x.splice){if(x.pri>z)x=[y,x];else x=[x,y];x.filter=w;}else t(x,y,z);return x;}else{y.filter=y;return y;}}};function w(x){var y=x.type||x instanceof h.htmlParser.fragment;for(var z=0;z<this.length;z++){if(y)var A=x.type,B=x.name;var C=this[z],D=C.apply(window,arguments);if(D===false)return D;if(y){if(D&&(D.name!=B||D.type!=A))return D;}else if(typeof D!='string')return D;D!=undefined&&(x=D);}return x;};})();h.htmlParser.basicWriter=l.createClass({$:function(){this._={output:[]};},proto:{openTag:function(s,t){this._.output.push('<',s);},openTagClose:function(s,t){if(t)this._.output.push(' />');else this._.output.push('>');},attribute:function(s,t){if(typeof t=='string')t=l.htmlEncodeAttr(t);this._.output.push(' ',s,'="',t,'"');},closeTag:function(s){this._.output.push('</',s,'>');},text:function(s){this._.output.push(s);},comment:function(s){this._.output.push('<!--',s,'-->');},write:function(s){this._.output.push(s);
},reset:function(){this._.output=[];this._.indent=false;},getHtml:function(s){var t=this._.output.join('');if(s)this.reset();return t;}}});delete h.loadFullCore;h.instances={};h.document=new n(document);h.add=function(s){h.instances[s.name]=s;s.on('focus',function(){if(h.currentInstance!=s){h.currentInstance=s;h.fire('currentInstance');}});s.on('blur',function(){if(h.currentInstance==s){h.currentInstance=null;h.fire('currentInstance');}});};h.remove=function(s){delete h.instances[s.name];};h.on('instanceDestroyed',function(){if(l.isEmpty(this.instances))h.fire('reset');});h.TRISTATE_ON=1;h.TRISTATE_OFF=2;h.TRISTATE_DISABLED=0;k.comment=function(s,t){if(typeof s=='string')s=(t?t.$:document).createComment(s);k.domObject.call(this,s);};k.comment.prototype=new k.node();l.extend(k.comment.prototype,{type:8,getOuterHtml:function(){return '<!--'+this.$.nodeValue+'-->';}});(function(){var s={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1,caption:1},t={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,form:1,fieldset:1},u=function(v){var w=v.getChildren();for(var x=0,y=w.count();x<y;x++){var z=w.getItem(x);if(z.type==1&&m.$block[z.getName()])return true;}return false;};k.elementPath=function(v){var B=this;var w=null,x=null,y=[],z=v;while(z){if(z.type==1){if(!B.lastElement)B.lastElement=z;var A=z.getName();if(!x){if(!w&&s[A])w=z;if(t[A])if(!w&&A=='div'&&!u(z))w=z;else x=z;}y.push(z);if(A=='body')break;}z=z.getParent();}B.block=w;B.blockLimit=x;B.elements=y;};})();k.elementPath.prototype={compare:function(s){var t=this.elements,u=s&&s.elements;if(!u||t.length!=u.length)return false;for(var v=0;v<t.length;v++){if(!t[v].equals(u[v]))return false;}return true;},contains:function(s){var t=this.elements;for(var u=0;u<t.length;u++){if(t[u].getName() in s)return t[u];}return null;}};k.text=function(s,t){if(typeof s=='string')s=(t?t.$:document).createTextNode(s);this.$=s;};k.text.prototype=new k.node();l.extend(k.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},setText:function(s){this.$.nodeValue=s;},split:function(s){var x=this;if(j&&s==x.getLength()){var t=x.getDocument().createText('');t.insertAfter(x);return t;}var u=x.getDocument(),v=new k.text(x.$.splitText(s),u);if(i.ie8){var w=new k.text('',u);w.insertAfter(v);w.remove();}return v;},substring:function(s,t){if(typeof t!='number')return this.$.nodeValue.substr(s);else return this.$.nodeValue.substring(s,t);}});
k.documentFragment=function(s){s=s||h.document;this.$=s.$.createDocumentFragment();};l.extend(k.documentFragment.prototype,o.prototype,{type:11,insertAfterNode:function(s){s=s.$;s.parentNode.insertBefore(this.$,s.nextSibling);}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function s(z,A){var B=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(B.collapsed){this.end();return null;}B.optimize();}var C,D=B.startContainer,E=B.endContainer,F=B.startOffset,G=B.endOffset,H,I=this.guard,J=this.type,K=z?'getPreviousSourceNode':'getNextSourceNode';if(!z&&!this._.guardLTR){var L=E.type==1?E:E.getParent(),M=E.type==1?E.getChild(G):E.getNext();this._.guardLTR=function(Q,R){return(!R||!L.equals(Q))&&(!M||!Q.equals(M))&&(Q.type!=1||!R||Q.getName()!='body');};}if(z&&!this._.guardRTL){var N=D.type==1?D:D.getParent(),O=D.type==1?F?D.getChild(F-1):null:D.getPrevious();this._.guardRTL=function(Q,R){return(!R||!N.equals(Q))&&(!O||!Q.equals(O))&&(Q.type!=1||!R||Q.getName()!='body');};}var P=z?this._.guardRTL:this._.guardLTR;if(I)H=function(Q,R){if(P(Q,R)===false)return false;return I(Q,R);};else H=P;if(this.current)C=this.current[K](false,J,H);else{if(z){C=E;if(C.type==1)if(G>0)C=C.getChild(G-1);else C=H(C,true)===false?null:C.getPreviousSourceNode(true,J,H);}else{C=D;if(C.type==1)if(!(C=C.getChild(F)))C=H(D,true)===false?null:D.getNextSourceNode(true,J,H);}if(C&&H(C)===false)C=null;}while(C&&!this._.end){this.current=C;if(!this.evaluator||this.evaluator(C)!==false){if(!A)return C;}else if(A&&this.evaluator)return false;C=C[K](false,J,H);}this.end();return this.current=null;};function t(z){var A,B=null;while(A=s.call(this,z))B=A;return B;};k.walker=l.createClass({$:function(z){this.range=z;this._={};},proto:{end:function(){this._.end=1;},next:function(){return s.call(this);},previous:function(){return s.call(this,1);},checkForward:function(){return s.call(this,0,1)!==false;},checkBackward:function(){return s.call(this,1,1)!==false;},lastForward:function(){return t.call(this);},lastBackward:function(){return t.call(this,1);},reset:function(){delete this.current;this._={};}}});var u={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1};o.prototype.isBlockBoundary=function(z){var A=z?l.extend({},m.$block,z||{}):m.$block;
return this.getComputedStyle('float')=='none'&&u[this.getComputedStyle('display')]||A[this.getName()];};k.walker.blockBoundary=function(z){return function(A,B){return!(A.type==1&&A.isBlockBoundary(z));};};k.walker.listItemBoundary=function(){return this.blockBoundary({br:1});};k.walker.bookmark=function(z,A){function B(C){return C&&C.getName&&C.getName()=='span'&&C.data('cke-bookmark');};return function(C){var D,E;D=C&&!C.getName&&(E=C.getParent())&&B(E);D=z?D:D||B(C);return!!(A^D);};};k.walker.whitespaces=function(z){return function(A){var B;if(A&&A.type==3)B=!l.trim(A.getText())||i.webkit&&A.getText()=='​';return!!(z^B);};};k.walker.invisible=function(z){var A=k.walker.whitespaces();return function(B){var C;if(A(B))C=1;else{if(B.type==3)B=B.getParent();C=!B.$.offsetHeight;}return!!(z^C);};};k.walker.nodeType=function(z,A){return function(B){return!!(A^B.type==z);};};k.walker.bogus=function(z){function A(B){return!w(B)&&!x(B);};return function(B){var C=!j?B.is&&B.is('br'):B.getText&&v.test(B.getText());if(C){var D=B.getParent(),E=B.getNext(A);C=D.isBlockBoundary()&&(!E||E.type==1&&E.isBlockBoundary());}return!!(z^C);};};var v=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,w=k.walker.whitespaces(),x=k.walker.bookmark(),y=function(z){return x(z)||w(z)||z.type==1&&z.getName() in m.$inline&&!(z.getName() in m.$empty);};o.prototype.getBogus=function(){var z=this;do z=z.getPreviousSourceNode();while(y(z))if(z&&(!j?z.is&&z.is('br'):z.getText&&v.test(z.getText())))return z;return false;};})();k.range=function(s){var t=this;t.startContainer=null;t.startOffset=null;t.endContainer=null;t.endOffset=null;t.collapsed=true;t.document=s;};(function(){var s=function(C){C.collapsed=C.startContainer&&C.endContainer&&C.startContainer.equals(C.endContainer)&&C.startOffset==C.endOffset;},t=function(C,D,E,F){C.optimizeBookmark();var G=C.startContainer,H=C.endContainer,I=C.startOffset,J=C.endOffset,K,L;if(H.type==3)H=H.split(J);else if(H.getChildCount()>0)if(J>=H.getChildCount()){H=H.append(C.document.createText(''));L=true;}else H=H.getChild(J);if(G.type==3){G.split(I);if(G.equals(H))H=G.getNext();}else if(!I){G=G.getFirst().insertBeforeMe(C.document.createText(''));K=true;}else if(I>=G.getChildCount()){G=G.append(C.document.createText(''));K=true;}else G=G.getChild(I).getPrevious();var M=G.getParents(),N=H.getParents(),O,P,Q;for(O=0;O<M.length;O++){P=M[O];Q=N[O];if(!P.equals(Q))break;}var R=E,S,T,U,V;for(var W=O;W<M.length;W++){S=M[W];if(R&&!S.equals(G))T=R.append(S.clone());U=S.getNext();while(U){if(U.equals(N[W])||U.equals(H))break;
V=U.getNext();if(D==2)R.append(U.clone(true));else{U.remove();if(D==1)R.append(U);}U=V;}if(R)R=T;}R=E;for(var X=O;X<N.length;X++){S=N[X];if(D>0&&!S.equals(H))T=R.append(S.clone());if(!M[X]||S.$.parentNode!=M[X].$.parentNode){U=S.getPrevious();while(U){if(U.equals(M[X])||U.equals(G))break;V=U.getPrevious();if(D==2)R.$.insertBefore(U.$.cloneNode(true),R.$.firstChild);else{U.remove();if(D==1)R.$.insertBefore(U.$,R.$.firstChild);}U=V;}}if(R)R=T;}if(D==2){var Y=C.startContainer;if(Y.type==3){Y.$.data+=Y.$.nextSibling.data;Y.$.parentNode.removeChild(Y.$.nextSibling);}var Z=C.endContainer;if(Z.type==3&&Z.$.nextSibling){Z.$.data+=Z.$.nextSibling.data;Z.$.parentNode.removeChild(Z.$.nextSibling);}}else{if(P&&Q&&(G.$.parentNode!=P.$.parentNode||H.$.parentNode!=Q.$.parentNode)){var aa=Q.getIndex();if(K&&Q.$.parentNode==G.$.parentNode)aa--;if(F&&P.type==1){var ab=o.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',C.document);ab.insertAfter(P);P.mergeSiblings(false);C.moveToBookmark({startNode:ab});}else C.setStart(Q.getParent(),aa);}C.collapse(true);}if(K)G.remove();if(L&&H.$.parentNode)H.remove();},u={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1};function v(){var C=false,D=k.walker.whitespaces(),E=k.walker.bookmark(true),F=k.walker.bogus();return function(G){if(E(G)||D(G))return true;if(F(G)&&!C){C=true;return true;}if(G.type==3&&(G.hasAscendant('pre')||l.trim(G.getText()).length))return false;if(G.type==1&&!u[G.getName()])return false;return true;};};var w=k.walker.bogus();function x(C){var D=k.walker.whitespaces(),E=k.walker.bookmark(1);return function(F){if(E(F)||D(F))return true;return!C&&w(F)||F.type==1&&F.getName() in m.$removeEmpty;};};var y=new k.walker.whitespaces(),z=new k.walker.bookmark(),A=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/;function B(C){return!y(C)&&!z(C);};k.range.prototype={clone:function(){var D=this;var C=new k.range(D.document);C.startContainer=D.startContainer;C.startOffset=D.startOffset;C.endContainer=D.endContainer;C.endOffset=D.endOffset;C.collapsed=D.collapsed;return C;},collapse:function(C){var D=this;if(C){D.endContainer=D.startContainer;D.endOffset=D.startOffset;}else{D.startContainer=D.endContainer;D.startOffset=D.endOffset;}D.collapsed=true;},cloneContents:function(){var C=new k.documentFragment(this.document);if(!this.collapsed)t(this,2,C);return C;},deleteContents:function(C){if(this.collapsed)return;
t(this,0,null,C);},extractContents:function(C){var D=new k.documentFragment(this.document);if(!this.collapsed)t(this,1,D,C);return D;},createBookmark:function(C){var I=this;var D,E,F,G,H=I.collapsed;D=I.document.createElement('span');D.data('cke-bookmark',1);D.setStyle('display','none');D.setHtml('&nbsp;');if(C){F='cke_bm_'+l.getNextNumber();D.setAttribute('id',F+(H?'C':'S'));}if(!H){E=D.clone();E.setHtml('&nbsp;');if(C)E.setAttribute('id',F+'E');G=I.clone();G.collapse();G.insertNode(E);}G=I.clone();G.collapse(true);G.insertNode(D);if(E){I.setStartAfter(D);I.setEndBefore(E);}else I.moveToPosition(D,4);return{startNode:C?F+(H?'C':'S'):D,endNode:C?F+'E':E,serializable:C,collapsed:H};},createBookmark2:function(C){var K=this;var D=K.startContainer,E=K.endContainer,F=K.startOffset,G=K.endOffset,H=K.collapsed,I,J;if(!D||!E)return{start:0,end:0};if(C){if(D.type==1){I=D.getChild(F);if(I&&I.type==3&&F>0&&I.getPrevious().type==3){D=I;F=0;}if(I&&I.type==1)F=I.getIndex(1);}while(D.type==3&&(J=D.getPrevious())&&J.type==3){D=J;F+=J.getLength();}if(!H){if(E.type==1){I=E.getChild(G);if(I&&I.type==3&&G>0&&I.getPrevious().type==3){E=I;G=0;}if(I&&I.type==1)G=I.getIndex(1);}while(E.type==3&&(J=E.getPrevious())&&J.type==3){E=J;G+=J.getLength();}}}return{start:D.getAddress(C),end:H?null:E.getAddress(C),startOffset:F,endOffset:G,normalized:C,collapsed:H,is2:true};},moveToBookmark:function(C){var K=this;if(C.is2){var D=K.document.getByAddress(C.start,C.normalized),E=C.startOffset,F=C.end&&K.document.getByAddress(C.end,C.normalized),G=C.endOffset;K.setStart(D,E);if(F)K.setEnd(F,G);else K.collapse(true);}else{var H=C.serializable,I=H?K.document.getById(C.startNode):C.startNode,J=H?K.document.getById(C.endNode):C.endNode;K.setStartBefore(I);I.remove();if(J){K.setEndBefore(J);J.remove();}else K.collapse(true);}},getBoundaryNodes:function(){var H=this;var C=H.startContainer,D=H.endContainer,E=H.startOffset,F=H.endOffset,G;if(C.type==1){G=C.getChildCount();if(G>E)C=C.getChild(E);else if(G<1)C=C.getPreviousSourceNode();else{C=C.$;while(C.lastChild)C=C.lastChild;C=new k.node(C);C=C.getNextSourceNode()||C;}}if(D.type==1){G=D.getChildCount();if(G>F)D=D.getChild(F).getPreviousSourceNode(true);else if(G<1)D=D.getPreviousSourceNode();else{D=D.$;while(D.lastChild)D=D.lastChild;D=new k.node(D);}}if(C.getPosition(D)&2)C=D;return{startNode:C,endNode:D};},getCommonAncestor:function(C,D){var H=this;var E=H.startContainer,F=H.endContainer,G;if(E.equals(F)){if(C&&E.type==1&&H.startOffset==H.endOffset-1)G=E.getChild(H.startOffset);
else G=E;}else G=E.getCommonAncestor(F);return D&&!G.is?G.getParent():G;},optimize:function(){var E=this;var C=E.startContainer,D=E.startOffset;if(C.type!=1)if(!D)E.setStartBefore(C);else if(D>=C.getLength())E.setStartAfter(C);C=E.endContainer;D=E.endOffset;if(C.type!=1)if(!D)E.setEndBefore(C);else if(D>=C.getLength())E.setEndAfter(C);},optimizeBookmark:function(){var E=this;var C=E.startContainer,D=E.endContainer;if(C.is&&C.is('span')&&C.data('cke-bookmark'))E.setStartAt(C,3);if(D&&D.is&&D.is('span')&&D.data('cke-bookmark'))E.setEndAt(D,4);},trim:function(C,D){var K=this;var E=K.startContainer,F=K.startOffset,G=K.collapsed;if((!C||G)&&E&&E.type==3){if(!F){F=E.getIndex();E=E.getParent();}else if(F>=E.getLength()){F=E.getIndex()+1;E=E.getParent();}else{var H=E.split(F);F=E.getIndex()+1;E=E.getParent();if(K.startContainer.equals(K.endContainer))K.setEnd(H,K.endOffset-K.startOffset);else if(E.equals(K.endContainer))K.endOffset+=1;}K.setStart(E,F);if(G){K.collapse(true);return;}}var I=K.endContainer,J=K.endOffset;if(!(D||G)&&I&&I.type==3){if(!J){J=I.getIndex();I=I.getParent();}else if(J>=I.getLength()){J=I.getIndex()+1;I=I.getParent();}else{I.split(J);J=I.getIndex()+1;I=I.getParent();}K.setEnd(I,J);}},enlarge:function(C,D){switch(C){case 1:if(this.collapsed)return;var E=this.getCommonAncestor(),F=this.document.getBody(),G,H,I,J,K,L=false,M,N,O=this.startContainer,P=this.startOffset;if(O.type==3){if(P){O=!l.trim(O.substring(0,P)).length&&O;L=!!O;}if(O)if(!(J=O.getPrevious()))I=O.getParent();}else{if(P)J=O.getChild(P-1)||O.getLast();if(!J)I=O;}while(I||J){if(I&&!J){if(!K&&I.equals(E))K=true;if(!F.contains(I))break;if(!L||I.getComputedStyle('display')!='inline'){L=false;if(K)G=I;else this.setStartBefore(I);}J=I.getPrevious();}while(J){M=false;if(J.type==8){J=J.getPrevious();continue;}else if(J.type==3){N=J.getText();if(/[^\s\ufeff]/.test(N))J=null;M=/[\s\ufeff]$/.test(N);}else if((J.$.offsetWidth>0||D&&J.is('br'))&&!J.data('cke-bookmark'))if(L&&m.$removeEmpty[J.getName()]){N=J.getText();if(/[^\s\ufeff]/.test(N))J=null;else{var Q=J.$.getElementsByTagName('*');for(var R=0,S;S=Q[R++];){if(!m.$removeEmpty[S.nodeName.toLowerCase()]){J=null;break;}}}if(J)M=!!N.length;}else J=null;if(M)if(L){if(K)G=I;else if(I)this.setStartBefore(I);}else L=true;if(J){var T=J.getPrevious();if(!I&&!T){I=J;J=null;break;}J=T;}else I=null;}if(I)I=I.getParent();}O=this.endContainer;P=this.endOffset;I=J=null;K=L=false;if(O.type==3){O=!l.trim(O.substring(P)).length&&O;L=!(O&&O.getLength());if(O)if(!(J=O.getNext()))I=O.getParent();
}else{J=O.getChild(P);if(!J)I=O;}while(I||J){if(I&&!J){if(!K&&I.equals(E))K=true;if(!F.contains(I))break;if(!L||I.getComputedStyle('display')!='inline'){L=false;if(K)H=I;else if(I)this.setEndAfter(I);}J=I.getNext();}while(J){M=false;if(J.type==3){N=J.getText();if(/[^\s\ufeff]/.test(N))J=null;M=/^[\s\ufeff]/.test(N);}else if(J.type==1){if((J.$.offsetWidth>0||D&&J.is('br'))&&!J.data('cke-bookmark'))if(L&&m.$removeEmpty[J.getName()]){N=J.getText();if(/[^\s\ufeff]/.test(N))J=null;else{Q=J.$.getElementsByTagName('*');for(R=0;S=Q[R++];){if(!m.$removeEmpty[S.nodeName.toLowerCase()]){J=null;break;}}}if(J)M=!!N.length;}else J=null;}else M=1;if(M)if(L)if(K)H=I;else this.setEndAfter(I);if(J){T=J.getNext();if(!I&&!T){I=J;J=null;break;}J=T;}else I=null;}if(I)I=I.getParent();}if(G&&H){E=G.contains(H)?H:G;this.setStartBefore(E);this.setEndAfter(E);}break;case 2:case 3:var U=new k.range(this.document);F=this.document.getBody();U.setStartAt(F,1);U.setEnd(this.startContainer,this.startOffset);var V=new k.walker(U),W,X,Y=k.walker.blockBoundary(C==3?{br:1}:null),Z=function(af){var ag=Y(af);if(!ag)W=af;return ag;},aa=function(af){var ag=Z(af);if(!ag&&af.is&&af.is('br'))X=af;return ag;};V.guard=Z;I=V.lastBackward();W=W||F;this.setStartAt(W,!W.is('br')&&(!I&&this.checkStartOfBlock()||I&&W.contains(I))?1:4);if(C==3){var ab=this.clone();V=new k.walker(ab);var ac=k.walker.whitespaces(),ad=k.walker.bookmark();V.evaluator=function(af){return!ac(af)&&!ad(af);};var ae=V.previous();if(ae&&ae.type==1&&ae.is('br'))return;}U=this.clone();U.collapse();U.setEndAt(F,2);V=new k.walker(U);V.guard=C==3?aa:Z;W=null;I=V.lastForward();W=W||F;this.setEndAt(W,!I&&this.checkEndOfBlock()||I&&W.contains(I)?2:3);if(X)this.setEndAfter(X);}},shrink:function(C,D){if(!this.collapsed){C=C||2;var E=this.clone(),F=this.startContainer,G=this.endContainer,H=this.startOffset,I=this.endOffset,J=this.collapsed,K=1,L=1;if(F&&F.type==3)if(!H)E.setStartBefore(F);else if(H>=F.getLength())E.setStartAfter(F);else{E.setStartBefore(F);K=0;}if(G&&G.type==3)if(!I)E.setEndBefore(G);else if(I>=G.getLength())E.setEndAfter(G);else{E.setEndAfter(G);L=0;}var M=new k.walker(E),N=k.walker.bookmark();M.evaluator=function(R){return R.type==(C==1?1:3);};var O;M.guard=function(R,S){if(N(R))return true;if(C==1&&R.type==3)return false;if(S&&R.equals(O))return false;if(!S&&R.type==1)O=R;return true;};if(K){var P=M[C==1?'lastForward':'next']();P&&this.setStartAt(P,D?1:3);}if(L){M.reset();var Q=M[C==1?'lastBackward':'previous']();Q&&this.setEndAt(Q,D?2:4);
}return!!(K||L);}},insertNode:function(C){var G=this;G.optimizeBookmark();G.trim(false,true);var D=G.startContainer,E=G.startOffset,F=D.getChild(E);if(F)C.insertBefore(F);else D.append(C);if(C.getParent().equals(G.endContainer))G.endOffset++;G.setStartBefore(C);},moveToPosition:function(C,D){this.setStartAt(C,D);this.collapse(true);},selectNodeContents:function(C){this.setStart(C,0);this.setEnd(C,C.type==3?C.getLength():C.getChildCount());},setStart:function(C,D){var E=this;if(C.type==1&&m.$empty[C.getName()])D=C.getIndex(),C=C.getParent();E.startContainer=C;E.startOffset=D;if(!E.endContainer){E.endContainer=C;E.endOffset=D;}s(E);},setEnd:function(C,D){var E=this;if(C.type==1&&m.$empty[C.getName()])D=C.getIndex()+1,C=C.getParent();E.endContainer=C;E.endOffset=D;if(!E.startContainer){E.startContainer=C;E.startOffset=D;}s(E);},setStartAfter:function(C){this.setStart(C.getParent(),C.getIndex()+1);},setStartBefore:function(C){this.setStart(C.getParent(),C.getIndex());},setEndAfter:function(C){this.setEnd(C.getParent(),C.getIndex()+1);},setEndBefore:function(C){this.setEnd(C.getParent(),C.getIndex());},setStartAt:function(C,D){var E=this;switch(D){case 1:E.setStart(C,0);break;case 2:if(C.type==3)E.setStart(C,C.getLength());else E.setStart(C,C.getChildCount());break;case 3:E.setStartBefore(C);break;case 4:E.setStartAfter(C);}s(E);},setEndAt:function(C,D){var E=this;switch(D){case 1:E.setEnd(C,0);break;case 2:if(C.type==3)E.setEnd(C,C.getLength());else E.setEnd(C,C.getChildCount());break;case 3:E.setEndBefore(C);break;case 4:E.setEndAfter(C);}s(E);},fixBlock:function(C,D){var G=this;var E=G.createBookmark(),F=G.document.createElement(D);G.collapse(C);G.enlarge(2);G.extractContents().appendTo(F);F.trim();if(!j)F.appendBogus();G.insertNode(F);G.moveToBookmark(E);return F;},splitBlock:function(C){var M=this;var D=new k.elementPath(M.startContainer),E=new k.elementPath(M.endContainer),F=D.blockLimit,G=E.blockLimit,H=D.block,I=E.block,J=null;if(!F.equals(G))return null;if(C!='br'){if(!H){H=M.fixBlock(true,C);I=new k.elementPath(M.endContainer).block;}if(!I)I=M.fixBlock(false,C);}var K=H&&M.checkStartOfBlock(),L=I&&M.checkEndOfBlock();M.deleteContents();if(H&&H.equals(I))if(L){J=new k.elementPath(M.startContainer);M.moveToPosition(I,4);I=null;}else if(K){J=new k.elementPath(M.startContainer);M.moveToPosition(H,3);H=null;}else{I=M.splitElement(H);if(!j&&!H.is('ul','ol'))H.appendBogus();}return{previousBlock:H,nextBlock:I,wasStartOfBlock:K,wasEndOfBlock:L,elementPath:J};},splitElement:function(C){var F=this;
if(!F.collapsed)return null;F.setEndAt(C,2);var D=F.extractContents(),E=C.clone(false);D.appendTo(E);E.insertAfter(C);F.moveToPosition(C,4);return E;},checkBoundaryOfElement:function(C,D){var E=D==1,F=this.clone();F.collapse(E);F[E?'setStartAt':'setEndAt'](C,E?1:2);var G=new k.walker(F);G.evaluator=x(E);return G[E?'checkBackward':'checkForward']();},checkStartOfBlock:function(){var I=this;var C=I.startContainer,D=I.startOffset;if(j&&D&&C.type==3){var E=l.ltrim(C.substring(0,D));if(A.test(E))I.trim(0,1);}var F=new k.elementPath(I.startContainer),G=I.clone();G.collapse(true);G.setStartAt(F.block||F.blockLimit,1);var H=new k.walker(G);H.evaluator=v();return H.checkBackward();},checkEndOfBlock:function(){var I=this;var C=I.endContainer,D=I.endOffset;if(j&&C.type==3){var E=l.rtrim(C.substring(D));if(A.test(E))I.trim(1,0);}var F=new k.elementPath(I.endContainer),G=I.clone();G.collapse(false);G.setEndAt(F.block||F.blockLimit,2);var H=new k.walker(G);H.evaluator=v();return H.checkForward();},getPreviousNode:function(C,D,E){var F=this.clone();F.collapse(1);F.setStartAt(E||this.document.getBody(),1);var G=new k.walker(F);G.evaluator=C;G.guard=D;return G.previous();},getNextNode:function(C,D,E){var F=this.clone();F.collapse();F.setEndAt(E||this.document.getBody(),2);var G=new k.walker(F);G.evaluator=C;G.guard=D;return G.next();},checkReadOnly:(function(){function C(D,E){while(D){if(D.type==1)if(D.getAttribute('contentEditable')=='false'&&!D.data('cke-editable'))return 0;else if(D.is('html')||D.getAttribute('contentEditable')=='true'&&(D.contains(E)||D.equals(E)))break;D=D.getParent();}return 1;};return function(){var D=this.startContainer,E=this.endContainer;return!(C(D,E)&&C(E,D));};})(),moveToElementEditablePosition:function(C,D){function E(G,H){var I;if(G.type==1&&G.isEditable(false))I=G[D?'getLast':'getFirst'](B);if(!H&&!I)I=G[D?'getPrevious':'getNext'](B);return I;};if(C.type==1&&!C.isEditable(false)){this.moveToPosition(C,D?4:3);return true;}var F=0;while(C){if(C.type==3){if(D&&this.checkEndOfBlock()&&A.test(C.getText()))this.moveToPosition(C,3);else this.moveToPosition(C,D?4:3);F=1;break;}if(C.type==1)if(C.isEditable()){this.moveToPosition(C,D?2:1);F=1;}else if(D&&C.is('br')&&this.checkEndOfBlock())this.moveToPosition(C,3);C=E(C,F);}return!!F;},moveToElementEditStart:function(C){return this.moveToElementEditablePosition(C);},moveToElementEditEnd:function(C){return this.moveToElementEditablePosition(C,true);},getEnclosedNode:function(){var C=this.clone();C.optimize();
if(C.startContainer.type!=1||C.endContainer.type!=1)return null;var D=new k.walker(C),E=k.walker.bookmark(true),F=k.walker.whitespaces(true),G=function(I){return F(I)&&E(I);};C.evaluator=G;var H=D.next();D.reset();return H&&H.equals(D.previous())?H:null;},getTouchedStartNode:function(){var C=this.startContainer;if(this.collapsed||C.type!=1)return C;return C.getChild(this.startOffset)||C;},getTouchedEndNode:function(){var C=this.endContainer;if(this.collapsed||C.type!=1)return C;return C.getChild(this.endOffset-1)||C;}};})();h.POSITION_AFTER_START=1;h.POSITION_BEFORE_END=2;h.POSITION_BEFORE_START=3;h.POSITION_AFTER_END=4;h.ENLARGE_ELEMENT=1;h.ENLARGE_BLOCK_CONTENTS=2;h.ENLARGE_LIST_ITEM_CONTENTS=3;h.START=1;h.END=2;h.STARTEND=3;h.SHRINK_ELEMENT=1;h.SHRINK_TEXT=2;(function(){k.rangeList=function(u){if(u instanceof k.rangeList)return u;if(!u)u=[];else if(u instanceof k.range)u=[u];return l.extend(u,s);};var s={createIterator:function(){var u=this,v=k.walker.bookmark(),w=function(z){return!(z.is&&z.is('tr'));},x=[],y;return{getNextRange:function(z){y=y==undefined?0:y+1;var A=u[y];if(A&&u.length>1){if(!y)for(var B=u.length-1;B>=0;B--)x.unshift(u[B].createBookmark(true));if(z){var C=0;while(u[y+C+1]){var D=A.document,E=0,F=D.getById(x[C].endNode),G=D.getById(x[C+1].startNode),H;while(1){H=F.getNextSourceNode(false);if(!G.equals(H)){if(v(H)||H.type==1&&H.isBlockBoundary()){F=H;continue;}}else E=1;break;}if(!E)break;C++;}}A.moveToBookmark(x.shift());while(C--){H=u[++y];H.moveToBookmark(x.shift());A.setEnd(H.endContainer,H.endOffset);}}return A;}};},createBookmarks:function(u){var z=this;var v=[],w;for(var x=0;x<z.length;x++){v.push(w=z[x].createBookmark(u,true));for(var y=x+1;y<z.length;y++){z[y]=t(w,z[y]);z[y]=t(w,z[y],true);}}return v;},createBookmarks2:function(u){var v=[];for(var w=0;w<this.length;w++)v.push(this[w].createBookmark2(u));return v;},moveToBookmarks:function(u){for(var v=0;v<this.length;v++)this[v].moveToBookmark(u[v]);}};function t(u,v,w){var x=u.serializable,y=v[w?'endContainer':'startContainer'],z=w?'endOffset':'startOffset',A=x?v.document.getById(u.startNode):u.startNode,B=x?v.document.getById(u.endNode):u.endNode;if(y.equals(A.getPrevious())){v.startOffset=v.startOffset-y.getLength()-B.getPrevious().getLength();y=B.getNext();}else if(y.equals(B.getPrevious())){v.startOffset=v.startOffset-y.getLength();y=B.getNext();}y.equals(A.getParent())&&v[z]++;y.equals(B.getParent())&&v[z]++;v[w?'endContainer':'startContainer']=y;return v;};})();(function(){if(i.webkit){i.hc=false;
return;}var s=o.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;border: 1px solid;border-color: red blue;"></div>',h.document);s.appendTo(h.document.getHead());try{i.hc=s.getComputedStyle('border-top-color')==s.getComputedStyle('border-right-color');}catch(t){i.hc=false;}if(i.hc)i.cssClass+=' cke_hc';s.remove();})();q.load(p.corePlugins.split(','),function(){h.status='loaded';h.fire('loaded');var s=h._.pending;if(s){delete h._.pending;for(var t=0;t<s.length;t++)h.add(s[t]);}});if(j)try{document.execCommand('BackgroundImageCache',false,true);}catch(s){}h.skins.add('kama',(function(){var t='cke_ui_color';return{editor:{css:['editor.css']},dialog:{css:['dialog.css']},richcombo:{canGroup:false},templates:{css:['templates.css']},margins:[0,0,0,0],init:function(u){if(u.config.width&&!isNaN(u.config.width))u.config.width-=12;var v=[],w=/\$color/g,x='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(i.webkit){x=x.split('}').slice(0,-1);for(var y=0;y<x.length;y++)x[y]=x[y].split('{');}function z(C){var D=C.getById(t);if(!D){D=C.getHead().append('style');D.setAttribute('id',t);
D.setAttribute('type','text/css');}return D;};function A(C,D,E){var F,G,H;for(var I=0;I<C.length;I++){if(i.webkit)for(G=0;G<D.length;G++){H=D[G][1];for(F=0;F<E.length;F++)H=H.replace(E[F][0],E[F][1]);C[I].$.sheet.addRule(D[G][0],H);}else{H=D;for(F=0;F<E.length;F++)H=H.replace(E[F][0],E[F][1]);if(j)C[I].$.styleSheet.cssText+=H;else C[I].$.innerHTML+=H;}}};var B=/\$color/g;l.extend(u,{uiColor:null,getUiColor:function(){return this.uiColor;},setUiColor:function(C){var D,E=z(h.document),F='.'+u.id,G=[F+' .cke_wrapper',F+'_dialog .cke_dialog_contents',F+'_dialog a.cke_dialog_tab',F+'_dialog .cke_dialog_footer'].join(','),H='background-color: $color !important;';if(i.webkit)D=[[G,H]];else D=G+'{'+H+'}';return(this.setUiColor=function(I){var J=[[B,I]];u.uiColor=I;A([E],D,J);A(v,x,J);})(C);}});u.on('menuShow',function(C){var D=C.data[0],E=D.element.getElementsByTag('iframe').getItem(0).getFrameDocument();if(!E.getById('cke_ui_color')){var F=z(E);v.push(F);var G=u.getUiColor();if(G)A([F],x,[[B,G]]);}});if(u.config.uiColor)u.setUiColor(u.config.uiColor);}};})());(function(){h.dialog?t():h.on('dialogPluginReady',t);function t(){h.dialog.on('resize',function(u){var v=u.data,w=v.width,x=v.height,y=v.dialog,z=y.parts.contents;if(v.skin!='kama')return;z.setStyles({width:w+'px',height:x+'px'});});};})();q.add('about',{requires:['dialog'],init:function(t){var u=t.addCommand('about',new h.dialogCommand('about'));u.modes={wysiwyg:1,source:1};u.canUndo=false;u.readOnly=1;t.ui.addButton('About',{label:t.lang.about.title,command:'about'});h.dialog.add('about',this.path+'dialogs/about.js');}});(function(){var t='a11yhelp',u='a11yHelp';q.add(t,{requires:['dialog'],availableLangs:{cs:1,cy:1,da:1,de:1,el:1,en:1,eo:1,fa:1,fi:1,fr:1,gu:1,he:1,it:1,ku:1,mk:1,nb:1,nl:1,no:1,'pt-br':1,ro:1,tr:1,ug:1,vi:1,'zh-cn':1},init:function(v){var w=this;v.addCommand(u,{exec:function(){var x=v.langCode;x=w.availableLangs[x]?x:'en';h.scriptLoader.load(h.getUrl(w.path+'lang/'+x+'.js'),function(){l.extend(v.lang,w.langEntries[x]);v.openDialog(u);});},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:false});h.dialog.add(u,this.path+'dialogs/a11yhelp.js');}});})();q.add('basicstyles',{requires:['styles','button'],init:function(t){var u=function(x,y,z,A){var B=new h.style(A);t.attachStyleStateChange(B,function(C){!t.readOnly&&t.getCommand(z).setState(C);});t.addCommand(z,new h.styleCommand(B));t.ui.addButton(x,{label:y,command:z});},v=t.config,w=t.lang;u('Bold',w.bold,'bold',v.coreStyles_bold);u('Italic',w.italic,'italic',v.coreStyles_italic);
u('Underline',w.underline,'underline',v.coreStyles_underline);u('Strike',w.strike,'strike',v.coreStyles_strike);u('Subscript',w.subscript,'subscript',v.coreStyles_subscript);u('Superscript',w.superscript,'superscript',v.coreStyles_superscript);}});p.coreStyles_bold={element:'strong',overrides:'b'};p.coreStyles_italic={element:'em',overrides:'i'};p.coreStyles_underline={element:'u'};p.coreStyles_strike={element:'strike'};p.coreStyles_subscript={element:'sub'};p.coreStyles_superscript={element:'sup'};(function(){var t={table:1,ul:1,ol:1,blockquote:1,div:1},u={},v={};l.extend(u,t,{tr:1,p:1,div:1,li:1});l.extend(v,u,{td:1});function w(I){x(I);y(I);};function x(I){var J=I.editor,K=I.data.path;if(J.readOnly)return;var L=J.config.useComputedState,M;L=L===undefined||L;if(!L)M=z(K.lastElement);M=M||K.block||K.blockLimit;if(M.is('body')){var N=J.getSelection().getRanges()[0].getEnclosedNode();N&&N.type==1&&(M=N);}if(!M)return;var O=L?M.getComputedStyle('direction'):M.getStyle('direction')||M.getAttribute('dir');J.getCommand('bidirtl').setState(O=='rtl'?1:2);J.getCommand('bidiltr').setState(O=='ltr'?1:2);};function y(I){var J=I.editor,K=I.data.path.block||I.data.path.blockLimit;J.fire('contentDirChanged',K?K.getComputedStyle('direction'):J.lang.dir);};function z(I){while(I&&!(I.getName() in v||I.is('body'))){var J=I.getParent();if(!J)break;I=J;}return I;};function A(I,J,K,L){if(I.isReadOnly())return;o.setMarker(L,I,'bidi_processed',1);var M=I;while((M=M.getParent())&&!M.is('body')){if(M.getCustomData('bidi_processed')){I.removeStyle('direction');I.removeAttribute('dir');return;}}var N='useComputedState' in K.config?K.config.useComputedState:1,O=N?I.getComputedStyle('direction'):I.getStyle('direction')||I.hasAttribute('dir');if(O==J)return;I.removeStyle('direction');if(N){I.removeAttribute('dir');if(J!=I.getComputedStyle('direction'))I.setAttribute('dir',J);}else I.setAttribute('dir',J);K.forceNextSelectionCheck();};function B(I,J,K){var L=I.getCommonAncestor(false,true);I=I.clone();I.enlarge(K==2?3:2);if(I.checkBoundaryOfElement(L,1)&&I.checkBoundaryOfElement(L,2)){var M;while(L&&L.type==1&&(M=L.getParent())&&M.getChildCount()==1&&!(L.getName() in J))L=M;return L.type==1&&L.getName() in J&&L;}};function C(I){return function(J){var K=J.getSelection(),L=J.config.enterMode,M=K.getRanges();if(M&&M.length){var N={},O=K.createBookmarks(),P=M.createIterator(),Q,R=0;while(Q=P.getNextRange(1)){var S=Q.getEnclosedNode();if(!S||S&&!(S.type==1&&S.getName() in u))S=B(Q,t,L);S&&A(S,I,J,N);
var T,U,V=new k.walker(Q),W=O[R].startNode,X=O[R++].endNode;V.evaluator=function(Y){return!!(Y.type==1&&Y.getName() in t&&!(Y.getName()==(L==1?'p':'div')&&Y.getParent().type==1&&Y.getParent().getName()=='blockquote')&&Y.getPosition(W)&2&&(Y.getPosition(X)&4+16)==4);};while(U=V.next())A(U,I,J,N);T=Q.createIterator();T.enlargeBr=L!=2;while(U=T.getNextParagraph(L==1?'p':'div'))A(U,I,J,N);}o.clearAllMarkers(N);J.forceNextSelectionCheck();K.selectBookmarks(O);J.focus();}};};q.add('bidi',{requires:['styles','button'],init:function(I){var J=function(L,M,N,O){I.addCommand(N,new h.command(I,{exec:O}));I.ui.addButton(L,{label:M,command:N});},K=I.lang.bidi;J('BidiLtr',K.ltr,'bidiltr',C('ltr'));J('BidiRtl',K.rtl,'bidirtl',C('rtl'));I.on('selectionChange',w);I.on('contentDom',function(){I.document.on('dirChanged',function(L){I.fire('dirChanged',{node:L.data,dir:L.data.getDirection(1)});});});}});function D(I){var J=I.getDocument().getBody().getParent();while(I){if(I.equals(J))return false;I=I.getParent();}return true;};function E(I){var J=I==F.setAttribute,K=I==F.removeAttribute,L=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(M,N){var Q=this;if(!Q.getDocument().equals(h.document)){var O;if((M==(J||K?'dir':'direction')||M=='style'&&(K||L.test(N)))&&!D(Q)){O=Q.getDirection(1);var P=I.apply(Q,arguments);if(O!=Q.getDirection(1)){Q.getDocument().fire('dirChanged',Q);return P;}}}return I.apply(Q,arguments);};};var F=o.prototype,G=['setStyle','removeStyle','setAttribute','removeAttribute'];for(var H=0;H<G.length;H++)F[G[H]]=l.override(F[G[H]],E);})();(function(){function t(x,y){var z=y.block||y.blockLimit;if(!z||z.getName()=='body')return 2;if(z.getAscendant('blockquote',true))return 1;return 2;};function u(x){var y=x.editor;if(y.readOnly)return;var z=y.getCommand('blockquote');z.state=t(y,x.data.path);z.fire('state');};function v(x){for(var y=0,z=x.getChildCount(),A;y<z&&(A=x.getChild(y));y++){if(A.type==1&&A.isBlockBoundary())return false;}return true;};var w={exec:function(x){var y=x.getCommand('blockquote').state,z=x.getSelection(),A=z&&z.getRanges(true)[0];if(!A)return;var B=z.createBookmarks();if(j){var C=B[0].startNode,D=B[0].endNode,E;if(C&&C.getParent().getName()=='blockquote'){E=C;while(E=E.getNext()){if(E.type==1&&E.isBlockBoundary()){C.move(E,true);break;}}}if(D&&D.getParent().getName()=='blockquote'){E=D;while(E=E.getPrevious()){if(E.type==1&&E.isBlockBoundary()){D.move(E);break;}}}}var F=A.createIterator(),G;F.enlargeBr=x.config.enterMode!=2;if(y==2){var H=[];
while(G=F.getNextParagraph())H.push(G);if(H.length<1){var I=x.document.createElement(x.config.enterMode==1?'p':'div'),J=B.shift();A.insertNode(I);I.append(new k.text('\ufeff',x.document));A.moveToBookmark(J);A.selectNodeContents(I);A.collapse(true);J=A.createBookmark();H.push(I);B.unshift(J);}var K=H[0].getParent(),L=[];for(var M=0;M<H.length;M++){G=H[M];K=K.getCommonAncestor(G.getParent());}var N={table:1,tbody:1,tr:1,ol:1,ul:1};while(N[K.getName()])K=K.getParent();var O=null;while(H.length>0){G=H.shift();while(!G.getParent().equals(K))G=G.getParent();if(!G.equals(O))L.push(G);O=G;}while(L.length>0){G=L.shift();if(G.getName()=='blockquote'){var P=new k.documentFragment(x.document);while(G.getFirst()){P.append(G.getFirst().remove());H.push(P.getLast());}P.replace(G);}else H.push(G);}var Q=x.document.createElement('blockquote');Q.insertBefore(H[0]);while(H.length>0){G=H.shift();Q.append(G);}}else if(y==1){var R=[],S={};while(G=F.getNextParagraph()){var T=null,U=null;while(G.getParent()){if(G.getParent().getName()=='blockquote'){T=G.getParent();U=G;break;}G=G.getParent();}if(T&&U&&!U.getCustomData('blockquote_moveout')){R.push(U);o.setMarker(S,U,'blockquote_moveout',true);}}o.clearAllMarkers(S);var V=[],W=[];S={};while(R.length>0){var X=R.shift();Q=X.getParent();if(!X.getPrevious())X.remove().insertBefore(Q);else if(!X.getNext())X.remove().insertAfter(Q);else{X.breakParent(X.getParent());W.push(X.getNext());}if(!Q.getCustomData('blockquote_processed')){W.push(Q);o.setMarker(S,Q,'blockquote_processed',true);}V.push(X);}o.clearAllMarkers(S);for(M=W.length-1;M>=0;M--){Q=W[M];if(v(Q))Q.remove();}if(x.config.enterMode==2){var Y=true;while(V.length){X=V.shift();if(X.getName()=='div'){P=new k.documentFragment(x.document);var Z=Y&&X.getPrevious()&&!(X.getPrevious().type==1&&X.getPrevious().isBlockBoundary());if(Z)P.append(x.document.createElement('br'));var aa=X.getNext()&&!(X.getNext().type==1&&X.getNext().isBlockBoundary());while(X.getFirst())X.getFirst().remove().appendTo(P);if(aa)P.append(x.document.createElement('br'));P.replace(X);Y=false;}}}}z.selectBookmarks(B);x.focus();}};q.add('blockquote',{init:function(x){x.addCommand('blockquote',w);x.ui.addButton('Blockquote',{label:x.lang.blockquote,command:'blockquote'});x.on('selectionChange',u);},requires:['domiterator']});})();q.add('button',{beforeInit:function(t){t.ui.addHandler(1,r.button.handler);}});h.UI_BUTTON='button';r.button=function(t){l.extend(this,t,{title:t.label,className:t.className||t.command&&'cke_button_'+t.command||'',click:t.click||(function(u){u.execCommand(t.command);
})});this._={};};r.button.handler={create:function(t){return new r.button(t);}};(function(){r.button.prototype={render:function(t,u){var v=i,w=this._.id=l.getNextId(),x='',y=this.command,z;this._.editor=t;var A={id:w,button:this,editor:t,focus:function(){var G=h.document.getById(w);G.focus();},execute:function(){if(j&&i.version<7)l.setTimeout(function(){this.button.click(t);},0,this);else this.button.click(t);}},B=l.addFunction(function(G){if(A.onkey){G=new k.event(G);return A.onkey(A,G.getKeystroke())!==false;}}),C=l.addFunction(function(G){var H;if(A.onfocus)H=A.onfocus(A,new k.event(G))!==false;if(i.gecko&&i.version<10900)G.preventBubble();return H;});A.clickFn=z=l.addFunction(A.execute,A);if(this.modes){var D={};function E(){var G=t.mode;if(G){var H=this.modes[G]?D[G]!=undefined?D[G]:2:0;this.setState(t.readOnly&&!this.readOnly?0:H);}};t.on('beforeModeUnload',function(){if(t.mode&&this._.state!=0)D[t.mode]=this._.state;},this);t.on('mode',E,this);!this.readOnly&&t.on('readOnly',E,this);}else if(y){y=t.getCommand(y);if(y){y.on('state',function(){this.setState(y.state);},this);x+='cke_'+(y.state==1?'on':y.state==0?'disabled':'off');}}if(!y)x+='cke_off';if(this.className)x+=' '+this.className;u.push('<span class="cke_button'+(this.icon&&this.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">','<a id="',w,'" class="',x,'"',v.gecko&&v.version>=10900&&!v.hc?'':'" href="javascript:void(\''+(this.title||'').replace("'",'')+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+w+'_label"'+(this.hasArrow?' aria-haspopup="true"':''));if(v.opera||v.gecko&&v.mac)u.push(' onkeypress="return false;"');if(v.gecko)u.push(' onblur="this.style.cssText = this.style.cssText;"');u.push(' onkeydown="return CKEDITOR.tools.callFunction(',B,', event);" onfocus="return CKEDITOR.tools.callFunction(',C,', event);" '+(j?'onclick="return false;" onmouseup':'onclick')+'="CKEDITOR.tools.callFunction(',z,', this); return false;"><span class="cke_icon"');if(this.icon){var F=(this.iconOffset||0)*-16;u.push(' style="background-image:url(',h.getUrl(this.icon),');background-position:0 '+F+'px;"');}u.push('>&nbsp;</span><span id="',w,'_label" class="cke_label">',this.label,'</span>');if(this.hasArrow)u.push('<span class="cke_buttonarrow">'+(i.hc?'&#9660;':'&nbsp;')+'</span>');u.push('</a>','</span>');if(this.onRender)this.onRender();return A;},setState:function(t){if(this._.state==t)return false;this._.state=t;var u=h.document.getById(this._.id);if(u){u.setState(t);
t==0?u.setAttribute('aria-disabled',true):u.removeAttribute('aria-disabled');t==1?u.setAttribute('aria-pressed',true):u.removeAttribute('aria-pressed');return true;}else return false;}};})();r.prototype.addButton=function(t,u){this.add(t,1,u);};(function(){var t=function(F,G){var H=F.document,I=H.getBody(),J=false,K=function(){J=true;};I.on(G,K);(i.version>7?H.$:H.$.selection.createRange()).execCommand(G);I.removeListener(G,K);return J;},u=j?function(F,G){return t(F,G);}:function(F,G){try{return F.document.$.execCommand(G,false,null);}catch(H){return false;}},v=function(F){var G=this;G.type=F;G.canUndo=G.type=='cut';G.startDisabled=true;};v.prototype={exec:function(F,G){this.type=='cut'&&A(F);var H=u(F,this.type);if(!H)alert(F.lang.clipboard[this.type+'Error']);return H;}};var w={canUndo:false,exec:j?function(F){F.focus();if(!F.document.getBody().fire('beforepaste')&&!t(F,'paste')){F.fire('pasteDialog');return false;}}:function(F){try{if(!F.document.getBody().fire('beforepaste')&&!F.document.$.execCommand('Paste',false,null))throw 0;}catch(G){setTimeout(function(){F.fire('pasteDialog');},0);return false;}}},x=function(F){if(this.mode!='wysiwyg')return;switch(F.data.keyCode){case 1000+86:case 2000+45:var G=this.document.getBody();if(i.opera||i.gecko)G.fire('paste');return;case 1000+88:case 2000+46:var H=this;this.fire('saveSnapshot');setTimeout(function(){H.fire('saveSnapshot');},0);}};function y(F){F.cancel();};function z(F,G,H){var I=this.document;if(I.getById('cke_pastebin'))return;if(G=='text'&&F.data&&F.data.$.clipboardData){var J=F.data.$.clipboardData.getData('text/plain');if(J){F.data.preventDefault();H(J);return;}}var K=this.getSelection(),L=new k.range(I),M=new o(G=='text'?'textarea':i.webkit?'body':'div',I);M.setAttribute('id','cke_pastebin');i.webkit&&M.append(I.createText('\xa0'));I.getBody().append(M);M.setStyles({position:'absolute',top:K.getStartElement().getDocumentPosition().y+'px',width:'1px',height:'1px',overflow:'hidden'});M.setStyle(this.config.contentsLangDirection=='ltr'?'left':'right','-1000px');var N=K.createBookmarks();this.on('selectionChange',y,null,null,0);if(G=='text')M.$.focus();else{L.setStartAt(M,1);L.setEndAt(M,2);L.select(true);}var O=this;window.setTimeout(function(){O.document.getBody().focus();O.removeListener('selectionChange',y);if(i.ie7Compat){K.selectBookmarks(N);M.remove();}else{M.remove();K.selectBookmarks(N);}var P;M=i.webkit&&(P=M.getFirst())&&P.is&&P.hasClass('Apple-style-span')?P:M;H(M['get'+(G=='text'?'Value':'Html')]());
},0);};function A(F){if(!j||i.quirks)return;var G=F.getSelection(),H;if(G.getType()==3&&(H=G.getSelectedElement())){var I=G.getRanges()[0],J=F.document.createText('');J.insertBefore(H);I.setStartBefore(J);I.setEndAfter(H);G.selectRanges([I]);setTimeout(function(){if(H.getParent()){J.remove();G.selectElement(H);}},0);}};var B,C;function D(F,G){var H;if(C&&F in {Paste:1,Cut:1})return 0;if(F=='Paste'){j&&(B=1);try{H=G.document.$.queryCommandEnabled(F)||i.webkit;}catch(K){}B=0;}else{var I=G.getSelection(),J=I&&I.getRanges();H=I&&!(J.length==1&&J[0].collapsed);}return H?2:0;};function E(){var G=this;if(G.mode!='wysiwyg')return;var F=D('Paste',G);G.getCommand('cut').setState(D('Cut',G));G.getCommand('copy').setState(D('Copy',G));G.getCommand('paste').setState(F);G.fire('pasteState',F);};q.add('clipboard',{requires:['dialog','htmldataprocessor'],init:function(F){F.on('paste',function(H){var I=H.data;if(I.html)F.insertHtml(I.html);else if(I.text)F.insertText(I.text);setTimeout(function(){F.fire('afterPaste');},0);},null,null,1000);F.on('pasteDialog',function(H){setTimeout(function(){F.openDialog('paste');},0);});F.on('pasteState',function(H){F.getCommand('paste').setState(H.data);});function G(H,I,J,K){var L=F.lang[I];F.addCommand(I,J);F.ui.addButton(H,{label:L,command:I});if(F.addMenuItems)F.addMenuItem(I,{label:L,command:I,group:'clipboard',order:K});};G('Cut','cut',new v('cut'),1);G('Copy','copy',new v('copy'),4);G('Paste','paste',w,8);h.dialog.add('paste',h.getUrl(this.path+'dialogs/paste.js'));F.on('key',x,F);F.on('contentDom',function(){var H=F.document.getBody();H.on(!j?'paste':'beforepaste',function(I){if(B)return;var J=I.data&&I.data.$;if(j&&J&&!J.ctrlKey)return;var K={mode:'html'};F.fire('beforePaste',K);z.call(F,I,K.mode,function(L){if(!(L=l.trim(L.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,''))))return;var M={};M[K.mode]=L;F.fire('paste',M);});});if(j){H.on('contextmenu',function(){B=1;setTimeout(function(){B=0;},0);});H.on('paste',function(I){if(!F.document.getById('cke_pastebin')){I.data.preventDefault();B=0;w.exec(F);}});}H.on('beforecut',function(){!B&&A(F);});H.on('mouseup',function(){setTimeout(function(){E.call(F);},0);},F);H.on('keyup',E,F);});F.on('selectionChange',function(H){C=H.data.selection.getRanges()[0].checkReadOnly();E.call(F);});if(F.contextMenu)F.contextMenu.addListener(function(H,I){var J=I.getRanges()[0].checkReadOnly();return{cut:D('Cut',F),copy:D('Copy',F),paste:D('Paste',F)};});}});})();q.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(t){var u=t.config,v=t.lang.colorButton,w;
if(!i.hc){x('TextColor','fore',v.textColorTitle);x('BGColor','back',v.bgColorTitle);}function x(A,B,C){var D=l.getNextId()+'_colorBox';t.ui.add(A,4,{label:C,title:C,className:'cke_button_'+A.toLowerCase(),modes:{wysiwyg:1},panel:{css:t.skin.editor.css,attributes:{role:'listbox','aria-label':v.panelTitle}},onBlock:function(E,F){F.autoSize=true;F.element.addClass('cke_colorblock');F.element.setHtml(y(E,B,D));F.element.getDocument().getBody().setStyle('overflow','hidden');r.fire('ready',this);var G=F.keys,H=t.lang.dir=='rtl';G[H?37:39]='next';G[40]='next';G[9]='next';G[H?39:37]='prev';G[38]='prev';G[2000+9]='prev';G[32]='click';},onOpen:function(){var E=t.getSelection(),F=E&&E.getStartElement(),G=new k.elementPath(F),H;F=G.block||G.blockLimit||t.document.getBody();do H=F&&F.getComputedStyle(B=='back'?'background-color':'color')||'transparent';while(B=='back'&&H=='transparent'&&F&&(F=F.getParent()))if(!H||H=='transparent')H='#ffffff';this._.panel._.iframe.getFrameDocument().getById(D).setStyle('background-color',H);}});};function y(A,B,C){var D=[],E=u.colorButton_colors.split(','),F=l.addFunction(function(L,M){if(L=='?'){var N=arguments.callee;function O(Q){this.removeListener('ok',O);this.removeListener('cancel',O);Q.name=='ok'&&N(this.getContentElement('picker','selectedColor').getValue(),M);};t.openDialog('colordialog',function(){this.on('ok',O);this.on('cancel',O);});return;}t.focus();A.hide(false);t.fire('saveSnapshot');new h.style(u['colorButton_'+M+'Style'],{color:'inherit'}).remove(t.document);if(L){var P=u['colorButton_'+M+'Style'];P.childRule=M=='back'?function(Q){return z(Q);}:function(Q){return!(Q.is('a')||Q.getElementsByTag('a').count())||z(Q);};new h.style(P,{color:L}).apply(t.document);}t.fire('saveSnapshot');});D.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',v.auto,'" onclick="CKEDITOR.tools.callFunction(',F,",null,'",B,"');return false;\" href=\"javascript:void('",v.auto,'\')" role="option"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',C,'"></span></td><td colspan=7 align=center>',v.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var G=0;G<E.length;G++){if(G%8===0)D.push('</tr><tr>');var H=E[G].split('/'),I=H[0],J=H[1]||I;if(!H[1])I='#'+I.replace(/^(.)(.)(.)$/,'$1$1$2$2$3$3');var K=t.lang.colors[J]||J;D.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',K,'" onclick="CKEDITOR.tools.callFunction(',F,",'",I,"','",B,"'); return false;\" href=\"javascript:void('",K,'\')" role="option"><span class="cke_colorbox" style="background-color:#',J,'"></span></a></td>');
}if(u.colorButton_enableMore===undefined||u.colorButton_enableMore)D.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',v.more,'" onclick="CKEDITOR.tools.callFunction(',F,",'?','",B,"');return false;\" href=\"javascript:void('",v.more,"')\"",' role="option">',v.more,'</a></td>');D.push('</tr></table>');return D.join('');};function z(A){return A.getAttribute('contentEditable')=='false'||A.getAttribute('data-nostyle');};}});p.colorButton_colors='000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';p.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};p.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};q.colordialog={requires:['dialog'],init:function(t){t.addCommand('colordialog',new h.dialogCommand('colordialog'));h.dialog.add('colordialog',this.path+'dialogs/colordialog.js');}};q.add('colordialog',q.colordialog);q.add('contextmenu',{requires:['menu'],onLoad:function(){q.contextMenu=l.createClass({base:h.menu,$:function(t){this.base.call(this,t,{panel:{className:t.skinClass+' cke_contextmenu',attributes:{'aria-label':t.lang.contextmenu.options}}});},proto:{addTarget:function(t,u){if(i.opera&&!('oncontextmenu' in document.body)){var v;t.on('mousedown',function(z){z=z.data;if(z.$.button!=2){if(z.getKeystroke()==1000+1)t.fire('contextmenu',z);return;}if(u&&(i.mac?z.$.metaKey:z.$.ctrlKey))return;var A=z.getTarget();if(!v){var B=A.getDocument();v=B.createElement('input');v.$.type='button';B.getBody().append(v);}v.setAttribute('style','position:absolute;top:'+(z.$.clientY-2)+'px;left:'+(z.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01');});t.on('mouseup',function(z){if(v){v.remove();v=undefined;t.fire('contextmenu',z.data);}});}t.on('contextmenu',function(z){var A=z.data;if(u&&(i.webkit?w:i.mac?A.$.metaKey:A.$.ctrlKey))return;A.preventDefault();var B=A.getTarget().getDocument().getDocumentElement(),C=A.$.clientX,D=A.$.clientY;l.setTimeout(function(){this.open(B,null,C,D);},j?200:0,this);},this);if(i.opera)t.on('keypress',function(z){var A=z.data;if(A.$.keyCode===0)A.preventDefault();});if(i.webkit){var w,x=function(z){w=i.mac?z.data.$.metaKey:z.data.$.ctrlKey;},y=function(){w=0;};t.on('keydown',x);t.on('keyup',y);
t.on('contextmenu',y);}},open:function(t,u,v,w){this.editor.focus();t=t||h.document.getDocumentElement();this.show(t,u,v,w);}}});},beforeInit:function(t){t.contextMenu=new q.contextMenu(t);t.addCommand('contextMenu',{exec:function(){t.contextMenu.open(t.document.getBody());}});}});(function(){function t(v){var w=this.att,x=v&&v.hasAttribute(w)&&v.getAttribute(w)||'';if(x!==undefined)this.setValue(x);};function u(){var v;for(var w=0;w<arguments.length;w++){if(arguments[w] instanceof o){v=arguments[w];break;}}if(v){var x=this.att,y=this.getValue();if(y)v.setAttribute(x,y);else v.removeAttribute(x,y);}};q.add('dialogadvtab',{createAdvancedTab:function(v,w){if(!w)w={id:1,dir:1,classes:1,styles:1};var x=v.lang.common,y={id:'advanced',label:x.advancedTab,title:x.advancedTab,elements:[{type:'vbox',padding:1,children:[]}]},z=[];if(w.id||w.dir){if(w.id)z.push({id:'advId',att:'id',type:'text',label:x.id,setup:t,commit:u});if(w.dir)z.push({id:'advLangDir',att:'dir',type:'select',label:x.langDir,'default':'',style:'width:100%',items:[[x.notSet,''],[x.langDirLTR,'ltr'],[x.langDirRTL,'rtl']],setup:t,commit:u});y.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(z)});}if(w.styles||w.classes){z=[];if(w.styles)z.push({id:'advStyles',att:'style',type:'text',label:x.styles,'default':'',validate:h.dialog.validate.inlineStyle(x.invalidInlineStyle),onChange:function(){},getStyle:function(A,B){var C=this.getValue().match(new RegExp('(?:^|;)\\s*'+A+'\\s*:\\s*([^;]*)','i'));return C?C[1]:B;},updateStyle:function(A,B){var C=this.getValue(),D=v.document.createElement('span');D.setAttribute('style',C);D.setStyle(A,B);C=l.normalizeCssText(D.getAttribute('style'));this.setValue(C,1);},setup:t,commit:u});if(w.classes)z.push({type:'hbox',widths:['45%','55%'],children:[{id:'advCSSClasses',att:'class',type:'text',label:x.cssClasses,'default':'',setup:t,commit:u}]});y.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(z)});}return y;}});})();(function(){q.add('div',{requires:['editingblock','dialog','domiterator','styles'],init:function(t){var u=t.lang.div;t.addCommand('creatediv',new h.dialogCommand('creatediv'));t.addCommand('editdiv',new h.dialogCommand('editdiv'));t.addCommand('removediv',{exec:function(v){var w=v.getSelection(),x=w&&w.getRanges(),y,z=w.createBookmarks(),A,B=[];function C(E){var F=new k.elementPath(E),G=F.blockLimit,H=G.is('div')&&G;if(H&&!H.data('cke-div-added')){B.push(H);H.data('cke-div-added');}};for(var D=0;D<x.length;
D++){y=x[D];if(y.collapsed)C(w.getStartElement());else{A=new k.walker(y);A.evaluator=C;A.lastForward();}}for(D=0;D<B.length;D++)B[D].remove(true);w.selectBookmarks(z);}});t.ui.addButton('CreateDiv',{label:u.toolbar,command:'creatediv'});if(t.addMenuItems){t.addMenuItems({editdiv:{label:u.edit,command:'editdiv',group:'div',order:1},removediv:{label:u.remove,command:'removediv',group:'div',order:5}});if(t.contextMenu)t.contextMenu.addListener(function(v,w){if(!v||v.isReadOnly())return null;var x=new k.elementPath(v),y=x.blockLimit;if(y&&y.getAscendant('div',true))return{editdiv:2,removediv:2};return null;});}h.dialog.add('creatediv',this.path+'dialogs/div.js');h.dialog.add('editdiv',this.path+'dialogs/div.js');}});})();(function(){var t={toolbarFocus:{editorFocus:false,readOnly:1,exec:function(v){var w=v._.elementsPath.idBase,x=h.document.getById(w+'0');x&&x.focus(j||i.air);}}},u='<span class="cke_empty">&nbsp;</span>';q.add('elementspath',{requires:['selection'],init:function(v){var w='cke_path_'+v.name,x,y=function(){if(!x)x=h.document.getById(w);return x;},z='cke_elementspath_'+l.getNextNumber()+'_';v._.elementsPath={idBase:z,filters:[]};v.on('themeSpace',function(E){if(E.data.space=='bottom')E.data.html+='<span id="'+w+'_label" class="cke_voice_label">'+v.lang.elementsPath.eleLabel+'</span>'+'<div id="'+w+'" class="cke_path" role="group" aria-labelledby="'+w+'_label">'+u+'</div>';});function A(E){v.focus();var F=v._.elementsPath.list[E];if(F.is('body')){var G=new k.range(v.document);G.selectNodeContents(F);G.select();}else v.getSelection().selectElement(F);};var B=l.addFunction(A),C=l.addFunction(function(E,F){var G=v._.elementsPath.idBase,H;F=new k.event(F);var I=v.lang.dir=='rtl';switch(F.getKeystroke()){case I?39:37:case 9:H=h.document.getById(G+(E+1));if(!H)H=h.document.getById(G+'0');H.focus();return false;case I?37:39:case 2000+9:H=h.document.getById(G+(E-1));if(!H)H=h.document.getById(G+(v._.elementsPath.list.length-1));H.focus();return false;case 27:v.focus();return false;case 13:case 32:A(E);return false;}return true;});v.on('selectionChange',function(E){var F=i,G=E.data.selection,H=G.getStartElement(),I=[],J=E.editor,K=J._.elementsPath.list=[],L=J._.elementsPath.filters;while(H){var M=0,N;if(H.data('cke-display-name'))N=H.data('cke-display-name');else if(H.data('cke-real-element-type'))N=H.data('cke-real-element-type');else N=H.getName();for(var O=0;O<L.length;O++){var P=L[O](H,N);if(P===false){M=1;break;}N=P||N;}if(!M){var Q=K.push(H)-1,R='';if(F.opera||F.gecko&&F.mac)R+=' onkeypress="return false;"';
if(F.gecko)R+=' onblur="this.style.cssText = this.style.cssText;"';var S=J.lang.elementsPath.eleTitle.replace(/%1/,N);I.unshift('<a id="',z,Q,'" href="javascript:void(\'',N,'\')" tabindex="-1" title="',S,'"'+(i.gecko&&i.version<10900?' onfocus="event.preventBubble();"':'')+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',C,',',Q,', event );"'+R,' onclick="CKEDITOR.tools.callFunction('+B,',',Q,'); return false;"',' role="button" aria-labelledby="'+z+Q+'_label">',N,'<span id="',z,Q,'_label" class="cke_label">'+S+'</span>','</a>');}if(N=='body')break;H=H.getParent();}var T=y();T.setHtml(I.join('')+u);J.fire('elementsPathUpdate',{space:T});});function D(){x&&x.setHtml(u);delete v._.elementsPath.list;};v.on('readOnly',D);v.on('contentDomUnload',D);v.addCommand('elementsPathFocus',t.toolbarFocus);}});})();(function(){q.add('enterkey',{requires:['keystrokes','indent'],init:function(A){A.addCommand('enter',{modes:{wysiwyg:1},editorFocus:false,exec:function(C){y(C);}});A.addCommand('shiftEnter',{modes:{wysiwyg:1},editorFocus:false,exec:function(C){x(C);}});var B=A.keystrokeHandler.keystrokes;B[13]='enter';B[2000+13]='shiftEnter';}});q.enterkey={enterBlock:function(A,B,C,D){C=C||z(A);if(!C)return;var E=C.document,F=C.checkStartOfBlock(),G=C.checkEndOfBlock(),H=new k.elementPath(C.startContainer),I=H.block;if(F&&G){if(I&&(I.is('li')||I.getParent().is('li'))){A.execCommand('outdent');return;}if(I&&I.getParent().is('blockquote')){I.breakParent(I.getParent());if(!I.getPrevious().getFirst(k.walker.invisible(1)))I.getPrevious().remove();if(!I.getNext().getFirst(k.walker.invisible(1)))I.getNext().remove();C.moveToElementEditStart(I);C.select();return;}}else if(I&&I.is('pre')){if(!G){u(A,B,C,D);return;}}else if(I&&m.$captionBlock[I.getName()]){u(A,B,C,D);return;}var J=B==3?'div':'p',K=C.splitBlock(J);if(!K)return;var L=K.previousBlock,M=K.nextBlock,N=K.wasStartOfBlock,O=K.wasEndOfBlock,P;if(M){P=M.getParent();if(P.is('li')){M.breakParent(P);M.move(M.getNext(),1);}}else if(L&&(P=L.getParent())&&P.is('li')){L.breakParent(P);P=L.getNext();C.moveToElementEditStart(P);L.move(L.getPrevious());}if(!N&&!O){if(M.is('li')&&(P=M.getFirst(k.walker.invisible(true)))&&P.is&&P.is('ul','ol'))(j?E.createText('\xa0'):E.createElement('br')).insertBefore(P);if(M)C.moveToElementEditStart(M);}else{var Q,R;if(L){if(L.is('li')||!(w.test(L.getName())||L.is('pre')))Q=L.clone();}else if(M)Q=M.clone();if(!Q){if(P&&P.is('li'))Q=P;else{Q=E.createElement(J);if(L&&(R=L.getDirection()))Q.setAttribute('dir',R);
}}else if(D&&!Q.is('li'))Q.renameNode(J);var S=K.elementPath;if(S)for(var T=0,U=S.elements.length;T<U;T++){var V=S.elements[T];if(V.equals(S.block)||V.equals(S.blockLimit))break;if(m.$removeEmpty[V.getName()]){V=V.clone();Q.moveChildren(V);Q.append(V);}}if(!j)Q.appendBogus();if(!Q.getParent())C.insertNode(Q);Q.is('li')&&Q.removeAttribute('value');if(j&&N&&(!O||!L.getChildCount())){C.moveToElementEditStart(O?L:Q);C.select();}C.moveToElementEditStart(N&&!O?M:Q);}if(!j)if(M){var W=E.createElement('span');W.setHtml('&nbsp;');C.insertNode(W);W.scrollIntoView();C.deleteContents();}else Q.scrollIntoView();C.select();},enterBr:function(A,B,C,D){C=C||z(A);if(!C)return;var E=C.document,F=B==3?'div':'p',G=C.checkEndOfBlock(),H=new k.elementPath(A.getSelection().getStartElement()),I=H.block,J=I&&H.block.getName(),K=false;if(!D&&J=='li'){v(A,B,C,D);return;}if(!D&&G&&w.test(J)){var L,M;if(M=I.getDirection()){L=E.createElement('div');L.setAttribute('dir',M);L.insertAfter(I);C.setStart(L,0);}else{E.createElement('br').insertAfter(I);if(i.gecko)E.createText('').insertAfter(I);C.setStartAt(I.getNext(),j?3:1);}}else{var N;K=J=='pre';if(J=='pre'&&j&&i.version<8)N=E.createText('\r');else N=E.createElement('br');C.deleteContents();C.insertNode(N);if(j)C.setStartAt(N,4);else{E.createText('\ufeff').insertAfter(N);if(G)N.getParent().appendBogus();N.getNext().$.nodeValue='';C.setStartAt(N.getNext(),1);var O=null;if(!i.gecko){O=E.createElement('span');O.setHtml('&nbsp;');}else O=E.createElement('br');O.insertBefore(N.getNext());O.scrollIntoView();O.remove();}}C.collapse(true);C.select(K);}};var t=q.enterkey,u=t.enterBr,v=t.enterBlock,w=/^h[1-6]$/;function x(A){if(A.mode!='wysiwyg')return false;return y(A,A.config.shiftEnterMode,1);};function y(A,B,C){C=A.config.forceEnterMode||C;if(A.mode!='wysiwyg')return false;if(!B)B=A.config.enterMode;setTimeout(function(){A.fire('saveSnapshot');if(B==2)u(A,B,null,C);else v(A,B,null,C);A.fire('saveSnapshot');},0);return true;};function z(A){var B=A.getSelection().getRanges(true);for(var C=B.length-1;C>0;C--)B[C].deleteContents();return B[0];};})();(function(){var t='nbsp,gt,lt,amp',u='quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',v='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',w='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';
function x(y,z){var A={},B=[],C={nbsp:'\xa0',shy:'­',gt:'>',lt:'<',amp:'&',apos:"'",quot:'"'};y=y.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(H,I){var J=z?'&'+I+';':C[I],K=z?C[I]:'&'+I+';';A[J]=K;B.push(J);return '';});if(!z&&y){y=y.split(',');var D=document.createElement('div'),E;D.innerHTML='&'+y.join(';&')+';';E=D.innerHTML;D=null;for(var F=0;F<E.length;F++){var G=E.charAt(F);A[G]='&'+y[F]+';';B.push(G);}}A.regex=B.join(z?'|':'');return A;};q.add('entities',{afterInit:function(y){var z=y.config,A=y.dataProcessor,B=A&&A.htmlFilter;if(B){var C=[];if(z.basicEntities!==false)C.push(t);if(z.entities){if(C.length)C.push(u);if(z.entities_latin)C.push(v);if(z.entities_greek)C.push(w);if(z.entities_additional)C.push(z.entities_additional);}var D=x(C.join(',')),E=D.regex?'['+D.regex+']':'a^';delete D.regex;if(z.entities&&z.entities_processNumerical)E='[^ -~]|'+E;E=new RegExp(E,'g');function F(J){return z.entities_processNumerical=='force'||!D[J]?'&#'+J.charCodeAt(0)+';':D[J];};var G=x([t,'shy'].join(','),true),H=new RegExp(G.regex,'g');function I(J){return G[J];};B.addRules({text:function(J){return J.replace(H,I).replace(E,F);}});}}});})();p.basicEntities=true;p.entities=true;p.entities_latin=true;p.entities_greek=true;p.entities_additional='#39';(function(){function t(C,D){var E=[];if(!D)return C;else for(var F in D)E.push(F+'='+encodeURIComponent(D[F]));return C+(C.indexOf('?')!=-1?'&':'?')+E.join('&');};function u(C){C+='';var D=C.charAt(0).toUpperCase();return D+C.substr(1);};function v(C){var J=this;var D=J.getDialog(),E=D.getParentEditor();E._.filebrowserSe=J;var F=E.config['filebrowser'+u(D.getName())+'WindowWidth']||E.config.filebrowserWindowWidth||'80%',G=E.config['filebrowser'+u(D.getName())+'WindowHeight']||E.config.filebrowserWindowHeight||'70%',H=J.filebrowser.params||{};H.CKEditor=E.name;H.CKEditorFuncNum=E._.filebrowserFn;if(!H.langCode)H.langCode=E.langCode;var I=t(J.filebrowser.url,H);E.popup(I,F,G,E.config.filebrowserWindowFeatures||E.config.fileBrowserWindowFeatures);};function w(C){var F=this;var D=F.getDialog(),E=D.getParentEditor();E._.filebrowserSe=F;if(!D.getContentElement(F['for'][0],F['for'][1]).getInputElement().$.value)return false;if(!D.getContentElement(F['for'][0],F['for'][1]).getAction())return false;return true;};function x(C,D,E){var F=E.params||{};F.CKEditor=C.name;F.CKEditorFuncNum=C._.filebrowserFn;if(!F.langCode)F.langCode=C.langCode;D.action=t(E.url,F);D.filebrowser=E;};function y(C,D,E,F){var G,H;for(var I in F){G=F[I];
if(G.type=='hbox'||G.type=='vbox'||G.type=='fieldset')y(C,D,E,G.children);if(!G.filebrowser)continue;if(typeof G.filebrowser=='string'){var J={action:G.type=='fileButton'?'QuickUpload':'Browse',target:G.filebrowser};G.filebrowser=J;}if(G.filebrowser.action=='Browse'){var K=G.filebrowser.url;if(K===undefined){K=C.config['filebrowser'+u(D)+'BrowseUrl'];if(K===undefined)K=C.config.filebrowserBrowseUrl;}if(K){G.onClick=v;G.filebrowser.url=K;G.hidden=false;}}else if(G.filebrowser.action=='QuickUpload'&&G['for']){K=G.filebrowser.url;if(K===undefined){K=C.config['filebrowser'+u(D)+'UploadUrl'];if(K===undefined)K=C.config.filebrowserUploadUrl;}if(K){var L=G.onClick;G.onClick=function(M){var N=M.sender;if(L&&L.call(N,M)===false)return false;return w.call(N,M);};G.filebrowser.url=K;G.hidden=false;x(C,E.getContents(G['for'][0]).get(G['for'][1]),G.filebrowser);}}}};function z(C,D){var E=D.getDialog(),F=D.filebrowser.target||null;if(F){var G=F.split(':'),H=E.getContentElement(G[0],G[1]);if(H){H.setValue(C);E.selectPage(G[0]);}}};function A(C,D,E){if(E.indexOf(';')!==-1){var F=E.split(';');for(var G=0;G<F.length;G++){if(A(C,D,F[G]))return true;}return false;}var H=C.getContents(D).get(E).filebrowser;return H&&H.url;};function B(C,D){var H=this;var E=H._.filebrowserSe.getDialog(),F=H._.filebrowserSe['for'],G=H._.filebrowserSe.filebrowser.onSelect;if(F)E.getContentElement(F[0],F[1]).reset();if(typeof D=='function'&&D.call(H._.filebrowserSe)===false)return;if(G&&G.call(H._.filebrowserSe,C,D)===false)return;if(typeof D=='string'&&D)alert(D);if(C)z(C,H._.filebrowserSe);};q.add('filebrowser',{init:function(C,D){C._.filebrowserFn=l.addFunction(B,C);C.on('destroy',function(){l.removeFunction(this._.filebrowserFn);});}});h.on('dialogDefinition',function(C){var D=C.data.definition,E;for(var F in D.contents){if(E=D.contents[F]){y(C.editor,C.data.name,D,E.elements);if(E.hidden&&E.filebrowser)E.hidden=!A(D,E.id,E.filebrowser);}}});})();q.add('find',{requires:['dialog'],init:function(t){var u=q.find;t.ui.addButton('Find',{label:t.lang.findAndReplace.find,command:'find'});var v=t.addCommand('find',new h.dialogCommand('find'));v.canUndo=false;v.readOnly=1;t.ui.addButton('Replace',{label:t.lang.findAndReplace.replace,command:'replace'});var w=t.addCommand('replace',new h.dialogCommand('replace'));w.canUndo=false;h.dialog.add('find',this.path+'dialogs/find.js');h.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});p.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};
(function(){var t=/\.swf(?:$|\?)/i;function u(w){var x=w.attributes;return x.type=='application/x-shockwave-flash'||t.test(x.src||'');};function v(w,x){return w.createFakeParserElement(x,'cke_flash','flash',true);};q.add('flash',{init:function(w){w.addCommand('flash',new h.dialogCommand('flash'));w.ui.addButton('Flash',{label:w.lang.common.flash,command:'flash'});h.dialog.add('flash',this.path+'dialogs/flash.js');w.addCss('img.cke_flash{background-image: url('+h.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(w.addMenuItems)w.addMenuItems({flash:{label:w.lang.flash.properties,command:'flash',group:'flash'}});w.on('doubleclick',function(x){var y=x.data.element;if(y.is('img')&&y.data('cke-real-element-type')=='flash')x.data.dialog='flash';});if(w.contextMenu)w.contextMenu.addListener(function(x,y){if(x&&x.is('img')&&!x.isReadOnly()&&x.data('cke-real-element-type')=='flash')return{flash:2};});},afterInit:function(w){var x=w.dataProcessor,y=x&&x.dataFilter;if(y)y.addRules({elements:{'cke:object':function(z){var A=z.attributes,B=A.classid&&String(A.classid).toLowerCase();if(!B&&!u(z)){for(var C=0;C<z.children.length;C++){if(z.children[C].name=='cke:embed'){if(!u(z.children[C]))return null;return v(w,z);}}return null;}return v(w,z);},'cke:embed':function(z){if(!u(z))return null;return v(w,z);}}},5);},requires:['fakeobjects']});})();l.extend(p,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function t(u,v,w,x,y,z,A){var B=u.config,C=y.split(';'),D=[],E={};for(var F=0;F<C.length;F++){var G=C[F];if(G){G=G.split('/');var H={},I=C[F]=G[0];H[w]=D[F]=G[1]||I;E[I]=new h.style(A,H);E[I]._.definition.name=I;}else C.splice(F--,1);}u.ui.addRichCombo(v,{label:x.label,title:x.panelTitle,className:'cke_'+(w=='size'?'fontSize':'font'),panel:{css:u.skin.editor.css.concat(B.contentsCss),multiSelect:false,attributes:{'aria-label':x.panelTitle}},init:function(){this.startGroup(x.panelTitle);for(var J=0;J<C.length;J++){var K=C[J];this.add(K,E[K].buildPreview(),K);}},onClick:function(J){u.focus();u.fire('saveSnapshot');var K=E[J];if(this.getValue()==J)K.remove(u.document);else K.apply(u.document);u.fire('saveSnapshot');},onRender:function(){u.on('selectionChange',function(J){var K=this.getValue(),L=J.data.path,M=L.elements;for(var N=0,O;N<M.length;N++){O=M[N];for(var P in E){if(E[P].checkElementMatch(O,true)){if(P!=K)this.setValue(P);
return;}}}this.setValue('',z);},this);}});};q.add('font',{requires:['richcombo','styles'],init:function(u){var v=u.config;t(u,'Font','family',u.lang.font,v.font_names,v.font_defaultLabel,v.font_style);t(u,'FontSize','size',u.lang.fontSize,v.fontSize_sizes,v.fontSize_defaultLabel,v.fontSize_style);}});})();p.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';p.font_defaultLabel='';p.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};p.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';p.fontSize_defaultLabel='';p.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{size:null}}]};q.add('format',{requires:['richcombo','styles'],init:function(t){var u=t.config,v=t.lang.format,w=u.format_tags.split(';'),x={};for(var y=0;y<w.length;y++){var z=w[y];x[z]=new h.style(u['format_'+z]);x[z]._.enterMode=t.config.enterMode;}t.ui.addRichCombo('Format',{label:v.label,title:v.panelTitle,className:'cke_format',panel:{css:t.skin.editor.css.concat(u.contentsCss),multiSelect:false,attributes:{'aria-label':v.panelTitle}},init:function(){this.startGroup(v.panelTitle);for(var A in x){var B=v['tag_'+A];this.add(A,x[A].buildPreview(B),B);}},onClick:function(A){t.focus();t.fire('saveSnapshot');var B=x[A],C=new k.elementPath(t.getSelection().getStartElement());B[B.checkActive(C)?'remove':'apply'](t.document);setTimeout(function(){t.fire('saveSnapshot');},0);},onRender:function(){t.on('selectionChange',function(A){var B=this.getValue(),C=A.data.path;for(var D in x){if(x[D].checkActive(C)){if(D!=B)this.setValue(D,t.lang.format['tag_'+D]);return;}}this.setValue('');},this);}});}});p.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';p.format_p={element:'p'};p.format_div={element:'div'};p.format_pre={element:'pre'};p.format_address={element:'address'};p.format_h1={element:'h1'};p.format_h2={element:'h2'};p.format_h3={element:'h3'};p.format_h4={element:'h4'};p.format_h5={element:'h5'};p.format_h6={element:'h6'};q.add('forms',{requires:['dialog'],init:function(t){var u=t.lang;
t.addCss('form{border: 1px dotted #FF0000;padding: 2px;}\n');t.addCss('img.cke_hidden{background-image: url('+h.getUrl(this.path+'images/hiddenfield.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 16px !important;'+'height: 16px !important;'+'}');var v=function(x,y,z){t.addCommand(y,new h.dialogCommand(y));t.ui.addButton(x,{label:u.common[x.charAt(0).toLowerCase()+x.slice(1)],command:y});h.dialog.add(y,z);},w=this.path+'dialogs/';v('Form','form',w+'form.js');v('Checkbox','checkbox',w+'checkbox.js');v('Radio','radio',w+'radio.js');v('TextField','textfield',w+'textfield.js');v('Textarea','textarea',w+'textarea.js');v('Select','select',w+'select.js');v('Button','button',w+'button.js');v('ImageButton','imagebutton',q.getPath('image')+'dialogs/image.js');v('HiddenField','hiddenfield',w+'hiddenfield.js');if(t.addMenuItems)t.addMenuItems({form:{label:u.form.menu,command:'form',group:'form'},checkbox:{label:u.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:u.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:u.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:u.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:u.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:u.button.title,command:'button',group:'button'},select:{label:u.select.title,command:'select',group:'select'},textarea:{label:u.textarea.title,command:'textarea',group:'textarea'}});if(t.contextMenu){t.contextMenu.addListener(function(x){if(x&&x.hasAscendant('form',true)&&!x.isReadOnly())return{form:2};});t.contextMenu.addListener(function(x){if(x&&!x.isReadOnly()){var y=x.getName();if(y=='select')return{select:2};if(y=='textarea')return{textarea:2};if(y=='input')switch(x.getAttribute('type')){case 'button':case 'submit':case 'reset':return{button:2};case 'checkbox':return{checkbox:2};case 'radio':return{radio:2};case 'image':return{imagebutton:2};default:return{textfield:2};}if(y=='img'&&x.data('cke-real-element-type')=='hiddenfield')return{hiddenfield:2};}});}t.on('doubleclick',function(x){var y=x.data.element;if(y.is('form'))x.data.dialog='form';else if(y.is('select'))x.data.dialog='select';else if(y.is('textarea'))x.data.dialog='textarea';else if(y.is('img')&&y.data('cke-real-element-type')=='hiddenfield')x.data.dialog='hiddenfield';else if(y.is('input'))switch(y.getAttribute('type')){case 'button':case 'submit':case 'reset':x.data.dialog='button';
break;case 'checkbox':x.data.dialog='checkbox';break;case 'radio':x.data.dialog='radio';break;case 'image':x.data.dialog='imagebutton';break;default:x.data.dialog='textfield';break;}});},afterInit:function(t){var u=t.dataProcessor,v=u&&u.htmlFilter,w=u&&u.dataFilter;if(j)v&&v.addRules({elements:{input:function(x){var y=x.attributes,z=y.type;if(!z)y.type='text';if(z=='checkbox'||z=='radio')y.value=='on'&&delete y.value;}}});if(w)w.addRules({elements:{input:function(x){if(x.attributes.type=='hidden')return t.createFakeParserElement(x,'cke_hidden','hiddenfield');}}});},requires:['image','fakeobjects']});if(j)o.prototype.hasAttribute=l.override(o.prototype.hasAttribute,function(t){return function(u){var x=this;var v=x.$.attributes.getNamedItem(u);if(x.getName()=='input')switch(u){case 'class':return x.$.className.length>0;case 'checked':return!!x.$.checked;case 'value':var w=x.getAttribute('type');return w=='checkbox'||w=='radio'?x.$.value!='on':x.$.value;}return t.apply(x,arguments);};});(function(){var t={canUndo:false,exec:function(v){var w=v.document.createElement('hr');v.insertElement(w);}},u='horizontalrule';q.add(u,{init:function(v){v.addCommand(u,t);v.ui.addButton('HorizontalRule',{label:v.lang.horizontalrule,command:u});}});})();(function(){var t=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,u='{cke_protected}';function v(ab){var ac=ab.children.length,ad=ab.children[ac-1];while(ad&&ad.type==3&&!l.trim(ad.value))ad=ab.children[--ac];return ad;};function w(ab){var ac=ab.parent;return ac?l.indexOf(ac.children,ab):-1;};function x(ab,ac){var ad=ab.children,ae=v(ab);if(ae){if((ac||!j)&&ae.type==1&&ae.name=='br')ad.pop();if(ae.type==3&&t.test(ae.value))ad.pop();}};function y(ab,ac,ad){if(!ac&&(!ad||typeof ad=='function'&&ad(ab)===false))return false;if(ac&&j&&(document.documentMode>7||ab.name in m.tr||ab.name in m.$listItem))return false;var ae=v(ab);return!ae||ae&&(ae.type==1&&ae.name=='br'||ab.name=='form'&&ae.name=='input');};function z(ab,ac){return function(ad){x(ad,!ab);if(y(ad,!ab,ac))if(ab||j)ad.add(new h.htmlParser.text('\xa0'));else ad.add(new h.htmlParser.element('br',{}));};};var A=m,B=['caption','colgroup','col','thead','tfoot','tbody'],C=l.extend({},A.$block,A.$listItem,A.$tableContent);for(var D in C){if(!('br' in A[D]))delete C[D];}delete C.pre;var E={elements:{},attributeNames:[[/^on/,'data-cke-pa-on']]},F={elements:{}};for(D in C)F.elements[D]=z();var G={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^data-cke-(saved|pa)-/,''],[/^data-cke-.*/,''],['hidefocus','']],elements:{$:function(ab){var ac=ab.attributes;
if(ac){if(ac['data-cke-temp'])return false;var ad=['name','href','src'],ae;for(var af=0;af<ad.length;af++){ae='data-cke-saved-'+ad[af];ae in ac&&delete ac[ad[af]];}}return ab;},table:function(ab){var ac=ab.children.slice(0);ac.sort(function(ad,ae){var af,ag;if(ad.type==1&&ae.type==ad.type){af=l.indexOf(B,ad.name);ag=l.indexOf(B,ae.name);}if(!(af>-1&&ag>-1&&af!=ag)){af=w(ad);ag=w(ae);}return af>ag?1:-1;});},embed:function(ab){var ac=ab.parent;if(ac&&ac.name=='object'){var ad=ac.attributes.width,ae=ac.attributes.height;ad&&(ab.attributes.width=ad);ae&&(ab.attributes.height=ae);}},param:function(ab){ab.children=[];ab.isEmpty=true;return ab;},a:function(ab){if(!(ab.children.length||ab.attributes.name||ab.attributes['data-cke-saved-name']))return false;},span:function(ab){if(ab.attributes['class']=='Apple-style-span')delete ab.name;},pre:function(ab){j&&x(ab);},html:function(ab){delete ab.attributes.contenteditable;delete ab.attributes['class'];},body:function(ab){delete ab.attributes.spellcheck;delete ab.attributes.contenteditable;},style:function(ab){var ac=ab.children[0];ac&&ac.value&&(ac.value=l.trim(ac.value));if(!ab.attributes.type)ab.attributes.type='text/css';},title:function(ab){var ac=ab.children[0];ac&&(ac.value=ab.attributes['data-cke-title']||'');}},attributes:{'class':function(ab,ac){return l.ltrim(ab.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}}};if(j)G.attributes.style=function(ab,ac){return ab.replace(/(^|;)([^\:]+)/g,function(ad){return ad.toLowerCase();});};function H(ab){var ac=ab.attributes;if(ac.contenteditable!='false')ac['data-cke-editable']=ac.contenteditable?'true':1;ac.contenteditable='false';};function I(ab){var ac=ab.attributes;switch(ac['data-cke-editable']){case 'true':ac.contenteditable='true';break;case '1':delete ac.contenteditable;break;}};for(D in {input:1,textarea:1}){E.elements[D]=H;G.elements[D]=I;}var J=/<(a|area|img|input|source)\b([^>]*)>/gi,K=/\b(on\w+|href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,L=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,M=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,N=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,O=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,P=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;function Q(ab){return ab.replace(J,function(ac,ad,ae){return '<'+ad+ae.replace(K,function(af,ag){if(!/^on/.test(ag)&&ae.indexOf('data-cke-saved-'+ag)==-1)return ' data-cke-saved-'+af+' data-cke-'+h.rnd+'-'+af;return af;})+'>';});
};function R(ab){return ab.replace(L,function(ac){return '<cke:encoded>'+encodeURIComponent(ac)+'</cke:encoded>';});};function S(ab){return ab.replace(M,function(ac,ad){return decodeURIComponent(ad);});};function T(ab){return ab.replace(N,'$1cke:$2');};function U(ab){return ab.replace(O,'$1$2');};function V(ab){return ab.replace(P,'<cke:$1$2></cke:$1>');};function W(ab){return ab.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,'$1$2$2');};function X(ab){return ab.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(ac){return '<!--'+u+'{C}'+encodeURIComponent(ac).replace(/--/g,'%2D%2D')+'-->';});};function Y(ab){return ab.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(ac,ad){return decodeURIComponent(ad);});};function Z(ab,ac){var ad=ac._.dataStore;return ab.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(ae,af){return decodeURIComponent(af);}).replace(/\{cke_protected_(\d+)\}/g,function(ae,af){return ad&&ad[af]||'';});};function aa(ab,ac){var ad=[],ae=ac.config.protectedSource,af=ac._.dataStore||(ac._.dataStore={id:1}),ag=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,ah=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(ae);ab=ab.replace(/<!--[\s\S]*?-->/g,function(aj){return '<!--{cke_tempcomment}'+(ad.push(aj)-1)+'-->';});for(var ai=0;ai<ah.length;ai++)ab=ab.replace(ah[ai],function(aj){aj=aj.replace(ag,function(ak,al,am){return ad[am];});return/cke_temp(comment)?/.test(aj)?aj:'<!--{cke_temp}'+(ad.push(aj)-1)+'-->';});ab=ab.replace(ag,function(aj,ak,al){return '<!--'+u+(ak?'{C}':'')+encodeURIComponent(ad[al]).replace(/--/g,'%2D%2D')+'-->';});return ab.replace(/(['"]).*?\1/g,function(aj){return aj.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(ak,al){af[af.id]=decodeURIComponent(al);return '{cke_protected_'+af.id++ +'}';});});};q.add('htmldataprocessor',{requires:['htmlwriter'],init:function(ab){var ac=ab.dataProcessor=new h.htmlDataProcessor(ab);ac.writer.forceSimpleAmpersand=ab.config.forceSimpleAmpersand;ac.dataFilter.addRules(E);ac.dataFilter.addRules(F);ac.htmlFilter.addRules(G);var ad={elements:{}};for(D in C)ad.elements[D]=z(true,ab.config.fillEmptyBlocks);ac.htmlFilter.addRules(ad);},onLoad:function(){!('fillEmptyBlocks' in p)&&(p.fillEmptyBlocks=1);}});h.htmlDataProcessor=function(ab){var ac=this;ac.editor=ab;ac.writer=new h.htmlWriter();ac.dataFilter=new h.htmlParser.filter();ac.htmlFilter=new h.htmlParser.filter();};h.htmlDataProcessor.prototype={toHtml:function(ab,ac){ab=aa(ab,this.editor);ab=Q(ab);ab=R(ab);ab=T(ab);
ab=V(ab);ab=W(ab);var ad=new o('div');ad.setHtml('a'+ab);ab=ad.getHtml().substr(1);ab=ab.replace(new RegExp(' data-cke-'+h.rnd+'-','ig'),' ');ab=U(ab);ab=S(ab);ab=Y(ab);var ae=h.htmlParser.fragment.fromHtml(ab,ac),af=new h.htmlParser.basicWriter();ae.writeHtml(af,this.dataFilter);ab=af.getHtml(true);ab=X(ab);return ab;},toDataFormat:function(ab,ac){var ad=this.writer,ae=h.htmlParser.fragment.fromHtml(ab,ac);ad.reset();ae.writeHtml(ad,this.htmlFilter);var af=ad.getHtml(true);af=Y(af);af=Z(af,this.editor);return af;}};})();(function(){q.add('iframe',{requires:['dialog','fakeobjects'],init:function(t){var u='iframe',v=t.lang.iframe;h.dialog.add(u,this.path+'dialogs/iframe.js');t.addCommand(u,new h.dialogCommand(u));t.addCss('img.cke_iframe{background-image: url('+h.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');t.ui.addButton('Iframe',{label:v.toolbar,command:u});if(t.addMenuItems)t.addMenuItems({iframe:{label:v.title,command:'iframe',group:'image'}});},afterInit:function(t){var u=t.dataProcessor,v=u&&u.dataFilter;if(v)v.addRules({elements:{iframe:function(w){return t.createFakeParserElement(w,'cke_iframe','iframe',true);}}});}});})();(function(){q.add('image',{requires:['dialog'],init:function(v){var w='image';h.dialog.add(w,this.path+'dialogs/image.js');v.addCommand(w,new h.dialogCommand(w));v.ui.addButton('Image',{label:v.lang.common.image,command:w});v.on('doubleclick',function(x){var y=x.data.element;if(y.is('img')&&!y.data('cke-realelement')&&!y.isReadOnly())x.data.dialog='image';});if(v.addMenuItems)v.addMenuItems({image:{label:v.lang.image.menu,command:'image',group:'image'}});if(v.contextMenu)v.contextMenu.addListener(function(x,y){if(t(v,x))return{image:2};});},afterInit:function(v){w('left');w('right');w('center');w('block');function w(x){var y=v.getCommand('justify'+x);if(y){if(x=='left'||x=='right')y.on('exec',function(z){var A=t(v),B;if(A){B=u(A);if(B==x){A.removeStyle('float');if(x==u(A))A.removeAttribute('align');}else A.setStyle('float',x);z.cancel();}});y.on('refresh',function(z){var A=t(v),B;if(A){B=u(A);this.setState(B==x?1:x=='right'||x=='left'?2:0);z.cancel();}});}};}});function t(v,w){if(!w){var x=v.getSelection();w=x.getType()==3&&x.getSelectedElement();}if(w&&w.is('img')&&!w.data('cke-realelement')&&!w.isReadOnly())return w;};function u(v){var w=v.getStyle('float');if(w=='inherit'||w=='none')w=0;if(!w)w=v.getAttribute('align');
return w;};})();p.image_removeLinkByEmptyURL=true;(function(){var t={ol:1,ul:1},u=k.walker.whitespaces(true),v=k.walker.bookmark(false,true);function w(A){var I=this;if(A.editor.readOnly)return null;var B=A.editor,C=A.data.path,D=C&&C.contains(t),E=C.block||C.blockLimit;if(D)return I.setState(2);if(!I.useIndentClasses&&I.name=='indent')return I.setState(2);if(!E)return I.setState(0);if(I.useIndentClasses){var F=E.$.className.match(I.classNameRegex),G=0;if(F){F=F[1];G=I.indentClassMap[F];}if(I.name=='outdent'&&!G||I.name=='indent'&&G==B.config.indentClasses.length)return I.setState(0);return I.setState(2);}else{var H=parseInt(E.getStyle(y(E)),10);if(isNaN(H))H=0;if(H<=0)return I.setState(0);return I.setState(2);}};function x(A,B){var D=this;D.name=B;D.useIndentClasses=A.config.indentClasses&&A.config.indentClasses.length>0;if(D.useIndentClasses){D.classNameRegex=new RegExp('(?:^|\\s+)('+A.config.indentClasses.join('|')+')(?=$|\\s)');D.indentClassMap={};for(var C=0;C<A.config.indentClasses.length;C++)D.indentClassMap[A.config.indentClasses[C]]=C+1;}D.startDisabled=B=='outdent';};function y(A,B){return(B||A.getComputedStyle('direction'))=='ltr'?'margin-left':'margin-right';};function z(A){return A.type==1&&A.is('li');};x.prototype={exec:function(A){var B=this,C={};function D(T){var U=J.startContainer,V=J.endContainer;while(U&&!U.getParent().equals(T))U=U.getParent();while(V&&!V.getParent().equals(T))V=V.getParent();if(!U||!V)return;var W=U,X=[],Y=false;while(!Y){if(W.equals(V))Y=true;X.push(W);W=W.getNext();}if(X.length<1)return;var Z=T.getParents(true);for(var aa=0;aa<Z.length;aa++){if(Z[aa].getName&&t[Z[aa].getName()]){T=Z[aa];break;}}var ab=B.name=='indent'?1:-1,ac=X[0],ad=X[X.length-1],ae=q.list.listToArray(T,C),af=ae[ad.getCustomData('listarray_index')].indent;for(aa=ac.getCustomData('listarray_index');aa<=ad.getCustomData('listarray_index');aa++){ae[aa].indent+=ab;if(ab>0){var ag=ae[aa].parent;ae[aa].parent=new o(ag.getName(),ag.getDocument());}}for(aa=ad.getCustomData('listarray_index')+1;aa<ae.length&&ae[aa].indent>af;aa++)ae[aa].indent+=ab;var ah=q.list.arrayToList(ae,C,null,A.config.enterMode,T.getDirection());if(B.name=='outdent'){var ai;if((ai=T.getParent())&&ai.is('li')){var aj=ah.listNode.getChildren(),ak=[],al=aj.count(),am;for(aa=al-1;aa>=0;aa--){if((am=aj.getItem(aa))&&am.is&&am.is('li'))ak.push(am);}}}if(ah)ah.listNode.replace(T);if(ak&&ak.length)for(aa=0;aa<ak.length;aa++){var an=ak[aa],ao=an;while((ao=ao.getNext())&&ao.is&&ao.getName() in t){if(j&&!an.getFirst(function(ap){return u(ap)&&v(ap);
}))an.append(J.document.createText('\xa0'));an.append(ao);}an.insertAfter(ai);}};function E(){var T=J.createIterator(),U=A.config.enterMode;T.enforceRealBlocks=true;T.enlargeBr=U!=2;var V;while(V=T.getNextParagraph(U==1?'p':'div'))F(V);};function F(T,U){if(T.getCustomData('indent_processed'))return false;if(B.useIndentClasses){var V=T.$.className.match(B.classNameRegex),W=0;if(V){V=V[1];W=B.indentClassMap[V];}if(B.name=='outdent')W--;else W++;if(W<0)return false;W=Math.min(W,A.config.indentClasses.length);W=Math.max(W,0);T.$.className=l.ltrim(T.$.className.replace(B.classNameRegex,''));if(W>0)T.addClass(A.config.indentClasses[W-1]);}else{var X=y(T,U),Y=parseInt(T.getStyle(X),10);if(isNaN(Y))Y=0;var Z=A.config.indentOffset||40;Y+=(B.name=='indent'?1:-1)*Z;if(Y<0)return false;Y=Math.max(Y,0);Y=Math.ceil(Y/Z)*Z;T.setStyle(X,Y?Y+(A.config.indentUnit||'px'):'');if(T.getAttribute('style')==='')T.removeAttribute('style');}o.setMarker(C,T,'indent_processed',1);return true;};var G=A.getSelection(),H=G.createBookmarks(1),I=G&&G.getRanges(1),J,K=I.createIterator();while(J=K.getNextRange()){var L=J.getCommonAncestor(),M=L;while(M&&!(M.type==1&&t[M.getName()]))M=M.getParent();if(!M){var N=J.getEnclosedNode();if(N&&N.type==1&&N.getName() in t){J.setStartAt(N,1);J.setEndAt(N,2);M=N;}}if(M&&J.startContainer.type==1&&J.startContainer.getName() in t){var O=new k.walker(J);O.evaluator=z;J.startContainer=O.next();}if(M&&J.endContainer.type==1&&J.endContainer.getName() in t){O=new k.walker(J);O.evaluator=z;J.endContainer=O.previous();}if(M){var P=M.getFirst(z),Q=!!P.getNext(z),R=J.startContainer,S=P.equals(R)||P.contains(R);if(!(S&&(B.name=='indent'||B.useIndentClasses||parseInt(M.getStyle(y(M)),10))&&F(M,!Q&&P.getDirection())))D(M);}else E();}o.clearAllMarkers(C);A.forceNextSelectionCheck();G.selectBookmarks(H);}};q.add('indent',{init:function(A){var B=A.addCommand('indent',new x(A,'indent')),C=A.addCommand('outdent',new x(A,'outdent'));A.ui.addButton('Indent',{label:A.lang.indent,command:'indent'});A.ui.addButton('Outdent',{label:A.lang.outdent,command:'outdent'});A.on('selectionChange',l.bind(w,B));A.on('selectionChange',l.bind(w,C));if(i.ie6Compat||i.ie7Compat)A.addCss('ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}');A.on('dirChanged',function(D){var E=new k.range(A.document);E.setStartBefore(D.data.node);E.setEndAfter(D.data.node);var F=new k.walker(E),G;while(G=F.next()){if(G.type==1){if(!G.equals(D.data.node)&&G.getDirection()){E.setStartAfter(G);F=new k.walker(E);continue;
}var H=A.config.indentClasses;if(H){var I=D.data.dir=='ltr'?['_rtl','']:['','_rtl'];for(var J=0;J<H.length;J++){if(G.hasClass(H[J]+I[0])){G.removeClass(H[J]+I[0]);G.addClass(H[J]+I[1]);}}}var K=G.getStyle('margin-right'),L=G.getStyle('margin-left');K?G.setStyle('margin-left',K):G.removeStyle('margin-left');L?G.setStyle('margin-right',L):G.removeStyle('margin-right');}}});},requires:['domiterator','list']});})();(function(){function t(x,y){y=y===undefined||y;var z;if(y)z=x.getComputedStyle('text-align');else{while(!x.hasAttribute||!(x.hasAttribute('align')||x.getStyle('text-align'))){var A=x.getParent();if(!A)break;x=A;}z=x.getStyle('text-align')||x.getAttribute('align')||'';}z&&(z=z.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,''));!z&&y&&(z=x.getComputedStyle('direction')=='rtl'?'right':'left');return z;};function u(x){if(x.editor.readOnly)return;x.editor.getCommand(this.name).refresh(x.data.path);};function v(x,y,z){var B=this;B.editor=x;B.name=y;B.value=z;var A=x.config.justifyClasses;if(A){switch(z){case 'left':B.cssClassName=A[0];break;case 'center':B.cssClassName=A[1];break;case 'right':B.cssClassName=A[2];break;case 'justify':B.cssClassName=A[3];break;}B.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+A.join('|')+')(?=$|\\s)');}};function w(x){var y=x.editor,z=new k.range(y.document);z.setStartBefore(x.data.node);z.setEndAfter(x.data.node);var A=new k.walker(z),B;while(B=A.next()){if(B.type==1){if(!B.equals(x.data.node)&&B.getDirection()){z.setStartAfter(B);A=new k.walker(z);continue;}var C=y.config.justifyClasses;if(C)if(B.hasClass(C[0])){B.removeClass(C[0]);B.addClass(C[2]);}else if(B.hasClass(C[2])){B.removeClass(C[2]);B.addClass(C[0]);}var D='text-align',E=B.getStyle(D);if(E=='left')B.setStyle(D,'right');else if(E=='right')B.setStyle(D,'left');}}};v.prototype={exec:function(x){var J=this;var y=x.getSelection(),z=x.config.enterMode;if(!y)return;var A=y.createBookmarks(),B=y.getRanges(true),C=J.cssClassName,D,E,F=x.config.useComputedState;F=F===undefined||F;for(var G=B.length-1;G>=0;G--){D=B[G].createIterator();D.enlargeBr=z!=2;while(E=D.getNextParagraph(z==1?'p':'div')){E.removeAttribute('align');E.removeStyle('text-align');var H=C&&(E.$.className=l.ltrim(E.$.className.replace(J.cssClassRegex,''))),I=J.state==2&&(!F||t(E,true)!=J.value);if(C){if(I)E.addClass(C);else if(!H)E.removeAttribute('class');}else if(I)E.setStyle('text-align',J.value);}}x.focus();x.forceNextSelectionCheck();y.selectBookmarks(A);},refresh:function(x){var y=x.block||x.blockLimit;this.setState(y.getName()!='body'&&t(y,this.editor.config.useComputedState)==this.value?1:2);
}};q.add('justify',{init:function(x){var y=new v(x,'justifyleft','left'),z=new v(x,'justifycenter','center'),A=new v(x,'justifyright','right'),B=new v(x,'justifyblock','justify');x.addCommand('justifyleft',y);x.addCommand('justifycenter',z);x.addCommand('justifyright',A);x.addCommand('justifyblock',B);x.ui.addButton('JustifyLeft',{label:x.lang.justify.left,command:'justifyleft'});x.ui.addButton('JustifyCenter',{label:x.lang.justify.center,command:'justifycenter'});x.ui.addButton('JustifyRight',{label:x.lang.justify.right,command:'justifyright'});x.ui.addButton('JustifyBlock',{label:x.lang.justify.block,command:'justifyblock'});x.on('selectionChange',l.bind(u,y));x.on('selectionChange',l.bind(u,A));x.on('selectionChange',l.bind(u,z));x.on('selectionChange',l.bind(u,B));x.on('dirChanged',w);},requires:['domiterator']});})();q.add('keystrokes',{beforeInit:function(t){t.keystrokeHandler=new h.keystrokeHandler(t);t.specialKeys={};},init:function(t){var u=t.config.keystrokes,v=t.config.blockedKeystrokes,w=t.keystrokeHandler.keystrokes,x=t.keystrokeHandler.blockedKeystrokes;for(var y=0;y<u.length;y++)w[u[y][0]]=u[y][1];for(y=0;y<v.length;y++)x[v[y]]=1;}});h.keystrokeHandler=function(t){var u=this;if(t.keystrokeHandler)return t.keystrokeHandler;u.keystrokes={};u.blockedKeystrokes={};u._={editor:t};return u;};(function(){var t,u=function(w){w=w.data;var x=w.getKeystroke(),y=this.keystrokes[x],z=this._.editor;t=z.fire('key',{keyCode:x})===true;if(!t){if(y){var A={from:'keystrokeHandler'};t=z.execCommand(y,A)!==false;}if(!t){var B=z.specialKeys[x];t=B&&B(z)===true;if(!t)t=!!this.blockedKeystrokes[x];}}if(t)w.preventDefault(true);return!t;},v=function(w){if(t){t=false;w.data.preventDefault(true);}};h.keystrokeHandler.prototype={attach:function(w){w.on('keydown',u,this);if(i.opera||i.gecko&&i.mac)w.on('keypress',v,this);}};})();p.blockedKeystrokes=[1000+66,1000+73,1000+85];p.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[4000+(j||i.webkit?189:109),'toolbarCollapse'],[4000+48,'a11yHelp']];q.add('link',{init:function(t){t.addCommand('link',new h.dialogCommand('link'));t.addCommand('anchor',new h.dialogCommand('anchor'));t.addCommand('unlink',new h.unlinkCommand());t.ui.addButton('Link',{label:t.lang.link.toolbar,command:'link'});t.ui.addButton('Unlink',{label:t.lang.unlink,command:'unlink'});
t.ui.addButton('Anchor',{label:t.lang.anchor.toolbar,command:'anchor'});h.dialog.add('link',this.path+'dialogs/link.js');h.dialog.add('anchor',this.path+'dialogs/anchor.js');var u=t.lang.dir=='rtl'?'right':'left',v='background:url('+h.getUrl(this.path+'images/anchor.gif')+') no-repeat '+u+' center;'+'border:1px dotted #00f;';t.addCss('a.cke_anchor,a.cke_anchor_empty'+(j&&i.version<7?'':',a[name],a[data-cke-saved-name]')+'{'+v+'padding-'+u+':18px;'+'cursor:auto;'+'}'+(j?'a.cke_anchor_empty{display:inline-block;}':'')+'img.cke_anchor'+'{'+v+'width:16px;'+'min-height:15px;'+'height:1.15em;'+'vertical-align:'+(i.opera?'middle':'text-bottom')+';'+'}');t.on('selectionChange',function(w){if(t.readOnly)return;var x=t.getCommand('unlink'),y=w.data.path.lastElement&&w.data.path.lastElement.getAscendant('a',true);if(y&&y.getName()=='a'&&y.getAttribute('href')&&y.getChildCount())x.setState(2);else x.setState(0);});t.on('doubleclick',function(w){var x=q.link.getSelectedLink(t)||w.data.element;if(!x.isReadOnly())if(x.is('a')){w.data.dialog=x.getAttribute('name')&&(!x.getAttribute('href')||!x.getChildCount())?'anchor':'link';t.getSelection().selectElement(x);}else if(q.link.tryRestoreFakeAnchor(t,x))w.data.dialog='anchor';});if(t.addMenuItems)t.addMenuItems({anchor:{label:t.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:t.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:t.lang.unlink,command:'unlink',group:'link',order:5}});if(t.contextMenu)t.contextMenu.addListener(function(w,x){if(!w||w.isReadOnly())return null;var y=q.link.tryRestoreFakeAnchor(t,w);if(!y&&!(y=q.link.getSelectedLink(t)))return null;var z={};if(y.getAttribute('href')&&y.getChildCount())z={link:2,unlink:2};if(y&&y.hasAttribute('name'))z.anchor=2;return z;});},afterInit:function(t){var u=t.dataProcessor,v=u&&u.dataFilter,w=u&&u.htmlFilter,x=t._.elementsPath&&t._.elementsPath.filters;if(v)v.addRules({elements:{a:function(y){var z=y.attributes;if(!z.name)return null;var A=!y.children.length;if(q.link.synAnchorSelector){var B=A?'cke_anchor_empty':'cke_anchor',C=z['class'];if(z.name&&(!C||C.indexOf(B)<0))z['class']=(C||'')+' '+B;if(A&&q.link.emptyAnchorFix){z.contenteditable='false';z['data-cke-editable']=1;}}else if(q.link.fakeAnchor&&A)return t.createFakeParserElement(y,'cke_anchor','anchor');return null;}}});if(q.link.emptyAnchorFix&&w)w.addRules({elements:{a:function(y){delete y.attributes.contenteditable;}}});if(x)x.push(function(y,z){if(z=='a')if(q.link.tryRestoreFakeAnchor(t,y)||y.getAttribute('name')&&(!y.getAttribute('href')||!y.getChildCount()))return 'anchor';
});},requires:['fakeobjects']});q.link={getSelectedLink:function(t){try{var u=t.getSelection();if(u.getType()==3){var v=u.getSelectedElement();if(v.is('a'))return v;}var w=u.getRanges(true)[0];w.shrink(2);var x=w.getCommonAncestor();return x.getAscendant('a',true);}catch(y){return null;}},fakeAnchor:i.opera||i.webkit,synAnchorSelector:j,emptyAnchorFix:j&&i.version<8,tryRestoreFakeAnchor:function(t,u){if(u&&u.data('cke-real-element-type')&&u.data('cke-real-element-type')=='anchor'){var v=t.restoreRealElement(u);if(v.data('cke-saved-name'))return v;}}};h.unlinkCommand=function(){};h.unlinkCommand.prototype={exec:function(t){var u=t.getSelection(),v=u.createBookmarks(),w=u.getRanges(),x,y;for(var z=0;z<w.length;z++){x=w[z].getCommonAncestor(true);y=x.getAscendant('a',true);if(!y)continue;w[z].selectNodeContents(y);}u.selectRanges(w);t.document.$.execCommand('unlink',false,null);u.selectBookmarks(v);},startDisabled:true};l.extend(p,{linkShowAdvancedTab:true,linkShowTargetTab:false});(function(){var t={ol:1,ul:1},u=/^[\n\r\t ]*$/,v=k.walker.whitespaces(),w=k.walker.bookmark(),x=function(U){return!(v(U)||w(U));},y=k.walker.bogus();function z(U){var V,W,X;if(V=U.getDirection()){W=U.getParent();while(W&&!(X=W.getDirection()))W=W.getParent();if(V==X)U.removeAttribute('dir');}};function A(U,V){var W=U.getAttribute('style');W&&V.setAttribute('style',W.replace(/([^;])$/,'$1;')+(V.getAttribute('style')||''));};q.list={listToArray:function(U,V,W,X,Y){if(!t[U.getName()])return[];if(!X)X=0;if(!W)W=[];for(var Z=0,aa=U.getChildCount();Z<aa;Z++){var ab=U.getChild(Z);if(ab.type==1&&ab.getName() in m.$list)q.list.listToArray(ab,V,W,X+1);if(ab.$.nodeName.toLowerCase()!='li')continue;var ac={parent:U,indent:X,element:ab,contents:[]};if(!Y){ac.grandparent=U.getParent();if(ac.grandparent&&ac.grandparent.$.nodeName.toLowerCase()=='li')ac.grandparent=ac.grandparent.getParent();}else ac.grandparent=Y;if(V)o.setMarker(V,ab,'listarray_index',W.length);W.push(ac);for(var ad=0,ae=ab.getChildCount(),af;ad<ae;ad++){af=ab.getChild(ad);if(af.type==1&&t[af.getName()])q.list.listToArray(af,V,W,X+1,ac.grandparent);else ac.contents.push(af);}}return W;},arrayToList:function(U,V,W,X,Y){if(!W)W=0;if(!U||U.length<W+1)return null;var Z,aa=U[W].parent.getDocument(),ab=new k.documentFragment(aa),ac=null,ad=W,ae=Math.max(U[W].indent,0),af=null,ag,ah,ai=X==1?'p':'div';while(1){var aj=U[ad],ak=aj.grandparent;ag=aj.element.getDirection(1);if(aj.indent==ae){if(!ac||U[ad].parent.getName()!=ac.getName()){ac=U[ad].parent.clone(false,1);
Y&&ac.setAttribute('dir',Y);ab.append(ac);}af=ac.append(aj.element.clone(0,1));if(ag!=ac.getDirection(1))af.setAttribute('dir',ag);for(Z=0;Z<aj.contents.length;Z++)af.append(aj.contents[Z].clone(1,1));ad++;}else if(aj.indent==Math.max(ae,0)+1){var al=U[ad-1].element.getDirection(1),am=q.list.arrayToList(U,null,ad,X,al!=ag?ag:null);if(!af.getChildCount()&&j&&!(aa.$.documentMode>7))af.append(aa.createText('\xa0'));af.append(am.listNode);ad=am.nextIndex;}else if(aj.indent==-1&&!W&&ak){if(t[ak.getName()]){af=aj.element.clone(false,true);if(ag!=ak.getDirection(1))af.setAttribute('dir',ag);}else af=new k.documentFragment(aa);var an=ak.getDirection(1)!=ag,ao=aj.element,ap=ao.getAttribute('class'),aq=ao.getAttribute('style'),ar=af.type==11&&(X!=2||an||aq||ap),as,at=aj.contents.length;for(Z=0;Z<at;Z++){as=aj.contents[Z];if(as.type==1&&as.isBlockBoundary()){if(an&&!as.getDirection())as.setAttribute('dir',ag);A(ao,as);ap&&as.addClass(ap);}else if(ar){if(!ah){ah=aa.createElement(ai);an&&ah.setAttribute('dir',ag);}aq&&ah.setAttribute('style',aq);ap&&ah.setAttribute('class',ap);ah.append(as.clone(1,1));}af.append(ah||as.clone(1,1));}if(af.type==11&&ad!=U.length-1){var au=af.getLast();if(au&&au.type==1&&au.getAttribute('type')=='_moz')au.remove();if(!(au=af.getLast(x)&&au.type==1&&au.getName() in m.$block))af.append(aa.createElement('br'));}var av=af.$.nodeName.toLowerCase();if(!j&&(av=='div'||av=='p'))af.appendBogus();ab.append(af);ac=null;ad++;}else return null;ah=null;if(U.length<=ad||Math.max(U[ad].indent,0)<ae)break;}if(V){var aw=ab.getFirst(),ax=U[0].parent;while(aw){if(aw.type==1){o.clearMarkers(V,aw);if(aw.getName() in m.$listItem)z(aw);}aw=aw.getNextSourceNode();}}return{listNode:ab,nextIndex:ad};}};function B(U){if(U.editor.readOnly)return null;var V=U.data.path,W=V.blockLimit,X=V.elements,Y,Z;for(Z=0;Z<X.length&&(Y=X[Z])&&!Y.equals(W);Z++){if(t[X[Z].getName()])return this.setState(this.type==X[Z].getName()?1:2);}return this.setState(2);};function C(U,V,W,X){var Y=q.list.listToArray(V.root,W),Z=[];for(var aa=0;aa<V.contents.length;aa++){var ab=V.contents[aa];ab=ab.getAscendant('li',true);if(!ab||ab.getCustomData('list_item_processed'))continue;Z.push(ab);o.setMarker(W,ab,'list_item_processed',true);}var ac=V.root,ad=ac.getDocument(),ae,af;for(aa=0;aa<Z.length;aa++){var ag=Z[aa].getCustomData('listarray_index');ae=Y[ag].parent;if(!ae.is(this.type)){af=ad.createElement(this.type);ae.copyAttributes(af,{start:1,type:1});af.removeStyle('list-style-type');Y[ag].parent=af;
}}var ah=q.list.arrayToList(Y,W,null,U.config.enterMode),ai,aj=ah.listNode.getChildCount();for(aa=0;aa<aj&&(ai=ah.listNode.getChild(aa));aa++){if(ai.getName()==this.type)X.push(ai);}ah.listNode.replace(V.root);};var D=/^h[1-6]$/;function E(U,V,W){var X=V.contents,Y=V.root.getDocument(),Z=[];if(X.length==1&&X[0].equals(V.root)){var aa=Y.createElement('div');X[0].moveChildren&&X[0].moveChildren(aa);X[0].append(aa);X[0]=aa;}var ab=V.contents[0].getParent();for(var ac=0;ac<X.length;ac++)ab=ab.getCommonAncestor(X[ac].getParent());var ad=U.config.useComputedState,ae,af;ad=ad===undefined||ad;for(ac=0;ac<X.length;ac++){var ag=X[ac],ah;while(ah=ag.getParent()){if(ah.equals(ab)){Z.push(ag);if(!af&&ag.getDirection())af=1;var ai=ag.getDirection(ad);if(ae!==null)if(ae&&ae!=ai)ae=null;else ae=ai;break;}ag=ah;}}if(Z.length<1)return;var aj=Z[Z.length-1].getNext(),ak=Y.createElement(this.type);W.push(ak);var al,am;while(Z.length){al=Z.shift();am=Y.createElement('li');if(al.is('pre')||D.test(al.getName()))al.appendTo(am);else{al.copyAttributes(am);if(ae&&al.getDirection()){am.removeStyle('direction');am.removeAttribute('dir');}al.moveChildren(am);al.remove();}am.appendTo(ak);}if(ae&&af)ak.setAttribute('dir',ae);if(aj)ak.insertBefore(aj);else ak.appendTo(ab);};function F(U,V,W){var X=q.list.listToArray(V.root,W),Y=[];for(var Z=0;Z<V.contents.length;Z++){var aa=V.contents[Z];aa=aa.getAscendant('li',true);if(!aa||aa.getCustomData('list_item_processed'))continue;Y.push(aa);o.setMarker(W,aa,'list_item_processed',true);}var ab=null;for(Z=0;Z<Y.length;Z++){var ac=Y[Z].getCustomData('listarray_index');X[ac].indent=-1;ab=ac;}for(Z=ab+1;Z<X.length;Z++){if(X[Z].indent>X[Z-1].indent+1){var ad=X[Z-1].indent+1-X[Z].indent,ae=X[Z].indent;while(X[Z]&&X[Z].indent>=ae){X[Z].indent+=ad;Z++;}Z--;}}var af=q.list.arrayToList(X,W,null,U.config.enterMode,V.root.getAttribute('dir')),ag=af.listNode,ah,ai;function aj(ak){if((ah=ag[ak?'getFirst':'getLast']())&&!(ah.is&&ah.isBlockBoundary())&&(ai=V.root[ak?'getPrevious':'getNext'](k.walker.whitespaces(true)))&&!(ai.is&&ai.isBlockBoundary({br:1})))U.document.createElement('br')[ak?'insertBefore':'insertAfter'](ah);};aj(true);aj();ag.replace(V.root);};function G(U,V){this.name=U;this.type=V;};var H=k.walker.nodeType(1);function I(U,V,W,X){var Y,Z;while(Y=U[X?'getLast':'getFirst'](H)){if((Z=Y.getDirection(1))!==V.getDirection(1))Y.setAttribute('dir',Z);Y.remove();W?Y[X?'insertBefore':'insertAfter'](W):V.append(Y,X);}};G.prototype={exec:function(U){var ax=this;
var V=U.document,W=U.config,X=U.getSelection(),Y=X&&X.getRanges(true);if(!Y||Y.length<1)return;if(ax.state==2){var Z=V.getBody();if(!Z.getFirst(x)){W.enterMode==2?Z.appendBogus():Y[0].fixBlock(1,W.enterMode==1?'p':'div');X.selectRanges(Y);}else{var aa=Y.length==1&&Y[0],ab=aa&&aa.getEnclosedNode();if(ab&&ab.is&&ax.type==ab.getName())ax.setState(1);}}var ac=X.createBookmarks(true),ad=[],ae={},af=Y.createIterator(),ag=0;while((aa=af.getNextRange())&&++ag){var ah=aa.getBoundaryNodes(),ai=ah.startNode,aj=ah.endNode;if(ai.type==1&&ai.getName()=='td')aa.setStartAt(ah.startNode,1);if(aj.type==1&&aj.getName()=='td')aa.setEndAt(ah.endNode,2);var ak=aa.createIterator(),al;ak.forceBrBreak=ax.state==2;while(al=ak.getNextParagraph()){if(al.getCustomData('list_block'))continue;else o.setMarker(ae,al,'list_block',1);var am=new k.elementPath(al),an=am.elements,ao=an.length,ap=null,aq=0,ar=am.blockLimit,as;for(var at=ao-1;at>=0&&(as=an[at]);at--){if(t[as.getName()]&&ar.contains(as)){ar.removeCustomData('list_group_object_'+ag);var au=as.getCustomData('list_group_object');if(au)au.contents.push(al);else{au={root:as,contents:[al]};ad.push(au);o.setMarker(ae,as,'list_group_object',au);}aq=1;break;}}if(aq)continue;var av=ar;if(av.getCustomData('list_group_object_'+ag))av.getCustomData('list_group_object_'+ag).contents.push(al);else{au={root:av,contents:[al]};o.setMarker(ae,av,'list_group_object_'+ag,au);ad.push(au);}}}var aw=[];while(ad.length>0){au=ad.shift();if(ax.state==2){if(t[au.root.getName()])C.call(ax,U,au,ae,aw);else E.call(ax,U,au,aw);}else if(ax.state==1&&t[au.root.getName()])F.call(ax,U,au,ae);}for(at=0;at<aw.length;at++)J(aw[at]);o.clearAllMarkers(ae);X.selectBookmarks(ac);U.focus();}};function J(U){var V;(V=function(W){var X=U[W?'getPrevious':'getNext'](x);if(X&&X.type==1&&X.is(U.getName())){I(U,X,null,!W);U.remove();U=X;}})();V(1);};var K=m,L=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function M(U,V){var W,X=U.children,Y=X.length;for(var Z=0;Z<Y;Z++){W=X[Z];if(W.name&&W.name in V)return Z;}return Y;};function N(U){return function(V){var W=V.children,X=M(V,K.$list),Y=W[X],Z=Y&&Y.previous,aa;if(Z&&(Z.name&&Z.name=='br'||Z.value&&(aa=Z.value.match(L)))){var ab=Z;if(!(aa&&aa.index)&&ab==W[0])W[0]=U||j?new h.htmlParser.text('\xa0'):new h.htmlParser.element('br',{});else if(ab.name=='br')W.splice(X-1,1);else ab.value=ab.value.replace(L,'');}};};var O={elements:{}};for(var P in K.$listItem)O.elements[P]=N();var Q={elements:{}};for(P in K.$listItem)Q.elements[P]=N(true);function R(U){return U.type==1&&(U.getName() in m.$block||U.getName() in m.$listItem)&&m[U.getName()]['#'];
};function S(U,V,W){U.fire('saveSnapshot');W.enlarge(3);var X=W.extractContents();V.trim(false,true);var Y=V.createBookmark(),Z=new k.elementPath(V.startContainer),aa=Z.block,ab=Z.lastElement.getAscendant('li',1)||aa,ac=new k.elementPath(W.startContainer),ad=ac.contains(m.$listItem),ae=ac.contains(m.$list),af;if(aa){var ag=aa.getBogus();ag&&ag.remove();}else if(ae){af=ae.getPrevious(x);if(af&&y(af))af.remove();}af=X.getLast();if(af&&af.type==1&&af.is('br'))af.remove();var ah=V.startContainer.getChild(V.startOffset);if(ah)X.insertBefore(ah);else V.startContainer.append(X);if(ad){var ai=T(ad);if(ai)if(ab.contains(ad)){I(ai,ad.getParent(),ad);ai.remove();}else ab.append(ai);}while(W.checkStartOfBlock()&&W.checkEndOfBlock()){ac=new k.elementPath(W.startContainer);var aj=ac.block,ak;if(aj.is('li')){ak=aj.getParent();if(aj.equals(ak.getLast(x))&&aj.equals(ak.getFirst(x)))aj=ak;}W.moveToPosition(aj,3);aj.remove();}var al=W.clone(),am=U.document.getBody();al.setEndAt(am,2);var an=new k.walker(al);an.evaluator=function(ap){return x(ap)&&!y(ap);};var ao=an.next();if(ao&&ao.type==1&&ao.getName() in m.$list)J(ao);V.moveToBookmark(Y);V.select();U.selectionChange(1);U.fire('saveSnapshot');};function T(U){var V=U.getLast(x);return V&&V.type==1&&V.getName() in t?V:null;};q.add('list',{init:function(U){var V=U.addCommand('numberedlist',new G('numberedlist','ol')),W=U.addCommand('bulletedlist',new G('bulletedlist','ul'));U.ui.addButton('NumberedList',{label:U.lang.numberedlist,command:'numberedlist'});U.ui.addButton('BulletedList',{label:U.lang.bulletedlist,command:'bulletedlist'});U.on('selectionChange',l.bind(B,V));U.on('selectionChange',l.bind(B,W));U.on('key',function(X){var Y=X.data.keyCode;if(U.mode=='wysiwyg'&&Y in {8:1,46:1}){var Z=U.getSelection(),aa=Z.getRanges()[0];if(!aa.collapsed)return;var ab=new k.elementPath(aa.startContainer),ac=Y==8,ad=U.document.getBody(),ae=new k.walker(aa.clone());ae.evaluator=function(ap){return x(ap)&&!y(ap);};ae.guard=function(ap,aq){return!(aq&&ap.type==1&&ap.is('table'));};var af=aa.clone();if(ac){var ag,ah;if((ag=ab.contains(t))&&aa.checkBoundaryOfElement(ag,1)&&(ag=ag.getParent())&&ag.is('li')&&(ag=T(ag))){ah=ag;ag=ag.getPrevious(x);af.moveToPosition(ag&&y(ag)?ag:ah,3);}else{ae.range.setStartAt(ad,1);ae.range.setEnd(aa.startContainer,aa.startOffset);ag=ae.previous();if(ag&&ag.type==1&&(ag.getName() in t||ag.is('li'))){if(!ag.is('li')){ae.range.selectNodeContents(ag);ae.reset();ae.evaluator=R;ag=ae.previous();}ah=ag;af.moveToElementEditEnd(ah);
}}if(ah){S(U,af,aa);X.cancel();}else{var ai=ab.contains(t),aj;if(ai&&aa.checkBoundaryOfElement(ai,1)){aj=ai.getFirst(x);if(aa.checkBoundaryOfElement(aj,1)){ag=ai.getPrevious(x);if(T(aj)){if(ag){aa.moveToElementEditEnd(ag);aa.select();}X.cancel();}else{U.execCommand('outdent');X.cancel();}}}}}else{var ak,al;aj=aa.startContainer.getAscendant('li',1);if(aj){ae.range.setEndAt(ad,2);var am=aj.getLast(x),an=am&&R(am)?am:aj,ao=0;ak=ae.next();if(ak&&ak.type==1&&ak.getName() in t&&ak.equals(am)){ao=1;ak=ae.next();}else if(aa.checkBoundaryOfElement(an,2))ao=1;if(ao&&ak){al=aa.clone();al.moveToElementEditStart(ak);S(U,af,al);X.cancel();}}else{ae.range.setEndAt(ad,2);ak=ae.next();if(ak&&ak.type==1&&ak.getName() in t){ak=ak.getFirst(x);if(ab.block&&aa.checkStartOfBlock()&&aa.checkEndOfBlock()){ab.block.remove();aa.moveToElementEditStart(ak);aa.select();X.cancel();}else if(T(ak)){aa.moveToElementEditStart(ak);aa.select();X.cancel();}else{al=aa.clone();al.moveToElementEditStart(ak);S(U,af,al);X.cancel();}}}}setTimeout(function(){U.selectionChange(1);});}});},afterInit:function(U){var V=U.dataProcessor;if(V){V.dataFilter.addRules(O);V.htmlFilter.addRules(Q);}},requires:['domiterator']});})();(function(){q.liststyle={requires:['dialog'],init:function(t){t.addCommand('numberedListStyle',new h.dialogCommand('numberedListStyle'));h.dialog.add('numberedListStyle',this.path+'dialogs/liststyle.js');t.addCommand('bulletedListStyle',new h.dialogCommand('bulletedListStyle'));h.dialog.add('bulletedListStyle',this.path+'dialogs/liststyle.js');if(t.addMenuItems){t.addMenuGroup('list',108);t.addMenuItems({numberedlist:{label:t.lang.list.numberedTitle,group:'list',command:'numberedListStyle'},bulletedlist:{label:t.lang.list.bulletedTitle,group:'list',command:'bulletedListStyle'}});}if(t.contextMenu)t.contextMenu.addListener(function(u,v){if(!u||u.isReadOnly())return null;while(u){var w=u.getName();if(w=='ol')return{numberedlist:2};else if(w=='ul')return{bulletedlist:2};u=u.getParent();}return null;});}};q.add('liststyle',q.liststyle);})();(function(){function t(z){if(!z||z.type!=1||z.getName()!='form')return[];var A=[],B=['style','className'];for(var C=0;C<B.length;C++){var D=B[C],E=z.$.elements.namedItem(D);if(E){var F=new o(E);A.push([F,F.nextSibling]);F.remove();}}return A;};function u(z,A){if(!z||z.type!=1||z.getName()!='form')return;if(A.length>0)for(var B=A.length-1;B>=0;B--){var C=A[B][0],D=A[B][1];if(D)C.insertBefore(D);else C.appendTo(z);}};function v(z,A){var B=t(z),C={},D=z.$;
if(!A){C['class']=D.className||'';D.className='';}C.inline=D.style.cssText||'';if(!A)D.style.cssText='position: static; overflow: visible';u(B);return C;};function w(z,A){var B=t(z),C=z.$;if('class' in A)C.className=A['class'];if('inline' in A)C.style.cssText=A.inline;u(B);};function x(z){var A=h.instances;for(var B in A){var C=A[B];if(C.mode=='wysiwyg'&&!C.readOnly){var D=C.document.getBody();D.setAttribute('contentEditable',false);D.setAttribute('contentEditable',true);}}if(z.focusManager.hasFocus){z.toolbox.focus();z.focus();}};function y(z){if(!j||i.version>6)return null;var A=o.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(i.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":'')+'document.close();'+'})())"'+' style="display:block;position:absolute;z-index:-1;'+'progid:DXImageTransform.Microsoft.Alpha(opacity=0);'+'"></iframe>');return z.append(A,true);};q.add('maximize',{init:function(z){var A=z.lang,B=h.document,C=B.getWindow(),D,E,F,G;function H(){var J=C.getViewPaneSize();G&&G.setStyles({width:J.width+'px',height:J.height+'px'});z.resize(J.width,J.height,null,true);};var I=2;z.addCommand('maximize',{modes:{wysiwyg:!i.iOS,source:!i.iOS},readOnly:1,editorFocus:false,exec:function(){var J=z.container.getChild(1),K=z.getThemeSpace('contents');if(z.mode=='wysiwyg'){var L=z.getSelection();D=L&&L.getRanges();E=C.getScrollPosition();}else{var M=z.textarea.$;D=!j&&[M.selectionStart,M.selectionEnd];E=[M.scrollLeft,M.scrollTop];}if(this.state==2){C.on('resize',H);F=C.getScrollPosition();var N=z.container;while(N=N.getParent()){N.setCustomData('maximize_saved_styles',v(N));N.setStyle('z-index',z.config.baseFloatZIndex-1);}K.setCustomData('maximize_saved_styles',v(K,true));J.setCustomData('maximize_saved_styles',v(J,true));var O={overflow:i.webkit?'':'hidden',width:0,height:0};B.getDocumentElement().setStyles(O);!i.gecko&&B.getDocumentElement().setStyle('position','fixed');!(i.gecko&&i.quirks)&&B.getBody().setStyles(O);j?setTimeout(function(){C.$.scrollTo(0,0);},0):C.$.scrollTo(0,0);J.setStyle('position',i.gecko&&i.quirks?'fixed':'absolute');J.$.offsetLeft;J.setStyles({'z-index':z.config.baseFloatZIndex-1,left:'0px',top:'0px'});G=y(J);J.addClass('cke_maximized');H();var P=J.getDocumentPosition();J.setStyles({left:-1*P.x+'px',top:-1*P.y+'px'});i.gecko&&x(z);}else if(this.state==1){C.removeListener('resize',H);var Q=[K,J];for(var R=0;R<Q.length;R++){w(Q[R],Q[R].getCustomData('maximize_saved_styles'));
Q[R].removeCustomData('maximize_saved_styles');}N=z.container;while(N=N.getParent()){w(N,N.getCustomData('maximize_saved_styles'));N.removeCustomData('maximize_saved_styles');}j?setTimeout(function(){C.$.scrollTo(F.x,F.y);},0):C.$.scrollTo(F.x,F.y);J.removeClass('cke_maximized');if(i.webkit){J.setStyle('display','inline');setTimeout(function(){J.setStyle('display','block');},0);}if(G){G.remove();G=null;}z.fire('resize');}this.toggleState();var S=this.uiItems[0];if(S){var T=this.state==2?A.maximize:A.minimize,U=z.element.getDocument().getById(S._.id);U.getChild(1).setHtml(T);U.setAttribute('title',T);U.setAttribute('href','javascript:void("'+T+'");');}if(z.mode=='wysiwyg'){if(D){i.gecko&&x(z);z.getSelection().selectRanges(D);var V=z.getSelection().getStartElement();V&&V.scrollIntoView(true);}else C.$.scrollTo(E.x,E.y);}else{if(D){M.selectionStart=D[0];M.selectionEnd=D[1];}M.scrollLeft=E[0];M.scrollTop=E[1];}D=E=null;I=this.state;},canUndo:false});z.ui.addButton('Maximize',{label:A.maximize,command:'maximize'});z.on('mode',function(){var J=z.getCommand('maximize');J.setState(J.state==0?0:I);},null,null,100);}});})();var a={url:'',poster:'',width:507,height:322,autoplay:'false',contentType:'',streamType:'',showdl:''},b={url:'',poster:'',width:507,height:322,autoplay:'false',contentType:'',streamType:'',showdl:''},c='';(function(){q.add('mediaembed',{requires:['iframedialog'],init:function(t){var u=t.lang.mediaembed,v=this;h.dialog.add('MediaEmbedDialog',function(w){return{title:'Embed Media Dialog',minWidth:550,minHeight:200,contents:[{id:'iframe',label:'Embed Media',expand:true,elements:[{type:'html',id:'pageMediaEmbed',label:'Embed Media',style:'width : 100%',html:'<iframe src="'+v.path.toLowerCase()+'dialogs/mediaembed_'+w.config.language+'.html" frameborder="0" name="iframeMediaEmbed" id="iframeMediaEmbed" allowtransparency="1" style="width:100%;height:250px;margin:0;padding:0;"></iframe>'}]}],onShow:function(){e('iframe#iframeMediaEmbed',true);},onOk:function(){d(this.getParentEditor(),'iframe#iframeMediaEmbed',true);}};});h.dialog.add('MediaEmbedDialogMod',function(w){return{title:'Embed Media Dialog',minWidth:550,minHeight:200,contents:[{id:'iframe',label:'Embed Media',expand:true,elements:[{type:'html',id:'pageMediaEmbedMod',label:'Embed Media',style:'width : 100%',html:'<iframe src="'+v.path.toLowerCase()+'dialogs/mediaembed_'+w.config.language+'.html" frameborder="0" name="iframeMediaEmbed" id="iframeMediaEmbedMod" allowtransparency="1" style="width:100%;height:250px;margin:0;padding:0;"></iframe>'}]}],onShow:function(){e('iframe#iframeMediaEmbedMod',false);
},onOk:function(){d(this.getParentEditor(),'iframe#iframeMediaEmbedMod',false);}};});t.addCommand('mediaembed',new h.dialogCommand('MediaEmbedDialog'));t.addCommand('mediaembedmod',new h.dialogCommand('MediaEmbedDialogMod'));t.addCommand('MediaEmbedRemove',{exec:function(w){var x=w.getSelection(),y=x.createBookmarks(),z=x.getStartElement();z.remove(false);x.selectBookmarks(y);}});t.ui.addButton('MediaEmbed',{label:'Embed Media',command:'mediaembed',icon:this.path.toLowerCase()+'images/icon.png'});t.on('doubleclick',function(w){var x=w.data,y=x.element,z=y.getHtml();if(z.indexOf('include:media-player')==-1)return null;g(z,y);x.dialog='MediaEmbedDialogMod';});if(t.addMenuItems){t.addMenuGroup('mediaembed');t.addMenuItems({MediaEmbedDialogMod:{label:u.edit,command:'mediaembedmod',group:'mediaembed',icon:this.path.toLowerCase()+'images/icon.png',order:1},RemoveMedia:{label:u.remove,command:'MediaEmbedRemove',group:'mediaembed',icon:this.path.toLowerCase()+'images/iconremove.png',order:5}});}if(t.contextMenu)t.contextMenu.addListener(function(w,x){var y=w.getHtml();if(y.indexOf('include:media-player')==-1)return null;g(y,w);return{MediaEmbedDialogMod:2,RemoveMedia:2};});}});q.setLang('mediaembed','en',{mediaembed:{edit:'Media properties',remove:'Remove media'}});q.setLang('mediaembed','no',{mediaembed:{edit:'Mediaegenskaper',remove:'Fjern media'}});})();function d(t,u,v){var w=$(u),x=w.contents(),y=x.find('#txtUrl').val();if(y!=''&&y.indexOf('.')!=-1){var z='${include:media-player url=['+encodeURI(y)+']',A=x.find('#txtPosterUrl').val();if(A.length>0)z=z+' poster=['+encodeURI(A)+']';var B=x.find('#txtContentType').val();if(B.length>0)z=z+' content-type=['+B+']';var C=x.find('#txtWidth').val();if(C.length>0&&C!=a.width)z=z+' width=['+C+']';var D=x.find('#txtHeight').val();if(D.length>0&&D!=a.height)z=z+' height=['+D+']';var E=x.find('#chkAutoplay');if(E.is(':checked'))z+=' autoplay=[true]';var F=x.find('#chkLiveStream');if(F.is(':checked'))z+=' stream-type=[live]';var G=x.find('#chkShowDL');if(G.is(':checked'))z+=' show-download-link=[true]';var H=x.find('#txtAlign').val();if(z.length>0)z+='}';var I='';if(B.length>0&&B=='audio/mp3')I='vrtx-media-player-audio';else if(f(y)=='mp3')I='vrtx-media-player-audio';else I='vrtx-media-player';var J=t.getSelection().getStartElement();if(J.is('p'))J.renameNode('div');if(v){var K=I;if(H!='')K=K+' '+H;J.appendHtml('<div class="'+K+'">'+z+'</div>');}else{J.removeAttribute('class');if(H!=''&&I!=''){J.addClass(I);J.addClass(H);}else J.addClass(I);
J.setText(z);}}else{alert('Du må spesifisere en URL');return false;}};function e(t,u){var v=setInterval(function(){var w=$(t);if(w){var x=w.contents();if(x.find('#chkAutoplay').length){x.find('#txtUrl').val(u?a.url:b.url);x.find('#txtPosterUrl').val(u?a.poster:b.poster);x.find('#txtWidth').val(u?a.width:b.width);x.find('#txtHeight').val(u?a.height:b.height);x.find('#txtContentType').val(u?a.contentType:b.contentType);var y=u?a.autoplay:b.autoplay;if(y=='true')x.find('#chkAutoplay').attr('checked',true);else x.find('#chkAutoplay').attr('checked',false);var z=u?a.streamType:b.streamType;if(z=='live')x.find('#chkLiveStream').attr('checked',true);else x.find('#chkLiveStream').attr('checked',false);var A=u?a.showdl:b.showdl;if(A=='true')x.find('#chkShowDL').attr('checked',true);else x.find('#chkShowDL').attr('checked',false);if(c!=''&&c!=' '&&!u)x.find('#txtAlign').val(c);else x.find('#txtAlign').val('');if(!u){b.url=a.url;b.poster=a.poster;b.width=a.width;b.height=a.height;b.autoplay=a.autoplay;b.streamType=a.streamType;b.contentType=a.contentType;b.showdl=a.showdl;c='';}clearInterval(v);}}},50);};function f(t){var u=t.match(/\.(avi|asf|fla|flv|mov|mp3|mp4|m4v|mpg|mpeg|mpv|qt|swf|wma|wmv)$/i);if(u!=null&&u.length&&u.length>0)u=u[1];else u='';return u;};function g(t,u){var v=[],w=t,x=u.$.className;c=$.trim(x.replace(/vrtx-media-player[\w-]*/g,''));for(var y in b){if(y=='contentType')v=new RegExp('(?:content\\-type[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');else if(y=='streamType')v=new RegExp('(?:stream\\-type[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');else if(y=='showdl')v=new RegExp('(?:show\\-download\\-link[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');else v=new RegExp('(?:'+y+'[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');var z=v.exec(t);if(z!=null)if(z.length=2)if(y=='url'||y=='poster')b[y]=decodeURI($.trim(z[1]));else b[y]=$.trim(z[1]);t=w;}};q.add('newpage',{init:function(t){t.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(u){var v=this;u.setData(u.config.newpage_html||'',function(){setTimeout(function(){u.fire('afterCommandExec',{name:'newpage',command:v});u.selectionChange();},200);});u.focus();},async:true});t.ui.addButton('NewPage',{label:t.lang.newPage,command:'newpage'});}});q.add('pagebreak',{init:function(t){t.addCommand('pagebreak',q.pagebreakCmd);t.ui.addButton('PageBreak',{label:t.lang.pagebreak,command:'pagebreak'});var u=['{','background: url('+h.getUrl(this.path+'images/pagebreak.gif')+') no-repeat center center;','clear: both;','width:100%; _width:99.9%;','border-top: #999999 1px dotted;','border-bottom: #999999 1px dotted;','padding:0;','height: 5px;','cursor: default;','}'].join('').replace(/;/g,' !important;');
t.addCss('div.cke_pagebreak'+u);i.opera&&t.on('contentDom',function(){t.document.on('click',function(v){var w=v.data.getTarget();if(w.is('div')&&w.hasClass('cke_pagebreak'))t.getSelection().selectElement(w);});});},afterInit:function(t){var u=t.lang.pagebreakAlt,v=t.dataProcessor,w=v&&v.dataFilter,x=v&&v.htmlFilter;if(x)x.addRules({attributes:{'class':function(y,z){var A=y.replace('cke_pagebreak','');if(A!=y){var B=h.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>');z.children.length=0;z.add(B);var C=z.attributes;delete C['aria-label'];delete C.contenteditable;delete C.title;}return A;}}},5);if(w)w.addRules({elements:{div:function(y){var z=y.attributes,A=z&&z.style,B=A&&y.children.length==1&&y.children[0],C=B&&B.name=='span'&&B.attributes.style;if(C&&/page-break-after\s*:\s*always/i.test(A)&&/display\s*:\s*none/i.test(C)){z.contenteditable='false';z['class']='cke_pagebreak';z['data-cke-display-name']='pagebreak';z['aria-label']=u;z.title=u;y.children.length=0;}}}});},requires:['fakeobjects']});q.pagebreakCmd={exec:function(t){var u=t.lang.pagebreakAlt,v=o.createFromHtml('<div style="page-break-after: always;"contenteditable="false" title="'+u+'" '+'aria-label="'+u+'" '+'data-cke-display-name="pagebreak" '+'class="cke_pagebreak">'+'</div>',t.document),w=t.getSelection().getRanges(true);t.fire('saveSnapshot');for(var x,y=w.length-1;y>=0;y--){x=w[y];if(y<w.length-1)v=v.clone(true);x.splitBlock('p');x.insertNode(v);if(y==w.length-1){var z=v.getNext();x.moveToPosition(v,4);if(!z||z.type==1&&!z.isEditable())x.fixBlock(true,t.config.enterMode==3?'div':'p');x.select();}}t.fire('saveSnapshot');}};(function(){function t(u){u.data.mode='html';};q.add('pastefromword',{init:function(u){var v=0,w=function(x){x&&x.removeListener();u.removeListener('beforePaste',t);v&&setTimeout(function(){v=0;},0);};u.addCommand('pastefromword',{canUndo:false,exec:function(){v=1;u.on('beforePaste',t);if(u.execCommand('paste','html')===false){u.on('dialogShow',function(x){x.removeListener();x.data.on('cancel',w);});u.on('dialogHide',function(x){x.data.removeListener('cancel',w);});}u.on('afterPaste',w);}});u.ui.addButton('PasteFromWord',{label:u.lang.pastefromword.toolbar,command:'pastefromword'});u.on('pasteState',function(x){u.getCommand('pastefromword').setState(x.data);});u.on('paste',function(x){var y=x.data,z;if((z=y.html)&&(v||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(z))){var A=this.loadFilterRules(function(){if(A)u.fire('paste',y);else if(!u.config.pasteFromWordPromptCleanup||v||confirm(u.lang.pastefromword.confirmCleanup))y.html=h.cleanWord(z,u);
});A&&x.cancel();}},this);},loadFilterRules:function(u){var v=h.cleanWord;if(v)u();else{var w=h.getUrl(p.pasteFromWordCleanupFile||this.path+'filter/default.js');h.scriptLoader.load(w,u,null,true);}return!v;},requires:['clipboard']});})();(function(){var t={exec:function(u){var v=l.tryThese(function(){var w=window.clipboardData.getData('Text');if(!w)throw 0;return w;});if(!v){u.openDialog('pastetext');return false;}else u.fire('paste',{text:v});return true;}};q.add('pastetext',{init:function(u){var v='pastetext',w=u.addCommand(v,t);u.ui.addButton('PasteText',{label:u.lang.pasteText.button,command:v});h.dialog.add(v,h.getUrl(this.path+'dialogs/pastetext.js'));if(u.config.forcePasteAsPlainText){u.on('beforeCommandExec',function(x){var y=x.data.commandData;if(x.data.name=='paste'&&y!='html'){u.execCommand('pastetext');x.cancel();}},null,null,0);u.on('beforePaste',function(x){x.data.mode='text';});}u.on('pasteState',function(x){u.getCommand('pastetext').setState(x.data);});},requires:['clipboard']});})();q.add('popup');l.extend(h.editor.prototype,{popup:function(t,u,v,w){u=u||'80%';v=v||'70%';if(typeof u=='string'&&u.length>1&&u.substr(u.length-1,1)=='%')u=parseInt(window.screen.width*parseInt(u,10)/100,10);if(typeof v=='string'&&v.length>1&&v.substr(v.length-1,1)=='%')v=parseInt(window.screen.height*parseInt(v,10)/100,10);if(u<640)u=640;if(v<420)v=420;var x=parseInt((window.screen.height-v)/2,10),y=parseInt((window.screen.width-u)/2,10);w=(w||'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes')+',width='+u+',height='+v+',top='+x+',left='+y;var z=window.open('',null,w,true);if(!z)return false;try{var A=navigator.userAgent.toLowerCase();if(A.indexOf(' chrome/')==-1){z.moveTo(y,x);z.resizeTo(u,v);}z.focus();z.location.href=t;}catch(B){z=window.open(t,null,w,true);}return true;}});(function(){var t,u={modes:{wysiwyg:1,source:1},canUndo:false,readOnly:1,exec:function(w){var x,y=w.config,z=y.baseHref?'<base href="'+y.baseHref+'"/>':'',A=i.isCustomDomain();if(y.fullPage)x=w.getData().replace(/<head>/,'$&'+z).replace(/[^>]*(?=<\/title>)/,'$& &mdash; '+w.lang.preview);else{var B='<body ',C=w.document&&w.document.getBody();if(C){if(C.getAttribute('id'))B+='id="'+C.getAttribute('id')+'" ';if(C.getAttribute('class'))B+='class="'+C.getAttribute('class')+'" ';}B+='>';x=w.config.docType+'<html dir="'+w.config.contentsLangDirection+'">'+'<head>'+z+'<title>'+w.lang.preview+'</title>'+l.buildStyleHtml(w.config.contentsCss)+'</head>'+B+w.getData()+'</body></html>';
}var D=640,E=420,F=80;try{var G=window.screen;D=Math.round(G.width*0.8);E=Math.round(G.height*0.7);F=Math.round(G.width*0.1);}catch(K){}var H='';if(A){window._cke_htmlToLoad=x;H='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}if(i.gecko){window._cke_htmlToLoad=x;H=t+'preview.html';}var I=window.open(H,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+D+',height='+E+',left='+F);if(!A&&!i.gecko){var J=I.document;J.open();J.write(x);J.close();i.webkit&&setTimeout(function(){J.body.innerHTML+='';},0);}}},v='preview';q.add(v,{init:function(w){t=this.path;w.addCommand(v,u);w.ui.addButton('Preview',{label:w.lang.preview,command:v});}});})();q.add('print',{init:function(t){var u='print',v=t.addCommand(u,q.print);t.ui.addButton('Print',{label:t.lang.print,command:u});}});q.print={exec:function(t){if(i.opera)return;else if(i.gecko)t.window.$.print();else t.document.$.execCommand('Print');},canUndo:false,readOnly:1,modes:{wysiwyg:!i.opera}};q.add('removeformat',{requires:['selection'],init:function(t){t.addCommand('removeFormat',q.removeformat.commands.removeformat);t.ui.addButton('RemoveFormat',{label:t.lang.removeFormat,command:'removeFormat'});t._.removeFormat={filters:[]};}});q.removeformat={commands:{removeformat:{exec:function(t){var u=t._.removeFormatRegex||(t._.removeFormatRegex=new RegExp('^(?:'+t.config.removeFormatTags.replace(/,/g,'|')+')$','i')),v=t._.removeAttributes||(t._.removeAttributes=t.config.removeFormatAttributes.split(',')),w=q.removeformat.filter,x=t.getSelection().getRanges(1),y=x.createIterator(),z;while(z=y.getNextRange()){if(!z.collapsed)z.enlarge(1);var A=z.createBookmark(),B=A.startNode,C=A.endNode,D,E=function(G){var H=new k.elementPath(G),I=H.elements;for(var J=1,K;K=I[J];J++){if(K.equals(H.block)||K.equals(H.blockLimit))break;if(u.test(K.getName())&&w(t,K))G.breakParent(K);}};E(B);if(C){E(C);D=B.getNextSourceNode(true,1);while(D){if(D.equals(C))break;var F=D.getNextSourceNode(false,1);if(!(D.getName()=='img'&&D.data('cke-realelement'))&&w(t,D))if(u.test(D.getName()))D.remove(1);else{D.removeAttributes(v);t.fire('removeFormatCleanup',D);}D=F;}}z.moveToBookmark(A);}t.getSelection().selectRanges(x);}}},filter:function(t,u){var v=t._.removeFormat.filters;for(var w=0;w<v.length;w++){if(v[w](u)===false)return false;}return true;}};h.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormat.filters.push(t);
};p.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';p.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';q.add('resize',{init:function(t){var u=t.config,v=t.element.getDirection(1);!u.resize_dir&&(u.resize_dir='both');u.resize_maxWidth==undefined&&(u.resize_maxWidth=3000);u.resize_maxHeight==undefined&&(u.resize_maxHeight=3000);u.resize_minWidth==undefined&&(u.resize_minWidth=750);u.resize_minHeight==undefined&&(u.resize_minHeight=250);if(u.resize_enabled!==false){var w=null,x,y,z=(u.resize_dir=='both'||u.resize_dir=='horizontal')&&u.resize_minWidth!=u.resize_maxWidth,A=(u.resize_dir=='both'||u.resize_dir=='vertical')&&u.resize_minHeight!=u.resize_maxHeight;function B(E){var F=E.data.$.screenX-x.x,G=E.data.$.screenY-x.y,H=y.width,I=y.height,J=H+F*(v=='rtl'?-1:1),K=I+G;if(z)H=Math.max(u.resize_minWidth,Math.min(J,u.resize_maxWidth));if(A)I=Math.max(u.resize_minHeight,Math.min(K,u.resize_maxHeight));t.resize(z?H:null,I);};function C(E){h.document.removeListener('mousemove',B);h.document.removeListener('mouseup',C);if(t.document){t.document.removeListener('mousemove',B);t.document.removeListener('mouseup',C);}};var D=l.addFunction(function(E){if(!w)w=t.getResizable();y={width:w.$.offsetWidth||0,height:w.$.offsetHeight||0};x={x:E.screenX,y:E.screenY};u.resize_minWidth>y.width&&(u.resize_minWidth=y.width);u.resize_minHeight>y.height&&(u.resize_minHeight=y.height);h.document.on('mousemove',B);h.document.on('mouseup',C);if(t.document){t.document.on('mousemove',B);t.document.on('mouseup',C);}});t.on('destroy',function(){l.removeFunction(D);});t.on('themeSpace',function(E){if(E.data.space=='bottom'){var F='';if(z&&!A)F=' cke_resizer_horizontal';if(!z&&A)F=' cke_resizer_vertical';var G='<div class="cke_resizer'+F+' cke_resizer_'+v+'"'+' title="'+l.htmlEncode(t.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+D+', event)"'+'></div>';v=='ltr'&&F=='ltr'?E.data.html+=G:E.data.html=G+E.data.html;}},t,null,100);}}});(function(){var t={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(v){var w=v.element.$.form;if(w)try{w.submit();}catch(x){if(w.submit.click)w.submit.click();}}},u='save';q.add(u,{init:function(v){var w=v.addCommand(u,t);w.modes={wysiwyg:!!v.element.$.form};v.ui.addButton('Save',{label:v.lang.save,command:u});}});})();(function(){var t='scaytcheck',u='';function v(A,B){var C=0,D;for(D in B){if(B[D]==A){C=1;break;}}return C;};var w=function(){var A=this,B=function(){if(x.instances[A.name])x.instances[A.name].destroy();
var F=A.config,G={};G.srcNodeRef=A.document.getWindow().$.frameElement;G.assocApp='CKEDITOR.'+h.version+'@'+h.revision;G.customerid=F.scayt_customerid||'1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2';G.customDictionaryIds=F.scayt_customDictionaryIds||'';G.userDictionaryName=F.scayt_userDictionaryName||'';G.sLang=F.scayt_sLang||'en_US';G.onLoad=function(){if(!(j&&i.version<8))this.addStyle(this.selectorCss(),'padding-bottom: 2px !important;');if(A.focusManager.hasFocus&&!x.isControlRestored(A))this.focus();};G.onBeforeChange=function(){if(x.getScayt(A)&&!A.checkDirty())setTimeout(function(){A.resetDirty();},0);};var H=window.scayt_custom_params;if(typeof H=='object')for(var I in H)G[I]=H[I];if(x.getControlId(A))G.id=x.getControlId(A);var J=new window.scayt(G);J.afterMarkupRemove.push(function(L){new o(L,J.document).mergeSiblings();});var K=x.instances[A.name];if(K){J.sLang=K.sLang;J.option(K.option());J.paused=K.paused;}x.instances[A.name]=J;try{J.setDisabled(x.isPaused(A)===false);}catch(L){}A.fire('showScaytState');};A.on('contentDom',function(F){B();});A.on('contentDomUnload',function(){var F=h.document.getElementsByTag('script'),G=/^dojoIoScript(\d+)$/i,H=/^https?:\/\/svc\.webspellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;for(var I=0;I<F.count();I++){var J=F.getItem(I),K=J.getId(),L=J.getAttribute('src');if(K&&L&&K.match(G)&&L.match(H))J.remove();}});A.on('beforeCommandExec',function(F){if(F.data.name=='source'&&A.mode=='source')x.markControlRestore(A);});A.on('afterCommandExec',function(F){if(!x.isScaytEnabled(A))return;if(A.mode=='wysiwyg'&&(F.data.name=='undo'||F.data.name=='redo'))window.setTimeout(function(){x.getScayt(A).refresh();},10);});A.on('destroy',function(F){var G=F.editor,H=x.getScayt(G);if(!H)return;delete x.instances[G.name];x.setControlId(G,H.id);H.destroy(true);});A.on('setData',function(F){var G=x.getScayt(A);if(G){x.setPaused(A,!G.disabled);x.setControlId(A,G.id);G.destroy(true);delete x.instances[A.name];}});A.on('insertElement',function(){var F=x.getScayt(A);if(x.isScaytEnabled(A)){if(j)A.getSelection().unlock(true);window.setTimeout(function(){F.focus();F.refresh();},10);}},this,null,50);A.on('insertHtml',function(){var F=x.getScayt(A);if(x.isScaytEnabled(A)){if(j)A.getSelection().unlock(true);window.setTimeout(function(){F.focus();F.refresh();},10);}},this,null,50);A.on('scaytDialog',function(F){F.data.djConfig=window.djConfig;F.data.scayt_control=x.getScayt(A);F.data.tab=u;F.data.scayt=window.scayt;});
var C=A.dataProcessor,D=C&&C.htmlFilter;if(D)D.addRules({elements:{span:function(F){if(F.attributes['data-scayt_word']&&F.attributes['data-scaytid']){delete F.name;return F;}}}});var E=q.undo.Image.prototype;E.equals=l.override(E.equals,function(F){return function(G){var L=this;var H=L.contents,I=G.contents,J=x.getScayt(L.editor);if(J&&x.isScaytReady(L.editor)){L.contents=J.reset(H)||'';G.contents=J.reset(I)||'';}var K=F.apply(L,arguments);L.contents=H;G.contents=I;return K;};});if(A.document)B();};q.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(A,B){if(A&&A.name&&typeof this.controlInfo[A.name]!='object')this.controlInfo[A.name]={};for(var C in B)this.controlInfo[A.name][C]=B[C];},isControlRestored:function(A){if(A&&A.name&&this.controlInfo[A.name])return this.controlInfo[A.name].restored;return false;},markControlRestore:function(A){this.setControlInfo(A,{restored:true});},setControlId:function(A,B){this.setControlInfo(A,{id:B});},getControlId:function(A){if(A&&A.name&&this.controlInfo[A.name]&&this.controlInfo[A.name].id)return this.controlInfo[A.name].id;return null;},setPaused:function(A,B){this.setControlInfo(A,{paused:B});},isPaused:function(A){if(A&&A.name&&this.controlInfo[A.name])return this.controlInfo[A.name].paused;return undefined;},getScayt:function(A){return this.instances[A.name];},isScaytReady:function(A){return this.engineLoaded===true&&'undefined'!==typeof window.scayt&&this.getScayt(A);},isScaytEnabled:function(A){var B=this.getScayt(A);return B?B.disabled===false:false;},getUiTabs:function(A){var B=[],C=A.config.scayt_uiTabs||'1,1,1';C=C.split(',');C[3]='1';for(var D=0;D<4;D++)B[D]=typeof window.scayt!='undefined'&&typeof window.scayt.uiTags!='undefined'?parseInt(C[D],10)&&window.scayt.uiTags[D]:parseInt(C[D],10);return B;},loadEngine:function(A){if(i.gecko&&i.version<10900||i.opera||i.air)return A.fire('showScaytState');if(this.engineLoaded===true)return w.apply(A);else if(this.engineLoaded==-1)return h.on('scaytReady',function(){w.apply(A);});h.on('scaytReady',w,A);h.on('scaytReady',function(){this.engineLoaded=true;},this,null,0);this.engineLoaded=-1;var B=document.location.protocol;B=B.search(/https?:/)!=-1?B:'http:';var C='svc.webspellchecker.net/scayt26/loader__base.js',D=A.config.scayt_srcUrl||B+'//'+C,E=x.parseUrl(D).path+'/';if(window.scayt==undefined){h._djScaytConfig={baseUrl:E,addOnLoad:[function(){h.fireOnce('scaytReady');}],isDebug:false};h.document.getHead().append(h.document.createElement('script',{attributes:{type:'text/javascript',async:'true',src:D}}));
}else h.fireOnce('scaytReady');return null;},parseUrl:function(A){var B;if(A.match&&(B=A.match(/(.*)[\/\\](.*?\.\w+)$/)))return{path:B[1],file:B[2]};else return A;}};var x=q.scayt,y=function(A,B,C,D,E,F,G){A.addCommand(D,E);A.addMenuItem(D,{label:C,command:D,group:F,order:G});},z={preserveState:true,editorFocus:false,canUndo:false,exec:function(A){if(x.isScaytReady(A)){var B=x.isScaytEnabled(A);this.setState(B?2:1);var C=x.getScayt(A);C.focus();C.setDisabled(B);}else if(!A.config.scayt_autoStartup&&x.engineLoaded>=0){this.setState(0);x.loadEngine(A);}}};q.add('scayt',{requires:['menubutton'],beforeInit:function(A){var B=A.config.scayt_contextMenuItemsOrder||'suggest|moresuggest|control',C='';B=B.split('|');if(B&&B.length)for(var D=0;D<B.length;D++)C+='scayt_'+B[D]+(B.length!=parseInt(D,10)+1?',':'');A.config.menu_groups=C+','+A.config.menu_groups;},init:function(A){var B=A.dataProcessor&&A.dataProcessor.dataFilter,C={elements:{span:function(L){var M=L.attributes;if(M&&M['data-scaytid'])delete L.name;}}};B&&B.addRules(C);var D={},E={},F=A.addCommand(t,z);h.dialog.add(t,h.getUrl(this.path+'dialogs/options.js'));var G=x.getUiTabs(A),H='scaytButton';A.addMenuGroup(H);var I={},J=A.lang.scayt;I.scaytToggle={label:J.enable,command:t,group:H};if(G[0]==1)I.scaytOptions={label:J.options,group:H,onClick:function(){u='options';A.openDialog(t);}};if(G[1]==1)I.scaytLangs={label:J.langs,group:H,onClick:function(){u='langs';A.openDialog(t);}};if(G[2]==1)I.scaytDict={label:J.dictionariesTab,group:H,onClick:function(){u='dictionaries';A.openDialog(t);}};I.scaytAbout={label:A.lang.scayt.about,group:H,onClick:function(){u='about';A.openDialog(t);}};A.addMenuItems(I);A.ui.add('Scayt',5,{label:J.title,title:i.opera?J.opera_title:J.title,className:'cke_button_scayt',modes:{wysiwyg:1},onRender:function(){F.on('state',function(){this.setState(F.state);},this);},onMenu:function(){var L=x.isScaytEnabled(A);A.getMenuItem('scaytToggle').label=J[L?'disable':'enable'];var M=x.getUiTabs(A);return{scaytToggle:2,scaytOptions:L&&M[0]?2:0,scaytLangs:L&&M[1]?2:0,scaytDict:L&&M[2]?2:0,scaytAbout:L&&M[3]?2:0};}});if(A.contextMenu&&A.addMenuItems)A.contextMenu.addListener(function(L,M){if(!x.isScaytEnabled(A)||M.getRanges()[0].checkReadOnly())return null;var N=x.getScayt(A),O=N.getScaytNode();if(!O)return null;var P=N.getWord(O);if(!P)return null;var Q=N.getLang(),R=window.scayt.getSuggestion(P,Q);for(var S in D){delete A._.menuItems[S];delete A._.commands[S];}for(S in E){delete A._.menuItems[S];
delete A._.commands[S];}D={};E={};var T=A.config.scayt_moreSuggestions||'on',U=false,V=A.config.scayt_maxSuggestions;typeof V!='number'&&(V=5);!V&&(V=R.length);var W=A.config.scayt_contextCommands||'all';W=W.split('|');if(R&&R.length){for(var X=0,Y=R.length;X<Y;X+=1){var Z='scayt_suggestion_'+R[X].replace(' ','_'),aa=(function(ae,af){return{exec:function(){N.replace(ae,af);}};})(O,R[X]);if(X<V){y(A,'button_'+Z,R[X],Z,aa,'scayt_suggest',X+1);E[Z]=2;}else if(T=='on'){y(A,'button_'+Z,R[X],Z,aa,'scayt_moresuggest',X+1);D[Z]=2;U=true;}}if(U){A.addMenuItem('scayt_moresuggest',{label:A.lang.scayt.moreSuggestions,group:'scayt_moresuggest',order:10,getItems:function(){return D;}});E.scayt_moresuggest=2;}}else{A.addMenuItem('scayt_nosuggest',{label:A.lang.scayt.noSuggestions?A.lang.scayt.noSuggestions:A.lang.spellCheck.noSuggestions?A.lang.spellCheck.noSuggestions:'No suggestions',group:'scayt_suggest',order:1});E.scayt_nosuggest=2;}if(v('all',W)||v('ignore',W)){var ab={exec:function(){N.ignore(O);}};y(A,'ignore',J.ignore,'scayt_ignore',ab,'scayt_control',1);E.scayt_ignore=2;}if(v('all',W)||v('ignoreall',W)){var ac={exec:function(){N.ignoreAll(O);}};y(A,'ignore_all',J.ignoreAll,'scayt_ignore_all',ac,'scayt_control',2);E.scayt_ignore_all=2;}if(v('all',W)||v('add',W)){var ad={exec:function(){window.scayt.addWordToUserDictionary(O);}};y(A,'add_word',J.addWord,'scayt_add_word',ad,'scayt_control',3);E.scayt_add_word=2;}if(N.fireOnContextMenu)N.fireOnContextMenu(A);return E;});var K=function(){A.removeListener('showScaytState',K);if(!i.opera&&!i.air)F.setState(x.isScaytEnabled(A)?1:2);else F.setState(0);};A.on('showScaytState',K);if(i.opera||i.air)A.on('instanceReady',function(){K();});if(A.config.scayt_autoStartup)A.on('instanceReady',function(){x.loadEngine(A);});},afterInit:function(A){var B,C=function(D){if(D.hasAttribute('data-scaytid'))return false;};if(A._.elementsPath&&(B=A._.elementsPath.filters))B.push(C);A.addRemoveFormatFilter&&A.addRemoveFormatFilter(C);}});})();q.add('smiley',{requires:['dialog'],init:function(t){t.config.smiley_path=t.config.smiley_path||this.path+'images/';t.addCommand('smiley',new h.dialogCommand('smiley'));t.ui.addButton('Smiley',{label:t.lang.smiley.toolbar,command:'smiley'});h.dialog.add('smiley',this.path+'dialogs/smiley.js');}});p.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];
p.smiley_descriptions=['smiley','sad','wink','laugh','frown','cheeky','blush','surprise','indecision','angry','angel','cool','devil','crying','enlightened','no','yes','heart','broken heart','kiss','mail'];(function(){var t='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',u=/%1/g,v=/%2/g,w=/%3/g,x={readOnly:1,preserveState:true,editorFocus:false,exec:function(y){this.toggleState();this.refresh(y);},refresh:function(y){if(y.document){var z=this.state==1?'addClass':'removeClass';y.document.getBody()[z]('cke_show_blocks');}}};q.add('showblocks',{requires:['wysiwygarea'],init:function(y){var z=y.addCommand('showblocks',x);z.canUndo=false;if(y.config.startupOutlineBlocks)z.setState(1);y.addCss(t.replace(u,'background-image: url('+h.getUrl(this.path)+'images/block_').replace(v,'cke_show_blocks ').replace(w,y.lang.dir=='rtl'?'right':'left'));y.ui.addButton('ShowBlocks',{label:y.lang.showBlocks,command:'showblocks'});y.on('mode',function(){if(z.state!=0)z.refresh(y);});y.on('contentDom',function(){if(z.state!=0)z.refresh(y);});}});})();(function(){var t='cke_show_border',u,v=(i.ie6Compat?['.%1 table.%2,','.%1 table.%2 td, .%1 table.%2 th','{','border : #d3d3d3 1px dotted','}']:['.%1 table.%2,','.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,','.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,','.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,','.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th','{','border : #d3d3d3 1px dotted','}']).join('');u=v.replace(/%2/g,t).replace(/%1/g,'cke_show_borders ');var w={preserveState:true,editorFocus:false,readOnly:1,exec:function(x){this.toggleState();this.refresh(x);},refresh:function(x){if(x.document){var y=this.state==1?'addClass':'removeClass';x.document.getBody()[y]('cke_show_borders');}}};q.add('showborders',{requires:['wysiwygarea'],modes:{wysiwyg:1},init:function(x){var y=x.addCommand('showborders',w);y.canUndo=false;if(x.config.startupShowBorders!==false)y.setState(1);x.addCss(u);x.on('mode',function(){if(y.state!=0)y.refresh(x);},null,null,100);x.on('contentDom',function(){if(y.state!=0)y.refresh(x);});
x.on('removeFormatCleanup',function(z){var A=z.data;if(x.getCommand('showborders').state==1&&A.is('table')&&(!A.hasAttribute('border')||parseInt(A.getAttribute('border'),10)<=0))A.addClass(t);});},afterInit:function(x){var y=x.dataProcessor,z=y&&y.dataFilter,A=y&&y.htmlFilter;if(z)z.addRules({elements:{table:function(B){var C=B.attributes,D=C['class'],E=parseInt(C.border,10);if((!E||E<=0)&&(!D||D.indexOf(t)==-1))C['class']=(D||'')+' '+t;}}});if(A)A.addRules({elements:{table:function(B){var C=B.attributes,D=C['class'];D&&(C['class']=D.replace(t,'').replace(/\s{2}/,' ').replace(/^\s+|\s+$/,''));}}});}});h.on('dialogDefinition',function(x){var y=x.data.name;if(y=='table'||y=='tableProperties'){var z=x.data.definition,A=z.getContents('info'),B=A.get('txtBorder'),C=B.commit;B.commit=l.override(C,function(F){return function(G,H){F.apply(this,arguments);var I=parseInt(this.getValue(),10);H[!I||I<=0?'addClass':'removeClass'](t);};});var D=z.getContents('advanced'),E=D&&D.get('advCSSClasses');if(E){E.setup=l.override(E.setup,function(F){return function(){F.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,''));};});E.commit=l.override(E.commit,function(F){return function(G,H){F.apply(this,arguments);if(!parseInt(H.getAttribute('border'),10))H.addClass('cke_show_border');};});}}});})();q.add('sourcearea',{requires:['editingblock'],init:function(t){var u=q.sourcearea,v=h.document.getWindow();t.on('editingBlockReady',function(){var w,x;t.addMode('source',{load:function(y,z){if(j&&i.version<8)y.setStyle('position','relative');t.textarea=w=new o('textarea');w.setAttributes({dir:'ltr',tabIndex:i.webkit?-1:t.tabIndex,role:'textbox','aria-label':t.lang.editorTitle.replace('%1',t.name)});w.addClass('cke_source');w.addClass('cke_enable_context_menu');t.readOnly&&w.setAttribute('readOnly','readonly');var A={width:i.ie7Compat?'99%':'100%',height:'100%',resize:'none',outline:'none','text-align':'left'};if(j){x=function(){w.hide();w.setStyle('height',y.$.clientHeight+'px');w.setStyle('width',y.$.clientWidth+'px');w.show();};t.on('resize',x);v.on('resize',x);setTimeout(x,0);}y.setHtml('');y.append(w);w.setStyles(A);t.fire('ariaWidget',w);w.on('blur',function(){t.focusManager.blur();});w.on('focus',function(){t.focusManager.focus();});t.mayBeDirty=true;this.loadData(z);var B=t.keystrokeHandler;if(B)B.attach(w);setTimeout(function(){t.mode='source';t.fire('mode',{previousMode:t._.previousMode});},i.gecko||i.webkit?100:0);},loadData:function(y){w.setValue(y);
t.fire('dataReady');},getData:function(){return w.getValue();},getSnapshotData:function(){return w.getValue();},unload:function(y){w.clearCustomData();t.textarea=w=null;if(x){t.removeListener('resize',x);v.removeListener('resize',x);}if(j&&i.version<8)y.removeStyle('position');},focus:function(){w.focus();}});});t.on('readOnly',function(){if(t.mode=='source')if(t.readOnly)t.textarea.setAttribute('readOnly','readonly');else t.textarea.removeAttribute('readOnly');});t.addCommand('source',u.commands.source);if(t.ui.addButton)t.ui.addButton('Source',{label:t.lang.source,command:'source'});t.on('mode',function(){t.getCommand('source').setState(t.mode=='source'?1:2);});}});q.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,readOnly:1,exec:function(t){if(t.mode=='wysiwyg')t.fire('saveSnapshot');t.getCommand('source').setState(0);t.setMode(t.mode=='source'?'wysiwyg':'source');},canUndo:false}}};(function(){q.add('stylescombo',{requires:['richcombo','styles'],init:function(u){var v=u.config,w=u.lang.stylesCombo,x={},y=[],z;function A(B){u.getStylesSet(function(C){if(!y.length){var D,E;for(var F=0,G=C.length;F<G;F++){var H=C[F];E=H.name;D=x[E]=new h.style(H);D._name=E;D._.enterMode=v.enterMode;y.push(D);}y.sort(t);}B&&B();});};u.ui.addRichCombo('Styles',{label:w.label,title:w.panelTitle,className:'cke_styles',panel:{css:u.skin.editor.css.concat(v.contentsCss),multiSelect:true,attributes:{'aria-label':w.panelTitle}},init:function(){z=this;A(function(){var B,C,D,E,F,G;for(F=0,G=y.length;F<G;F++){B=y[F];C=B._name;E=B.type;if(E!=D){z.startGroup(w['panelTitle'+String(E)]);D=E;}z.add(C,B.type==3?C:B.buildPreview(),C);}z.commit();});},onClick:function(B){u.focus();u.fire('saveSnapshot');var C=x[B],D=u.getSelection(),E=new k.elementPath(D.getStartElement());C[C.checkActive(E)?'remove':'apply'](u.document);u.fire('saveSnapshot');},onRender:function(){u.on('selectionChange',function(B){var C=this.getValue(),D=B.data.path,E=D.elements;for(var F=0,G=E.length,H;F<G;F++){H=E[F];for(var I in x){if(x[I].checkElementRemovable(H,true)){if(I!=C)this.setValue(I);return;}}}this.setValue('');},this);},onOpen:function(){var I=this;if(j||i.webkit)u.focus();var B=u.getSelection(),C=B.getSelectedElement(),D=new k.elementPath(C||B.getStartElement()),E=[0,0,0,0];I.showAll();I.unmarkAll();for(var F in x){var G=x[F],H=G.type;if(G.checkActive(D))I.mark(F);else if(H==3&&!G.checkApplicable(D)){I.hideItem(F);E[H]--;}E[H]++;}if(!E[1])I.hideGroup(w['panelTitle'+String(1)]);if(!E[2])I.hideGroup(w['panelTitle'+String(2)]);
if(!E[3])I.hideGroup(w['panelTitle'+String(3)]);},reset:function(){if(z){delete z._.panel;delete z._.list;z._.committed=0;z._.items={};z._.state=2;}x={};y=[];A();}});u.on('instanceReady',function(){A();});}});function t(u,v){var w=u.type,x=v.type;return w==x?0:w==3?-1:x==3?1:x==1?1:-1;};})();q.add('table',{requires:['dialog'],init:function(t){var u=q.table,v=t.lang.table;t.addCommand('table',new h.dialogCommand('table'));t.addCommand('tableProperties',new h.dialogCommand('tableProperties'));t.ui.addButton('Table',{label:v.toolbar,command:'table'});h.dialog.add('table',this.path+'dialogs/table.js');h.dialog.add('tableProperties',this.path+'dialogs/table.js');if(t.addMenuItems)t.addMenuItems({table:{label:v.menu,command:'tableProperties',group:'table',order:5},tabledelete:{label:v.deleteTable,command:'tableDelete',group:'table',order:1}});t.on('doubleclick',function(w){var x=w.data.element;if(x.is('table'))w.data.dialog='tableProperties';});if(t.contextMenu)t.contextMenu.addListener(function(w,x){if(!w||w.isReadOnly())return null;var y=w.hasAscendant('table',1);if(y)return{tabledelete:2,table:2};return null;});}});(function(){var t=/^(?:td|th)$/;function u(N){var O=N.getRanges(),P=[],Q={};function R(Z){if(P.length>0)return;if(Z.type==1&&t.test(Z.getName())&&!Z.getCustomData('selected_cell')){o.setMarker(Q,Z,'selected_cell',true);P.push(Z);}};for(var S=0;S<O.length;S++){var T=O[S];if(T.collapsed){var U=T.getCommonAncestor(),V=U.getAscendant('td',true)||U.getAscendant('th',true);if(V)P.push(V);}else{var W=new k.walker(T),X;W.guard=R;while(X=W.next()){var Y=X.getAscendant('td')||X.getAscendant('th');if(Y&&!Y.getCustomData('selected_cell')){o.setMarker(Q,Y,'selected_cell',true);P.push(Y);}}}}o.clearAllMarkers(Q);return P;};function v(N){var O=0,P=N.length-1,Q={},R,S,T;while(R=N[O++])o.setMarker(Q,R,'delete_cell',true);O=0;while(R=N[O++]){if((S=R.getPrevious())&&!S.getCustomData('delete_cell')||(S=R.getNext())&&!S.getCustomData('delete_cell')){o.clearAllMarkers(Q);return S;}}o.clearAllMarkers(Q);T=N[0].getParent();if(T=T.getPrevious())return T.getLast();T=N[P].getParent();if(T=T.getNext())return T.getChild(0);return null;};function w(N,O){var P=u(N),Q=P[0],R=Q.getAscendant('table'),S=Q.getDocument(),T=P[0].getParent(),U=T.$.rowIndex,V=P[P.length-1],W=V.getParent().$.rowIndex+V.$.rowSpan-1,X=new o(R.$.rows[W]),Y=O?U:W,Z=O?T:X,aa=l.buildTableMap(R),ab=aa[Y],ac=O?aa[Y-1]:aa[Y+1],ad=aa[0].length,ae=S.createElement('tr');for(var af=0;ab[af]&&af<ad;af++){var ag;if(ab[af].rowSpan>1&&ac&&ab[af]==ac[af]){ag=ab[af];
ag.rowSpan+=1;}else{ag=new o(ab[af]).clone();ag.removeAttribute('rowSpan');!j&&ag.appendBogus();ae.append(ag);ag=ag.$;}af+=ag.colSpan-1;}O?ae.insertBefore(Z):ae.insertAfter(Z);};function x(N){if(N instanceof k.selection){var O=u(N),P=O[0],Q=P.getAscendant('table'),R=l.buildTableMap(Q),S=O[0].getParent(),T=S.$.rowIndex,U=O[O.length-1],V=U.getParent().$.rowIndex+U.$.rowSpan-1,W=[];for(var X=T;X<=V;X++){var Y=R[X],Z=new o(Q.$.rows[X]);for(var aa=0;aa<Y.length;aa++){var ab=new o(Y[aa]),ac=ab.getParent().$.rowIndex;if(ab.$.rowSpan==1)ab.remove();else{ab.$.rowSpan-=1;if(ac==X){var ad=R[X+1];ad[aa-1]?ab.insertAfter(new o(ad[aa-1])):new o(Q.$.rows[X+1]).append(ab,1);}}aa+=ab.$.colSpan-1;}W.push(Z);}var ae=Q.$.rows,af=new o(ae[V+1]||(T>0?ae[T-1]:null)||Q.$.parentNode);for(X=W.length;X>=0;X--)x(W[X]);return af;}else if(N instanceof o){Q=N.getAscendant('table');if(Q.$.rows.length==1)Q.remove();else N.remove();}return null;};function y(N,O){var P=N.getParent(),Q=P.$.cells,R=0;for(var S=0;S<Q.length;S++){var T=Q[S];R+=O?1:T.colSpan;if(T==N.$)break;}return R-1;};function z(N,O){var P=O?Infinity:0;for(var Q=0;Q<N.length;Q++){var R=y(N[Q],O);if(O?R<P:R>P)P=R;}return P;};function A(N,O){var P=u(N),Q=P[0],R=Q.getAscendant('table'),S=z(P,1),T=z(P),U=O?S:T,V=l.buildTableMap(R),W=[],X=[],Y=V.length;for(var Z=0;Z<Y;Z++){W.push(V[Z][U]);var aa=O?V[Z][U-1]:V[Z][U+1];X.push(aa);}for(Z=0;Z<Y;Z++){var ab;if(!W[Z])continue;if(W[Z].colSpan>1&&X[Z]==W[Z]){ab=W[Z];ab.colSpan+=1;}else{ab=new o(W[Z]).clone();ab.removeAttribute('colSpan');!j&&ab.appendBogus();ab[O?'insertBefore':'insertAfter'].call(ab,new o(W[Z]));ab=ab.$;}Z+=ab.rowSpan-1;}};function B(N){var O=u(N),P=O[0],Q=O[O.length-1],R=P.getAscendant('table'),S=l.buildTableMap(R),T,U,V=[];for(var W=0,X=S.length;W<X;W++)for(var Y=0,Z=S[W].length;Y<Z;Y++){if(S[W][Y]==P.$)T=Y;if(S[W][Y]==Q.$)U=Y;}for(W=T;W<=U;W++)for(Y=0;Y<S.length;Y++){var aa=S[Y],ab=new o(R.$.rows[Y]),ac=new o(aa[W]);if(ac.$){if(ac.$.colSpan==1)ac.remove();else ac.$.colSpan-=1;Y+=ac.$.rowSpan-1;if(!ab.$.cells.length)V.push(ab);}}var ad=R.$.rows[0]&&R.$.rows[0].cells,ae=new o(ad[T]||(T?ad[T-1]:R.$.parentNode));if(V.length==X)R.remove();return ae;};function C(N){var O=[],P=N[0]&&N[0].getAscendant('table'),Q,R,S,T;for(Q=0,R=N.length;Q<R;Q++)O.push(N[Q].$.cellIndex);O.sort();for(Q=1,R=O.length;Q<R;Q++){if(O[Q]-O[Q-1]>1){S=O[Q-1]+1;break;}}if(!S)S=O[0]>0?O[0]-1:O[O.length-1]+1;var U=P.$.rows;for(Q=0,R=U.length;Q<R;Q++){T=U[Q].cells[S];if(T)break;}return T?new o(T):P.getPrevious();
};function D(N,O){var P=N.getStartElement(),Q=P.getAscendant('td',1)||P.getAscendant('th',1);if(!Q)return;var R=Q.clone();if(!j)R.appendBogus();if(O)R.insertBefore(Q);else R.insertAfter(Q);};function E(N){if(N instanceof k.selection){var O=u(N),P=O[0]&&O[0].getAscendant('table'),Q=v(O);for(var R=O.length-1;R>=0;R--)E(O[R]);if(Q)G(Q,true);else if(P)P.remove();}else if(N instanceof o){var S=N.getParent();if(S.getChildCount()==1)S.remove();else N.remove();}};function F(N){var O=N.getBogus();O&&O.remove();N.trim();};function G(N,O){var P=new k.range(N.getDocument());if(!P['moveToElementEdit'+(O?'End':'Start')](N)){P.selectNodeContents(N);P.collapse(O?false:true);}P.select(true);};function H(N,O,P){var Q=N[O];if(typeof P=='undefined')return Q;for(var R=0;Q&&R<Q.length;R++){if(P.is&&Q[R]==P.$)return R;else if(R==P)return new o(Q[R]);}return P.is?-1:null;};function I(N,O){var P=[];for(var Q=0;Q<N.length;Q++){var R=N[Q];P.push(R[O]);if(R[O].rowSpan>1)Q+=R[O].rowSpan-1;}return P;};function J(N,O,P){var Q=u(N),R;if((O?Q.length!=1:Q.length<2)||(R=N.getCommonAncestor())&&R.type==1&&R.is('table'))return false;var S,T=Q[0],U=T.getAscendant('table'),V=l.buildTableMap(U),W=V.length,X=V[0].length,Y=T.getParent().$.rowIndex,Z=H(V,Y,T);if(O){var aa;try{var ab=parseInt(T.getAttribute('rowspan'),10)||1,ac=parseInt(T.getAttribute('colspan'),10)||1;aa=V[O=='up'?Y-ab:O=='down'?Y+ab:Y][O=='left'?Z-ac:O=='right'?Z+ac:Z];}catch(au){return false;}if(!aa||T.$==aa)return false;Q[O=='up'||O=='left'?'unshift':'push'](new o(aa));}var ad=T.getDocument(),ae=Y,af=0,ag=0,ah=!P&&new k.documentFragment(ad),ai=0;for(var aj=0;aj<Q.length;aj++){S=Q[aj];var ak=S.getParent(),al=S.getFirst(),am=S.$.colSpan,an=S.$.rowSpan,ao=ak.$.rowIndex,ap=H(V,ao,S);ai+=am*an;ag=Math.max(ag,ap-Z+am);af=Math.max(af,ao-Y+an);if(!P){if(F(S),S.getChildren().count()){if(ao!=ae&&al&&!(al.isBlockBoundary&&al.isBlockBoundary({br:1}))){var aq=ah.getLast(k.walker.whitespaces(true));if(aq&&!(aq.is&&aq.is('br')))ah.append('br');}S.moveChildren(ah);}aj?S.remove():S.setHtml('');}ae=ao;}if(!P){ah.moveChildren(T);if(!j)T.appendBogus();if(ag>=X)T.removeAttribute('rowSpan');else T.$.rowSpan=af;if(af>=W)T.removeAttribute('colSpan');else T.$.colSpan=ag;var ar=new k.nodeList(U.$.rows),as=ar.count();for(aj=as-1;aj>=0;aj--){var at=ar.getItem(aj);if(!at.$.cells.length){at.remove();as++;continue;}}return T;}else return af*ag==ai;};function K(N,O){var P=u(N);if(P.length>1)return false;else if(O)return true;var Q=P[0],R=Q.getParent(),S=R.getAscendant('table'),T=l.buildTableMap(S),U=R.$.rowIndex,V=H(T,U,Q),W=Q.$.rowSpan,X,Y,Z,aa;
if(W>1){Y=Math.ceil(W/2);Z=Math.floor(W/2);aa=U+Y;var ab=new o(S.$.rows[aa]),ac=H(T,aa),ad;X=Q.clone();for(var ae=0;ae<ac.length;ae++){ad=ac[ae];if(ad.parentNode==ab.$&&ae>V){X.insertBefore(new o(ad));break;}else ad=null;}if(!ad)ab.append(X,true);}else{Z=Y=1;ab=R.clone();ab.insertAfter(R);ab.append(X=Q.clone());var af=H(T,U);for(var ag=0;ag<af.length;ag++)af[ag].rowSpan++;}if(!j)X.appendBogus();Q.$.rowSpan=Y;X.$.rowSpan=Z;if(Y==1)Q.removeAttribute('rowSpan');if(Z==1)X.removeAttribute('rowSpan');return X;};function L(N,O){var P=u(N);if(P.length>1)return false;else if(O)return true;var Q=P[0],R=Q.getParent(),S=R.getAscendant('table'),T=l.buildTableMap(S),U=R.$.rowIndex,V=H(T,U,Q),W=Q.$.colSpan,X,Y,Z;if(W>1){Y=Math.ceil(W/2);Z=Math.floor(W/2);}else{Z=Y=1;var aa=I(T,V);for(var ab=0;ab<aa.length;ab++)aa[ab].colSpan++;}X=Q.clone();X.insertAfter(Q);if(!j)X.appendBogus();Q.$.colSpan=Y;X.$.colSpan=Z;if(Y==1)Q.removeAttribute('colSpan');if(Z==1)X.removeAttribute('colSpan');return X;};var M={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};q.tabletools={requires:['table','dialog'],init:function(N){var O=N.lang.table;N.addCommand('cellProperties',new h.dialogCommand('cellProperties'));h.dialog.add('cellProperties',this.path+'dialogs/tableCell.js');N.addCommand('tableDelete',{exec:function(P){var Q=P.getSelection(),R=Q&&Q.getStartElement(),S=R&&R.getAscendant('table',1);if(!S)return;var T=S.getParent();if(T.getChildCount()==1&&!T.is('body','td','th'))S=T;var U=new k.range(P.document);U.moveToPosition(S,3);S.remove();U.select();}});N.addCommand('rowDelete',{exec:function(P){var Q=P.getSelection();G(x(Q));}});N.addCommand('rowInsertBefore',{exec:function(P){var Q=P.getSelection();w(Q,true);}});N.addCommand('rowInsertAfter',{exec:function(P){var Q=P.getSelection();w(Q);}});N.addCommand('columnDelete',{exec:function(P){var Q=P.getSelection(),R=B(Q);R&&G(R,true);}});N.addCommand('columnInsertBefore',{exec:function(P){var Q=P.getSelection();A(Q,true);}});N.addCommand('columnInsertAfter',{exec:function(P){var Q=P.getSelection();A(Q);}});N.addCommand('cellDelete',{exec:function(P){var Q=P.getSelection();E(Q);}});N.addCommand('cellMerge',{exec:function(P){G(J(P.getSelection()),true);}});N.addCommand('cellMergeRight',{exec:function(P){G(J(P.getSelection(),'right'),true);}});N.addCommand('cellMergeDown',{exec:function(P){G(J(P.getSelection(),'down'),true);}});N.addCommand('cellVerticalSplit',{exec:function(P){G(K(P.getSelection()));}});N.addCommand('cellHorizontalSplit',{exec:function(P){G(L(P.getSelection()));
}});N.addCommand('cellInsertBefore',{exec:function(P){var Q=P.getSelection();D(Q,true);}});N.addCommand('cellInsertAfter',{exec:function(P){var Q=P.getSelection();D(Q);}});if(N.addMenuItems)N.addMenuItems({tablecell:{label:O.cell.menu,group:'tablecell',order:1,getItems:function(){var P=N.getSelection(),Q=u(P);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:J(P,null,true)?2:0,tablecell_merge_right:J(P,'right',true)?2:0,tablecell_merge_down:J(P,'down',true)?2:0,tablecell_split_vertical:K(P,true)?2:0,tablecell_split_horizontal:L(P,true)?2:0,tablecell_properties:Q.length>0?2:0};}},tablecell_insertBefore:{label:O.cell.insertBefore,group:'tablecell',command:'cellInsertBefore',order:5},tablecell_insertAfter:{label:O.cell.insertAfter,group:'tablecell',command:'cellInsertAfter',order:10},tablecell_delete:{label:O.cell.deleteCell,group:'tablecell',command:'cellDelete',order:15},tablecell_merge:{label:O.cell.merge,group:'tablecell',command:'cellMerge',order:16},tablecell_merge_right:{label:O.cell.mergeRight,group:'tablecell',command:'cellMergeRight',order:17},tablecell_merge_down:{label:O.cell.mergeDown,group:'tablecell',command:'cellMergeDown',order:18},tablecell_split_horizontal:{label:O.cell.splitHorizontal,group:'tablecell',command:'cellHorizontalSplit',order:19},tablecell_split_vertical:{label:O.cell.splitVertical,group:'tablecell',command:'cellVerticalSplit',order:20},tablecell_properties:{label:O.cell.title,group:'tablecellproperties',command:'cellProperties',order:21},tablerow:{label:O.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};}},tablerow_insertBefore:{label:O.row.insertBefore,group:'tablerow',command:'rowInsertBefore',order:5},tablerow_insertAfter:{label:O.row.insertAfter,group:'tablerow',command:'rowInsertAfter',order:10},tablerow_delete:{label:O.row.deleteRow,group:'tablerow',command:'rowDelete',order:15},tablecolumn:{label:O.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:O.column.insertBefore,group:'tablecolumn',command:'columnInsertBefore',order:5},tablecolumn_insertAfter:{label:O.column.insertAfter,group:'tablecolumn',command:'columnInsertAfter',order:10},tablecolumn_delete:{label:O.column.deleteColumn,group:'tablecolumn',command:'columnDelete',order:15}});if(N.contextMenu)N.contextMenu.addListener(function(P,Q){if(!P||P.isReadOnly())return null;
while(P){if(P.getName() in M)return{tablecell:2,tablerow:2,tablecolumn:2};P=P.getParent();}return null;});},getSelectedCells:u};q.add('tabletools',q.tabletools);})();l.buildTableMap=function(t){var u=t.$.rows,v=-1,w=[];for(var x=0;x<u.length;x++){v++;!w[v]&&(w[v]=[]);var y=-1;for(var z=0;z<u[x].cells.length;z++){var A=u[x].cells[z];y++;while(w[v][y])y++;var B=isNaN(A.colSpan)?1:A.colSpan,C=isNaN(A.rowSpan)?1:A.rowSpan;for(var D=0;D<C;D++){if(!w[v+D])w[v+D]=[];for(var E=0;E<B;E++)w[v+D][y+E]=u[x].cells[z];}y+=B-1;}}return w;};q.add('specialchar',{availableLangs:{en:1},init:function(t){var u='specialchar',v=this;h.dialog.add(u,this.path+'dialogs/specialchar.js');t.addCommand(u,{exec:function(){var w=t.langCode;w=v.availableLangs[w]?w:'en';h.scriptLoader.load(h.getUrl(v.path+'lang/'+w+'.js'),function(){l.extend(t.lang.specialChar,v.langEntries[w]);t.openDialog(u);});},modes:{wysiwyg:1},canUndo:false});t.ui.addButton('SpecialChar',{label:t.lang.specialChar.toolbar,command:u});}});p.specialChars=['!','&quot;','#','$','%','&amp;',"'",'(',')','*','+','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&lt;','=','&gt;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','&euro;','&lsquo;','&rsquo;','&ldquo;','&rdquo;','&ndash;','&mdash;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&raquo;','&not;','&reg;','&macr;','&deg;','&','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&','&frac14;','&frac12;','&frac34;','&iquest;','&Agrave;','&Aacute;','&Acirc;','&Atilde;','&Auml;','&Aring;','&AElig;','&Ccedil;','&Egrave;','&Eacute;','&Ecirc;','&Euml;','&Igrave;','&Iacute;','&Icirc;','&Iuml;','&ETH;','&Ntilde;','&Ograve;','&Oacute;','&Ocirc;','&Otilde;','&Ouml;','&times;','&Oslash;','&Ugrave;','&Uacute;','&Ucirc;','&Uuml;','&Yacute;','&THORN;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&uuml;','&yacute;','&thorn;','&yuml;','&OElig;','&oelig;','&#372;','&#374','&#373','&#375;','&sbquo;','&#8219;','&bdquo;','&hellip;','&trade;','&#9658;','&bull;','&rarr;','&rArr;','&hArr;','&diams;','&asymp;'];
(function(){var t={editorFocus:false,modes:{wysiwyg:1,source:1}},u={readOnly:1,exec:function(x){x.container.focusNext(true,x.tabIndex);}},v={readOnly:1,exec:function(x){x.container.focusPrevious(true,x.tabIndex);}};function w(x){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(y){if(y.focusManager.hasFocus){var z=y.getSelection(),A=z.getCommonAncestor(),B;if(B=A.getAscendant('td',true)||A.getAscendant('th',true)){var C=new k.range(y.document),D=l.tryThese(function(){var K=B.getParent(),L=K.$.cells[B.$.cellIndex+(x?-1:1)];L.parentNode.parentNode;return L;},function(){var K=B.getParent(),L=K.getAscendant('table'),M=L.$.rows[K.$.rowIndex+(x?-1:1)];return M.cells[x?M.cells.length-1:0];});if(!(D||x)){var E=B.getAscendant('table').$,F=B.getParent().$.cells,G=new o(E.insertRow(-1),y.document);for(var H=0,I=F.length;H<I;H++){var J=G.append(new o(F[H],y.document).clone(false,false));!j&&J.appendBogus();}C.moveToElementEditStart(G);}else if(D){D=new o(D);C.moveToElementEditStart(D);if(!(C.checkStartOfBlock()&&C.checkEndOfBlock()))C.selectNodeContents(D);}else return true;C.select(true);return true;}}return false;}};};q.add('tab',{requires:['keystrokes'],init:function(x){var y=x.config.enableTabKeyTools!==false,z=x.config.tabSpaces||0,A='';while(z--)A+='\xa0';if(A)x.on('key',function(B){if(B.data.keyCode==9){x.insertHtml(A);B.cancel();}});if(y)x.on('key',function(B){if(B.data.keyCode==9&&x.execCommand('selectNextCell')||B.data.keyCode==2000+9&&x.execCommand('selectPreviousCell'))B.cancel();});if(i.webkit||i.gecko)x.on('key',function(B){var C=B.data.keyCode;if(C==9&&!A){B.cancel();x.execCommand('blur');}if(C==2000+9){x.execCommand('blurBack');B.cancel();}});x.addCommand('blur',l.extend(u,t));x.addCommand('blurBack',l.extend(v,t));x.addCommand('selectNextCell',w());x.addCommand('selectPreviousCell',w(true));}});})();o.prototype.focusNext=function(t,u){var D=this;var v=D.$,w=u===undefined?D.getTabIndex():u,x,y,z,A,B,C;if(w<=0){B=D.getNextSourceNode(t,1);while(B){if(B.isVisible()&&B.getTabIndex()===0){z=B;break;}B=B.getNextSourceNode(false,1);}}else{B=D.getDocument().getBody().getFirst();while(B=B.getNextSourceNode(false,1)){if(!x)if(!y&&B.equals(D)){y=true;if(t){if(!(B=B.getNextSourceNode(true,1)))break;x=1;}}else if(y&&!D.contains(B))x=1;if(!B.isVisible()||(C=B.getTabIndex())<0)continue;if(x&&C==w){z=B;break;}if(C>w&&(!z||!A||C<A)){z=B;A=C;}else if(!z&&C===0){z=B;A=C;}}}if(z)z.focus();};o.prototype.focusPrevious=function(t,u){var D=this;var v=D.$,w=u===undefined?D.getTabIndex():u,x,y,z,A=0,B,C=D.getDocument().getBody().getLast();
while(C=C.getPreviousSourceNode(false,1)){if(!x)if(!y&&C.equals(D)){y=true;if(t){if(!(C=C.getPreviousSourceNode(true,1)))break;x=1;}}else if(y&&!D.contains(C))x=1;if(!C.isVisible()||(B=C.getTabIndex())<0)continue;if(w<=0){if(x&&B===0){z=C;break;}if(B>A){z=C;A=B;}}else{if(x&&B==w){z=C;break;}if(B<w&&(!z||B>A)){z=C;A=B;}}}if(z)z.focus();};(function(){q.add('templates',{requires:['dialog'],init:function(v){h.dialog.add('templates',h.getUrl(this.path+'dialogs/templates.js'));v.addCommand('templates',new h.dialogCommand('templates'));v.ui.addButton('Templates',{label:v.lang.templates.button,command:'templates'});}});var t={},u={};h.addTemplates=function(v,w){t[v]=w;};h.getTemplates=function(v){return t[v];};h.loadTemplates=function(v,w){var x=[];for(var y=0,z=v.length;y<z;y++){if(!u[v[y]]){x.push(v[y]);u[v[y]]=1;}}if(x.length)h.scriptLoader.load(x,w);else setTimeout(w,0);};})();p.templates_files=[h.getUrl('plugins/templates/templates/default.js')];p.templates_replaceContent=true;(function(){var t=function(){this.toolbars=[];this.focusCommandExecuted=false;};t.prototype.focus=function(){for(var v=0,w;w=this.toolbars[v++];)for(var x=0,y;y=w.items[x++];){if(y.focus){y.focus();return;}}};var u={toolbarFocus:{modes:{wysiwyg:1,source:1},readOnly:1,exec:function(v){if(v.toolbox){v.toolbox.focusCommandExecuted=true;if(j||i.air)setTimeout(function(){v.toolbox.focus();},100);else v.toolbox.focus();}}}};q.add('toolbar',{requires:['button'],init:function(v){var w,x=function(y,z){var A,B,C=v.lang.dir=='rtl',D=v.config.toolbarGroupCycling;D=D===undefined||D;switch(z){case 9:case 2000+9:while(!B||!B.items.length){B=z==9?(B?B.next:y.toolbar.next)||v.toolbox.toolbars[0]:(B?B.previous:y.toolbar.previous)||v.toolbox.toolbars[v.toolbox.toolbars.length-1];if(B.items.length){y=B.items[w?B.items.length-1:0];while(y&&!y.focus){y=w?y.previous:y.next;if(!y)B=0;}}}if(y)y.focus();return false;case C?37:39:case 40:A=y;do{A=A.next;if(!A&&D)A=y.toolbar.items[0];}while(A&&!A.focus)if(A)A.focus();else x(y,9);return false;case C?39:37:case 38:A=y;do{A=A.previous;if(!A&&D)A=y.toolbar.items[y.toolbar.items.length-1];}while(A&&!A.focus)if(A)A.focus();else{w=1;x(y,2000+9);w=0;}return false;case 27:v.focus();return false;case 13:case 32:y.execute();return false;}return true;};v.on('themeSpace',function(y){if(y.data.space==v.config.toolbarLocation){v.toolbox=new t();var z=l.getNextId(),A=['<div class="cke_toolbox" role="group" aria-labelledby="',z,'" onmousedown="return false;"'],B=v.config.toolbarStartupExpanded!==false,C;
A.push(B?'>':' style="display:none">');A.push('<span id="',z,'" class="cke_voice_label">',v.lang.toolbars,'</span>');var D=v.toolbox.toolbars,E=v.config.toolbar instanceof Array?v.config.toolbar:v.config['toolbar_'+v.config.toolbar];for(var F=0;F<E.length;F++){var G,H=0,I,J=E[F],K;if(!J)continue;if(C){A.push('</div>');C=0;}if(J==='/'){A.push('<div class="cke_break"></div>');continue;}K=J.items||J;for(var L=0;L<K.length;L++){var M,N=K[L],O;M=v.ui.create(N);if(M){O=M.canGroup!==false;if(!H){G=l.getNextId();H={id:G,items:[]};I=J.name&&(v.lang.toolbarGroups[J.name]||J.name);A.push('<span id="',G,'" class="cke_toolbar"',I?' aria-labelledby="'+G+'_label"':'',' role="toolbar">');I&&A.push('<span id="',G,'_label" class="cke_voice_label">',I,'</span>');A.push('<span class="cke_toolbar_start"></span>');var P=D.push(H)-1;if(P>0){H.previous=D[P-1];H.previous.next=H;}}if(O){if(!C){A.push('<span class="cke_toolgroup" role="presentation">');C=1;}}else if(C){A.push('</span>');C=0;}var Q=M.render(v,A);P=H.items.push(Q)-1;if(P>0){Q.previous=H.items[P-1];Q.previous.next=Q;}Q.toolbar=H;Q.onkey=x;Q.onfocus=function(){if(!v.toolbox.focusCommandExecuted)v.focus();};}}if(C){A.push('</span>');C=0;}if(H)A.push('<span class="cke_toolbar_end"></span></span>');}A.push('</div>');if(v.config.toolbarCanCollapse){var R=l.addFunction(function(){v.execCommand('toolbarCollapse');});v.on('destroy',function(){l.removeFunction(R);});var S=l.getNextId();v.addCommand('toolbarCollapse',{readOnly:1,exec:function(T){var U=h.document.getById(S),V=U.getPrevious(),W=T.getThemeSpace('contents'),X=V.getParent(),Y=parseInt(W.$.style.height,10),Z=X.$.offsetHeight,aa=!V.isVisible();if(!aa){V.hide();U.addClass('cke_toolbox_collapser_min');U.setAttribute('title',T.lang.toolbarExpand);}else{V.show();U.removeClass('cke_toolbox_collapser_min');U.setAttribute('title',T.lang.toolbarCollapse);}U.getFirst().setText(aa?'▲':'◀');var ab=X.$.offsetHeight-Z;W.setStyle('height',Y-ab+'px');T.fire('resize');},modes:{wysiwyg:1,source:1}});A.push('<a title="'+(B?v.lang.toolbarCollapse:v.lang.toolbarExpand)+'" id="'+S+'" tabIndex="-1" class="cke_toolbox_collapser');if(!B)A.push(' cke_toolbox_collapser_min');A.push('" onclick="CKEDITOR.tools.callFunction('+R+')">','<span>&#9650;</span>','</a>');}y.data.html+=A.join('');}});v.on('destroy',function(){var y,z=0,A,B,C;y=this.toolbox.toolbars;for(;z<y.length;z++){B=y[z].items;for(A=0;A<B.length;A++){C=B[A];if(C.clickFn)l.removeFunction(C.clickFn);if(C.keyDownFn)l.removeFunction(C.keyDownFn);
}}});v.addCommand('toolbarFocus',u.toolbarFocus);v.ui.add('-',h.UI_SEPARATOR,{});v.ui.addHandler(h.UI_SEPARATOR,{create:function(){return{render:function(y,z){z.push('<span class="cke_separator" role="separator"></span>');return{};}};}});}});})();h.UI_SEPARATOR='separator';p.toolbarLocation='top';p.toolbar_Basic=[['Bold','Italic','-','NumberedList','BulletedList','-','Link','Unlink','-','About']];p.toolbar_Full=[{name:'document',items:['Source','-','Save','NewPage','DocProps','Preview','Print','-','Templates']},{name:'clipboard',items:['Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo']},{name:'editing',items:['Find','Replace','-','SelectAll','-','SpellChecker','Scayt']},{name:'forms',items:['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField']},'/',{name:'basicstyles',items:['Bold','Italic','Underline','Strike','Subscript','Superscript','-','RemoveFormat']},{name:'paragraph',items:['NumberedList','BulletedList','-','Outdent','Indent','-','Blockquote','CreateDiv','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock','-','BidiLtr','BidiRtl']},{name:'links',items:['Link','Unlink','Anchor']},{name:'insert',items:['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe']},'/',{name:'styles',items:['Styles','Format','Font','FontSize']},{name:'colors',items:['TextColor','BGColor']},{name:'tools',items:['Maximize','ShowBlocks','-','About']}];p.toolbar='Full';p.toolbarCanCollapse=true;(function(){q.add('undo',{requires:['selection','wysiwygarea'],init:function(z){var A=new v(z),B=z.addCommand('undo',{exec:function(){if(A.undo()){z.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),C=z.addCommand('redo',{exec:function(){if(A.redo()){z.selectionChange();this.fire('afterRedo');}},state:0,canUndo:false});A.onChange=function(){B.setState(A.undoable()?2:0);C.setState(A.redoable()?2:0);};function D(E){if(A.enabled&&E.data.command.canUndo!==false)A.save();};z.on('beforeCommandExec',D);z.on('afterCommandExec',D);z.on('saveSnapshot',function(E){A.save(E.data&&E.data.contentOnly);});z.on('contentDom',function(){z.document.on('keydown',function(E){if(!E.data.$.ctrlKey&&!E.data.$.metaKey)A.type(E);});});z.on('beforeModeUnload',function(){z.mode=='wysiwyg'&&A.save(true);});z.on('mode',function(){A.enabled=z.readOnly?false:z.mode=='wysiwyg';A.onChange();});z.ui.addButton('Undo',{label:z.lang.undo,command:'undo'});z.ui.addButton('Redo',{label:z.lang.redo,command:'redo'});
z.resetUndo=function(){A.reset();z.fire('saveSnapshot');};z.on('updateSnapshot',function(){if(A.currentImage)A.update();});}});q.undo={};var t=q.undo.Image=function(z){this.editor=z;z.fire('beforeUndoImage');var A=z.getSnapshot(),B=A&&z.getSelection();j&&A&&(A=A.replace(/\s+data-cke-expando=".*?"/g,''));this.contents=A;this.bookmarks=B&&B.createBookmarks2(true);z.fire('afterUndoImage');},u=/\b(?:href|src|name)="[^"]*?"/gi;t.prototype={equals:function(z,A){var B=this.contents,C=z.contents;if(j&&(i.ie7Compat||i.ie6Compat)){B=B.replace(u,'');C=C.replace(u,'');}if(B!=C)return false;if(A)return true;var D=this.bookmarks,E=z.bookmarks;if(D||E){if(!D||!E||D.length!=E.length)return false;for(var F=0;F<D.length;F++){var G=D[F],H=E[F];if(G.startOffset!=H.startOffset||G.endOffset!=H.endOffset||!l.arrayCompare(G.start,H.start)||!l.arrayCompare(G.end,H.end))return false;}}return true;}};function v(z){this.editor=z;this.reset();};var w={8:1,46:1},x={16:1,17:1,18:1},y={37:1,38:1,39:1,40:1};v.prototype={type:function(z){var A=z&&z.data.getKey(),B=A in x,C=A in w,D=this.lastKeystroke in w,E=C&&A==this.lastKeystroke,F=A in y,G=this.lastKeystroke in y,H=!C&&!F,I=C&&!E,J=!(B||this.typing)||H&&(D||G);if(J||I){var K=new t(this.editor),L=this.snapshots.length;l.setTimeout(function(){var N=this;var M=N.editor.getSnapshot();if(j)M=M.replace(/\s+data-cke-expando=".*?"/g,'');if(K.contents!=M&&L==N.snapshots.length){N.typing=true;if(!N.save(false,K,false))N.snapshots.splice(N.index+1,N.snapshots.length-N.index-1);N.hasUndo=true;N.hasRedo=false;N.typesCount=1;N.modifiersCount=1;N.onChange();}},0,this);}this.lastKeystroke=A;if(C){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1;}}else if(!F){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1;}}},reset:function(){var z=this;z.lastKeystroke=0;z.snapshots=[];z.index=-1;z.limit=z.editor.config.undoStackSize||20;z.currentImage=null;z.hasUndo=false;z.hasRedo=false;z.resetType();},resetType:function(){var z=this;z.typing=false;delete z.lastKeystroke;z.typesCount=0;z.modifiersCount=0;},fireChange:function(){var z=this;z.hasUndo=!!z.getNextImage(true);z.hasRedo=!!z.getNextImage(false);z.resetType();z.onChange();},save:function(z,A,B){var D=this;var C=D.snapshots;if(!A)A=new t(D.editor);if(A.contents===false)return false;if(D.currentImage&&A.equals(D.currentImage,z))return false;C.splice(D.index+1,C.length-D.index-1);if(C.length==D.limit)C.shift();
D.index=C.push(A)-1;D.currentImage=A;if(B!==false)D.fireChange();return true;},restoreImage:function(z){var D=this;var A=D.editor,B;if(z.bookmarks){A.focus();B=A.getSelection();}D.editor.loadSnapshot(z.contents);if(z.bookmarks)B.selectBookmarks(z.bookmarks);else if(j){var C=D.editor.document.getBody().$.createTextRange();C.collapse(true);C.select();}D.index=z.index;D.update();D.fireChange();},getNextImage:function(z){var E=this;var A=E.snapshots,B=E.currentImage,C,D;if(B)if(z)for(D=E.index-1;D>=0;D--){C=A[D];if(!B.equals(C,true)){C.index=D;return C;}}else for(D=E.index+1;D<A.length;D++){C=A[D];if(!B.equals(C,true)){C.index=D;return C;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var A=this;if(A.undoable()){A.save(true);var z=A.getNextImage(true);if(z)return A.restoreImage(z),true;}return false;},redo:function(){var A=this;if(A.redoable()){A.save(true);if(A.redoable()){var z=A.getNextImage(false);if(z)return A.restoreImage(z),true;}}return false;},update:function(){var z=this;z.snapshots.splice(z.index,1,z.currentImage=new t(z.editor));}};})();(function(){var t=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,u=k.walker.whitespaces(true),v=k.walker.bogus(true),w=function(L){return u(L)&&v(L);};function x(L){return L.isBlockBoundary()&&m.$empty[L.getName()];};function y(L){return function(M){if(this.mode=='wysiwyg'){this.focus();var N=this.getSelection(),O=N.isLocked;O&&N.unlock();this.fire('saveSnapshot');L.call(this,M.data);O&&this.getSelection().lock();var P=this;setTimeout(function(){try{P.fire('saveSnapshot');}catch(Q){setTimeout(function(){P.fire('saveSnapshot');},200);}},0);}};};function z(L){var U=this;if(U.dataProcessor)L=U.dataProcessor.toHtml(L);if(!L)return;var M=U.getSelection(),N=M.getRanges()[0];if(N.checkReadOnly())return;if(i.opera){var O=new k.elementPath(N.startContainer);if(O.block){var P=h.htmlParser.fragment.fromHtml(L,false).children;for(var Q=0,R=P.length;Q<R;Q++){if(P[Q]._.isBlockLike){N.splitBlock(U.enterMode==3?'div':'p');N.insertNode(N.document.createText(''));N.select();break;}}}}if(j){var S=M.getNative();if(S.type=='Control')S.clear();else if(M.getType()==2){N=M.getRanges()[0];var T=N&&N.endContainer;if(T&&T.type==1&&T.getAttribute('contenteditable')=='false'&&N.checkBoundaryOfElement(T,2)){N.setEndAfter(N.endContainer);N.deleteContents();}}S.createRange().pasteHTML(L);
}else U.document.$.execCommand('inserthtml',false,L);if(i.webkit){M=U.getSelection();M.scrollIntoView();}};function A(L){var M=this.getSelection(),N=M.getStartElement().hasAscendant('pre',true)?2:this.config.enterMode,O=N==2,P=l.htmlEncode(L.replace(/\r\n|\r/g,'\n'));P=P.replace(/^[ \t]+|[ \t]+$/g,function(V,W,X){if(V.length==1)return '&nbsp;';else if(!W)return l.repeat('&nbsp;',V.length-1)+' ';else return ' '+l.repeat('&nbsp;',V.length-1);});P=P.replace(/[ \t]{2,}/g,function(V){return l.repeat('&nbsp;',V.length-1)+' ';});var Q=N==1?'p':'div';if(!O)P=P.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(V,W,X){return '<'+Q+'>'+X+'</'+Q+'>';});P=P.replace(/\n/g,'<br>');if(!(O||j))P=P.replace(new RegExp('<br>(?=</'+Q+'>)'),function(V){return l.repeat(V,2);});if(i.gecko||i.webkit){var R=new k.elementPath(M.getStartElement()),S=[];for(var T=0;T<R.elements.length;T++){var U=R.elements[T].getName();if(U in m.$inline)S.unshift(R.elements[T].getOuterHtml().match(/^<.*?>/));else if(U in m.$block)break;}P=S.join('')+P;}z.call(this,P);};function B(L){var M=this.getSelection(),N=M.getRanges(),O=L.getName(),P=m.$block[O],Q=M.isLocked;if(Q)M.unlock();var R,S,T,U;for(var V=N.length-1;V>=0;V--){R=N[V];if(!R.checkReadOnly()){R.deleteContents(1);S=!V&&L||L.clone(1);var W,X;if(P)while((W=R.getCommonAncestor(0,1))&&(X=m[W.getName()])&&!(X&&X[O])){if(W.getName() in m.span)R.splitElement(W);else if(R.checkStartOfBlock()&&R.checkEndOfBlock()){R.setStartBefore(W);R.collapse(true);W.remove();}else R.splitBlock();}R.insertNode(S);if(!T)T=S;}}if(T){R.moveToPosition(T,4);if(P){var Y=T.getNext(w),Z=Y&&Y.type==1&&Y.getName();if(Z&&m.$block[Z]){if(m[Z]['#'])R.moveToElementEditStart(Y);else R.moveToElementEditEnd(T);}else if(!Y){Y=R.fixBlock(true,this.config.enterMode==3?'div':'p');R.moveToElementEditStart(Y);}}}M.selectRanges([R]);if(Q)this.getSelection().lock();};function C(L){if(!L.checkDirty())setTimeout(function(){L.resetDirty();},0);};var D=k.walker.whitespaces(true),E=k.walker.bookmark(false,true);function F(L){return D(L)&&E(L);};function G(L){return L.type==3&&l.trim(L.getText()).match(/^(?:&nbsp;|\xa0)$/);};function H(L){if(L.isLocked){L.unlock();setTimeout(function(){L.lock();},0);}};function I(L){return L.getOuterHtml().match(t);};D=k.walker.whitespaces(true);function J(L){var M=L.window,N=L.document,O=L.document.getBody(),P=O.getFirst(),Q=O.getChildren().count();if(!Q||Q==1&&P.type==1&&P.hasAttribute('_moz_editor_bogus_node')){C(L);var R=L.element.getDocument(),S=R.getDocumentElement(),T=S.$.scrollTop,U=S.$.scrollLeft,V=N.$.createEvent('KeyEvents');
V.initKeyEvent('keypress',true,true,M.$,false,false,false,false,0,32);N.$.dispatchEvent(V);if(T!=S.$.scrollTop||U!=S.$.scrollLeft)R.getWindow().$.scrollTo(U,T);Q&&O.getFirst().remove();N.getBody().appendBogus();var W=new k.range(N);W.setStartAt(O,1);W.select();}};function K(L){var M=L.editor,N=L.data.path,O=N.blockLimit,P=L.data.selection,Q=P.getRanges()[0],R=M.document.getBody(),S=M.config.enterMode;if(i.gecko){var T=N.block||N.blockLimit,U=T&&T.getLast(F);if(T&&T.isBlockBoundary()&&!(U&&U.type==1&&U.isBlockBoundary())&&!T.is('pre')&&!T.getBogus())T.appendBogus();}if(M.config.autoParagraph!==false&&S!=2&&Q.collapsed&&O.getName()=='body'&&!N.block){var V=Q.fixBlock(true,M.config.enterMode==3?'div':'p');if(j){var W=V.getFirst(F);W&&G(W)&&W.remove();}if(I(V)){var X=V.getNext(D);if(X&&X.type==1&&!x(X)){Q.moveToElementEditStart(X);V.remove();}else{X=V.getPrevious(D);if(X&&X.type==1&&!x(X)){Q.moveToElementEditEnd(X);V.remove();}}}Q.select();L.cancel();}var Y=new k.range(M.document);Y.moveToElementEditEnd(M.document.getBody());var Z=new k.elementPath(Y.startContainer);if(!Z.blockLimit.is('body')){var aa;if(S!=2)aa=R.append(M.document.createElement(S==1?'p':'div'));else aa=R;if(!j)aa.appendBogus();}};q.add('wysiwygarea',{requires:['editingblock'],init:function(L){var M=L.config.enterMode!=2&&L.config.autoParagraph!==false?L.config.enterMode==3?'div':'p':false,N=L.lang.editorTitle.replace('%1',L.name),O=L.lang.editorHelp;if(j)N+=', '+O;var P=h.document.getWindow(),Q;L.on('editingBlockReady',function(){var T,U,V,W,X,Y,Z,aa=i.isCustomDomain(),ab=function(ae){if(U)U.remove();var af='document.open();'+(aa?'document.domain="'+document.domain+'";':'')+'document.close();';af=i.air?'javascript:void(0)':j?'javascript:void(function(){'+encodeURIComponent(af)+'}())':'';var ag=l.getNextId();U=o.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" aria-describedby="'+ag+'"'+' title="'+N+'"'+' src="'+af+'"'+' tabIndex="'+(i.webkit?-1:L.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')h.event.useCapture=true;U.on('load',function(ah){X=1;ah.removeListener();var ai=U.getFrameDocument();ai.write(ae);i.air&&ad(ai.getWindow().$);});if(document.location.protocol=='chrome:')h.event.useCapture=false;T.append(o.createFromHtml('<span id="'+ag+'" class="cke_voice_label">'+O+'</span>'));T.append(U);if(i.webkit){Z=function(){T.setStyle('width','100%');U.hide();U.setSize('width',T.getSize('width'));T.removeStyle('width');U.show();
};P.on('resize',Z);}};Q=l.addFunction(ad);var ac='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(aa?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+Q+', window );'+'</script>';function ad(ae){if(!X)return;X=0;L.fire('ariaWidget',U);var af=ae.document,ag=af.body,ah=af.getElementById('cke_actscrpt');ah&&ah.parentNode.removeChild(ah);ag.spellcheck=!L.config.disableNativeSpellChecker;var ai=!L.readOnly;if(j){ag.hideFocus=true;ag.disabled=true;ag.contentEditable=ai;ag.removeAttribute('disabled');}else setTimeout(function(){if(i.gecko&&i.version>=10900||i.opera)af.$.body.contentEditable=ai;else if(i.webkit)af.$.body.parentNode.contentEditable=ai;else af.$.designMode=ai?'off':'on';},0);ai&&i.gecko&&l.setTimeout(J,0,null,L);ae=L.window=new k.window(ae);af=L.document=new n(af);ai&&af.on('dblclick',function(an){var ao=an.data.getTarget(),ap={element:ao,dialog:''};L.fire('doubleclick',ap);ap.dialog&&L.openDialog(ap.dialog);});j&&af.on('click',function(an){var ao=an.data.getTarget();if(ao.is('input')){var ap=ao.getAttribute('type');if(ap=='submit'||ap=='reset')an.data.preventDefault();}});if(!(j||i.opera))af.on('mousedown',function(an){var ao=an.data.getTarget();if(ao.is('img','hr','input','textarea','select'))L.getSelection().selectElement(ao);});if(i.gecko)af.on('mouseup',function(an){if(an.data.$.button==2){var ao=an.data.getTarget();if(!ao.getOuterHtml().replace(t,'')){var ap=new k.range(af);ap.moveToElementEditStart(ao);ap.select(true);}}});af.on('click',function(an){an=an.data;if(an.getTarget().is('a')&&an.$.button!=2)an.preventDefault();});if(i.webkit){af.on('mousedown',function(){ak=1;});af.on('click',function(an){if(an.data.getTarget().is('input','select'))an.data.preventDefault();});af.on('mouseup',function(an){if(an.data.getTarget().is('input','textarea'))an.data.preventDefault();});}var aj=j?U:ae;aj.on('blur',function(){L.focusManager.blur();});var ak;aj.on('focus',function(){var an=L.document;if(i.gecko||i.opera)an.getBody().focus();else if(i.webkit)if(!ak){L.document.getDocumentElement().focus();ak=1;}L.focusManager.focus();});var al=L.keystrokeHandler;al.blockedKeystrokes[8]=!ai;al.attach(af);af.getDocumentElement().addClass(af.$.compatMode);L.on('key',function(an){if(L.mode!='wysiwyg')return;var ao=an.data.keyCode;if(ao in {8:1,46:1}){var ap=L.getSelection(),aq=ap.getSelectedElement(),ar=ap.getRanges()[0],as=new k.elementPath(ar.startContainer),at,au,av,aw=ao==8;if(aq){L.fire('saveSnapshot');
ar.moveToPosition(aq,3);aq.remove();ar.select();L.fire('saveSnapshot');an.cancel();}else if(ar.collapsed)if((at=as.block)&&ar[aw?'checkStartOfBlock':'checkEndOfBlock']()&&(av=at[aw?'getPrevious':'getNext'](u))&&av.is('table')){L.fire('saveSnapshot');if(ar[aw?'checkEndOfBlock':'checkStartOfBlock']())at.remove();ar['moveToElementEdit'+(aw?'End':'Start')](av);ar.select();L.fire('saveSnapshot');an.cancel();}else if(as.blockLimit.is('td')&&(au=as.blockLimit.getAscendant('table'))&&ar.checkBoundaryOfElement(au,aw?1:2)&&(av=au[aw?'getPrevious':'getNext'](u))){L.fire('saveSnapshot');ar['moveToElementEdit'+(aw?'End':'Start')](av);if(ar.checkStartOfBlock()&&ar.checkEndOfBlock())av.remove();else ar.select();L.fire('saveSnapshot');an.cancel();}}if(ao==33||ao==34)if(i.gecko){var ax=af.getBody();if(ae.$.innerHeight>ax.$.offsetHeight){ar=new k.range(af);ar[ao==33?'moveToElementEditStart':'moveToElementEditEnd'](ax);ar.select();an.cancel();}}});if(j&&af.$.compatMode=='CSS1Compat'){var am={33:1,34:1};af.on('keydown',function(an){if(an.data.getKeystroke() in am)setTimeout(function(){L.getSelection().scrollIntoView();},0);});}if(j&&L.config.enterMode!=1)af.on('selectionchange',function(){var an=af.getBody(),ao=L.getSelection(),ap=ao&&ao.getRanges()[0];if(ap&&an.getHtml().match(/^<p>&nbsp;<\/p>$/i)&&ap.startContainer.equals(an))setTimeout(function(){ap=L.getSelection().getRanges()[0];if(!ap.startContainer.equals('body')){an.getFirst().remove(1);ap.moveToElementEditEnd(an);ap.select(1);}},0);});if(L.contextMenu)L.contextMenu.addTarget(af,L.config.browserContextMenuOnCtrl!==false);setTimeout(function(){L.fire('contentDom');if(Y){L.mode='wysiwyg';L.fire('mode',{previousMode:L._.previousMode});Y=false;}V=false;if(W){L.focus();W=false;}setTimeout(function(){L.fire('dataReady');},0);try{L.document.$.execCommand('2D-position',false,true);}catch(an){}try{L.document.$.execCommand('enableInlineTableEditing',false,!L.config.disableNativeTableHandles);}catch(ao){}if(L.config.disableObjectResizing)try{L.document.$.execCommand('enableObjectResizing',false,false);}catch(ap){L.document.getBody().on(j?'resizestart':'resize',function(aq){aq.data.preventDefault();});}if(j)setTimeout(function(){if(L.document){var aq=L.document.$.body;aq.runtimeStyle.marginBottom='0px';aq.runtimeStyle.marginBottom='';}},1000);},0);};L.addMode('wysiwyg',{load:function(ae,af,ag){T=ae;if(j&&i.quirks)ae.setStyle('position','relative');L.mayBeDirty=true;Y=true;if(ag)this.loadSnapshotData(af);else this.loadData(af);},loadData:function(ae){V=true;
L._.dataStore={id:1};var af=L.config,ag=af.fullPage,ah=af.docType,ai='<style type="text/css" data-cke-temp="1">'+L._.styles.join('\n')+'</style>';!ag&&(ai=l.buildStyleHtml(L.config.contentsCss)+ai);var aj=af.baseHref?'<base href="'+af.baseHref+'" data-cke-temp="1" />':'';if(ag)ae=ae.replace(/<!DOCTYPE[^>]*>/i,function(ak){L.docType=ah=ak;return '';}).replace(/<\?xml\s[^\?]*\?>/i,function(ak){L.xmlDeclaration=ak;return '';});if(L.dataProcessor)ae=L.dataProcessor.toHtml(ae,M);if(ag){if(!/<body[\s|>]/.test(ae))ae='<body>'+ae;if(!/<html[\s|>]/.test(ae))ae='<html>'+ae+'</html>';if(!/<head[\s|>]/.test(ae))ae=ae.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(ae))ae=ae.replace(/<head[^>]*>/,'$&<title></title>');aj&&(ae=ae.replace(/<head>/,'$&'+aj));ae=ae.replace(/<\/head\s*>/,ai+'$&');ae=ah+ae;}else ae=af.docType+'<html dir="'+af.contentsLangDirection+'"'+' lang="'+(af.contentsLanguage||L.langCode)+'">'+'<head>'+'<title>'+N+'</title>'+aj+ai+'</head>'+'<body'+(af.bodyId?' id="'+af.bodyId+'"':'')+(af.bodyClass?' class="'+af.bodyClass+'"':'')+'>'+ae+'</html>';if(i.gecko)ae=ae.replace(/<br \/>(?=\s*<\/(:?html|body)>)/,'$&<br type="_moz" />');ae+=ac;this.onDispose();ab(ae);},getData:function(){var ae=L.config,af=ae.fullPage,ag=af&&L.docType,ah=af&&L.xmlDeclaration,ai=U.getFrameDocument(),aj=af?ai.getDocumentElement().getOuterHtml():ai.getBody().getHtml();if(i.gecko)aj=aj.replace(/<br>(?=\s*(:?$|<\/body>))/,'');if(L.dataProcessor)aj=L.dataProcessor.toDataFormat(aj,M);if(ae.ignoreEmptyParagraph)aj=aj.replace(t,function(ak,al){return al;});if(ah)aj=ah+'\n'+aj;if(ag)aj=ag+'\n'+aj;return aj;},getSnapshotData:function(){return U.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(ae){U.getFrameDocument().getBody().setHtml(ae);},onDispose:function(){if(!L.document)return;L.document.getDocumentElement().clearCustomData();L.document.getBody().clearCustomData();L.window.clearCustomData();L.document.clearCustomData();U.clearCustomData();U.remove();},unload:function(ae){this.onDispose();if(Z)P.removeListener('resize',Z);L.window=L.document=U=T=W=null;L.fire('contentDomUnload');},focus:function(){var ae=L.window;if(V)W=true;else if(ae){var af=L.getSelection(),ag=af&&af.getNative();if(ag&&ag.type=='Control')return;i.air?setTimeout(function(){ae.focus();},0):ae.focus();L.selectionChange();}}});L.on('insertHtml',y(z),null,null,20);L.on('insertElement',y(B),null,null,20);L.on('insertText',y(A),null,null,20);L.on('selectionChange',function(ae){if(L.readOnly)return;
var af=L.getSelection();if(af&&!af.isLocked){var ag=L.checkDirty();L.fire('saveSnapshot',{contentOnly:1});K.call(this,ae);L.fire('updateSnapshot');!ag&&L.resetDirty();}},null,null,1);});L.on('contentDom',function(){var T=L.document.getElementsByTag('title').getItem(0);T.data('cke-title',L.document.$.title);j&&(L.document.$.title=N);});L.on('readOnly',function(){if(L.mode=='wysiwyg'){var T=L.getMode();T.loadData(T.getData());}});if(h.document.$.documentMode>=8){L.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var R=[];for(var S in m.$removeEmpty)R.push('html.CSS1Compat '+S+'[contenteditable=false]');L.addCss(R.join(',')+'{ display:inline-block;}');}else if(i.gecko){L.addCss('html { height: 100% !important; }');L.addCss('img:-moz-broken { -moz-force-broken-image-icon : 1;\tmin-width : 24px; min-height : 24px; }');}L.addCss('html {\t_overflow-y: scroll; cursor: text;\t*cursor:auto;}');L.addCss('img, input, textarea { cursor: default;}');L.on('insertElement',function(T){var U=T.data;if(U.type==1&&(U.is('input')||U.is('textarea'))){var V=U.getAttribute('contenteditable')=='false';if(!V){U.data('cke-editable',U.hasAttribute('contenteditable')?'true':'1');U.setAttribute('contenteditable',false);}}});}});if(i.gecko)(function(){var L=document.body;if(!L)window.addEventListener('load',arguments.callee,false);else{var M=L.getAttribute('onpageshow');L.setAttribute('onpageshow',(M?M+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();p.disableObjectResizing=false;p.disableNativeTableHandles=true;p.disableNativeSpellChecker=true;p.ignoreEmptyParagraph=true;q.add('wsc',{requires:['dialog'],init:function(t){var u='checkspell',v=t.addCommand(u,new h.dialogCommand(u));v.modes={wysiwyg:!i.opera&&!i.air&&document.domain==window.location.hostname};t.ui.addButton('SpellChecker',{label:t.lang.spellCheck.toolbar,command:u});h.dialog.add(u,this.path+'dialogs/wsc.js');}});p.wsc_customerId=p.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';p.wsc_customLoaderScript=p.wsc_customLoaderScript||null;h.DIALOG_RESIZE_NONE=0;h.DIALOG_RESIZE_WIDTH=1;h.DIALOG_RESIZE_HEIGHT=2;h.DIALOG_RESIZE_BOTH=3;(function(){var t=l.cssLength;function u(Y){return!!this._.tabs[Y][0].$.offsetHeight;
};function v(){var ac=this;var Y=ac._.currentTabId,Z=ac._.tabIdList.length,aa=l.indexOf(ac._.tabIdList,Y)+Z;for(var ab=aa-1;ab>aa-Z;ab--){if(u.call(ac,ac._.tabIdList[ab%Z]))return ac._.tabIdList[ab%Z];}return null;};function w(){var ac=this;var Y=ac._.currentTabId,Z=ac._.tabIdList.length,aa=l.indexOf(ac._.tabIdList,Y);for(var ab=aa+1;ab<aa+Z;ab++){if(u.call(ac,ac._.tabIdList[ab%Z]))return ac._.tabIdList[ab%Z];}return null;};function x(Y,Z){var aa=Y.$.getElementsByTagName('input');for(var ab=0,ac=aa.length;ab<ac;ab++){var ad=new o(aa[ab]);if(ad.getAttribute('type').toLowerCase()=='text')if(Z){ad.setAttribute('value',ad.getCustomData('fake_value')||'');ad.removeCustomData('fake_value');}else{ad.setCustomData('fake_value',ad.getAttribute('value'));ad.setAttribute('value','');}}};function y(Y,Z){var ab=this;var aa=ab.getInputElement();if(aa)Y?aa.removeAttribute('aria-invalid'):aa.setAttribute('aria-invalid',true);if(!Y)if(ab.select)ab.select();else ab.focus();Z&&alert(Z);ab.fire('validated',{valid:Y,msg:Z});};function z(){var Y=this.getInputElement();Y&&Y.removeAttribute('aria-invalid');};h.dialog=function(Y,Z){var aa=h.dialog._.dialogDefinitions[Z],ab=l.clone(C),ac=Y.config.dialog_buttonsOrder||'OS',ad=Y.lang.dir,ae={},af,ag,ah;if(ac=='OS'&&i.mac||ac=='rtl'&&ad=='ltr'||ac=='ltr'&&ad=='rtl')ab.buttons.reverse();aa=l.extend(aa(Y),ab);aa=l.clone(aa);aa=new G(this,aa);var ai=h.document,aj=Y.theme.buildDialog(Y);this._={editor:Y,element:aj.element,name:Z,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};this.parts=aj.parts;l.setTimeout(function(){Y.fire('ariaWidget',this.parts.contents);},0,this);var ak={position:i.ie6Compat?'absolute':'fixed',top:0,visibility:'hidden'};ak[ad=='rtl'?'right':'left']=0;this.parts.dialog.setStyles(ak);h.event.call(this);this.definition=aa=h.fire('dialogDefinition',{name:Z,definition:aa},Y).definition;if(!('removeDialogTabs' in Y._)&&Y.config.removeDialogTabs){var al=Y.config.removeDialogTabs.split(';');for(af=0;af<al.length;af++){var am=al[af].split(':');if(am.length==2){var an=am[0];if(!ae[an])ae[an]=[];ae[an].push(am[1]);}}Y._.removeDialogTabs=ae;}if(Y._.removeDialogTabs&&(ae=Y._.removeDialogTabs[Z]))for(af=0;af<ae.length;af++)aa.removeContents(ae[af]);if(aa.onLoad)this.on('load',aa.onLoad);if(aa.onShow)this.on('show',aa.onShow);if(aa.onHide)this.on('hide',aa.onHide);
if(aa.onOk)this.on('ok',function(ay){Y.fire('saveSnapshot');setTimeout(function(){Y.fire('saveSnapshot');},0);if(aa.onOk.call(this,ay)===false)ay.data.hide=false;});if(aa.onCancel)this.on('cancel',function(ay){if(aa.onCancel.call(this,ay)===false)ay.data.hide=false;});var ao=this,ap=function(ay){var az=ao._.contents,aA=false;for(var aB in az)for(var aC in az[aB]){aA=ay.call(this,az[aB][aC]);if(aA)return;}};this.on('ok',function(ay){ap(function(az){if(az.validate){var aA=az.validate(this),aB=typeof aA=='string'||aA===false;if(aB){ay.data.hide=false;ay.stop();}y.call(az,!aB,typeof aA=='string'?aA:undefined);return aB;}});},this,null,0);this.on('cancel',function(ay){ap(function(az){if(az.isChanged()){if(!confirm(Y.lang.common.confirmCancel))ay.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(ay){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();ay.data.preventDefault();},this);function aq(){var ay=ao._.focusList;ay.sort(function(aB,aC){if(aB.tabIndex!=aC.tabIndex)return aC.tabIndex-aB.tabIndex;else return aB.focusIndex-aC.focusIndex;});var az=ay.length;for(var aA=0;aA<az;aA++)ay[aA].focusIndex=aA;};function ar(ay){var az=ao._.focusList;ay=ay||0;if(az.length<1)return;var aA=ao._.currentFocusIndex;try{az[aA].getInputElement().$.blur();}catch(aD){}var aB=(aA+ay+az.length)%az.length,aC=aB;while(ay&&!az[aC].isFocusable()){aC=(aC+ay+az.length)%az.length;if(aC==aB)break;}az[aC].focus();if(az[aC].type=='text')az[aC].select();};this.changeFocus=ar;function as(ay){var aF=this;if(ao!=h.dialog._.currentTop)return;var az=ay.data.getKeystroke(),aA=Y.lang.dir=='rtl',aB;ag=ah=0;if(az==9||az==2000+9){var aC=az==2000+9;if(ao._.tabBarMode){var aD=aC?v.call(ao):w.call(ao);ao.selectPage(aD);ao._.tabs[aD][0].focus();}else ar(aC?-1:1);ag=1;}else if(az==4000+121&&!ao._.tabBarMode&&ao.getPageCount()>1){ao._.tabBarMode=true;ao._.tabs[ao._.currentTabId][0].focus();ag=1;}else if((az==37||az==39)&&ao._.tabBarMode){aD=az==(aA?39:37)?v.call(ao):w.call(ao);ao.selectPage(aD);ao._.tabs[aD][0].focus();ag=1;}else if((az==13||az==32)&&ao._.tabBarMode){aF.selectPage(aF._.currentTabId);aF._.tabBarMode=false;aF._.currentFocusIndex=-1;ar(1);ag=1;}else if(az==13){var aE=ay.data.getTarget();if(!aE.is('a','button','select','textarea')&&(!aE.is('input')||aE.$.type!='button')){aB=aF.getButton('ok');aB&&l.setTimeout(aB.click,0,aB);ag=1;}ah=1;}else if(az==27){aB=aF.getButton('cancel');if(aB)l.setTimeout(aB.click,0,aB);else if(aF.fire('cancel',{hide:true}).hide!==false)aF.hide();
ah=1;}else return;at(ay);};function at(ay){if(ag)ay.data.preventDefault(1);else if(ah)ay.data.stopPropagation();};var au=this._.element;this.on('show',function(){au.on('keydown',as,this);if(i.opera||i.gecko)au.on('keypress',at,this);});this.on('hide',function(){au.removeListener('keydown',as);if(i.opera||i.gecko)au.removeListener('keypress',at);ap(function(ay){z.apply(ay);});});this.on('iframeAdded',function(ay){var az=new n(ay.data.iframe.$.contentWindow.document);az.on('keydown',as,this,null,0);});this.on('show',function(){var aC=this;aq();if(Y.config.dialog_startupFocusTab&&ao._.pageCount>1){ao._.tabBarMode=true;ao._.tabs[ao._.currentTabId][0].focus();}else if(!aC._.hasFocus){aC._.currentFocusIndex=-1;if(aa.onFocus){var ay=aa.onFocus.call(aC);ay&&ay.focus();}else ar(1);if(aC._.editor.mode=='wysiwyg'&&j){var az=Y.document.$.selection,aA=az.createRange();if(aA)if(aA.parentElement&&aA.parentElement().ownerDocument==Y.document.$||aA.item&&aA.item(0).ownerDocument==Y.document.$){var aB=document.body.createTextRange();aB.moveToElementText(aC.getElement().getFirst().$);aB.collapse(true);aB.select();}}}},this,null,4294967295);if(i.ie6Compat)this.on('load',function(ay){var az=this.getElement(),aA=az.getFirst();aA.remove();aA.appendTo(az);},this);I(this);J(this);new k.text(aa.title,h.document).appendTo(this.parts.title);for(af=0;af<aa.contents.length;af++){var av=aa.contents[af];av&&this.addPage(av);}this.parts.tabs.on('click',function(ay){var aB=this;var az=ay.data.getTarget();if(az.hasClass('cke_dialog_tab')){var aA=az.$.id;aB.selectPage(aA.substring(4,aA.lastIndexOf('_')));if(aB._.tabBarMode){aB._.tabBarMode=false;aB._.currentFocusIndex=-1;ar(1);}ay.data.preventDefault();}},this);var aw=[],ax=h.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:aa.buttons},aw).getChild();this.parts.footer.setHtml(aw.join(''));for(af=0;af<ax.length;af++)this._.buttons[ax[af].id]=ax[af];};function A(Y,Z,aa){this.element=Z;this.focusIndex=aa;this.tabIndex=0;this.isFocusable=function(){return!Z.getAttribute('disabled')&&Z.isVisible();};this.focus=function(){Y._.currentFocusIndex=this.focusIndex;this.element.focus();};Z.on('keydown',function(ab){if(ab.data.getKeystroke() in {32:1,13:1})this.fire('click');});Z.on('focus',function(){this.fire('mouseover');});Z.on('blur',function(){this.fire('mouseout');});};function B(Y){var Z=h.document.getWindow();function aa(){Y.layout();};Z.on('resize',aa);Y.on('hide',function(){Z.removeListener('resize',aa);
});};h.dialog.prototype={destroy:function(){this.hide();this._.element.remove();},resize:(function(){return function(Y,Z){var aa=this;if(aa._.contentSize&&aa._.contentSize.width==Y&&aa._.contentSize.height==Z)return;h.dialog.fire('resize',{dialog:aa,skin:aa._.editor.skinName,width:Y,height:Z},aa._.editor);aa.fire('resize',{skin:aa._.editor.skinName,width:Y,height:Z},aa._.editor);if(aa._.editor.lang.dir=='rtl'&&aa._.position)aa._.position.x=h.document.getWindow().getViewPaneSize().width-aa._.contentSize.width-parseInt(aa._.element.getFirst().getStyle('right'),10);aa._.contentSize={width:Y,height:Z};};})(),getSize:function(){var Y=this._.element.getFirst();return{width:Y.$.offsetWidth||0,height:Y.$.offsetHeight||0};},move:function(Y,Z,aa){var ai=this;var ab=ai._.element.getFirst(),ac=ai._.editor.lang.dir=='rtl',ad=ab.getComputedStyle('position')=='fixed';ab.setStyle('zoom','100%');if(ad&&ai._.position&&ai._.position.x==Y&&ai._.position.y==Z)return;ai._.position={x:Y,y:Z};if(!ad){var ae=h.document.getWindow().getScrollPosition();Y+=ae.x;Z+=ae.y;}if(ac){var af=ai.getSize(),ag=h.document.getWindow().getViewPaneSize();Y=ag.width-af.width-Y;}var ah={top:(Z>0?Z:0)+'px'};ah[ac?'right':'left']=(Y>0?Y:0)+'px';ab.setStyles(ah);aa&&(ai._.moved=1);},getPosition:function(){return l.extend({},this._.position);},show:function(){var Y=this._.element,Z=this.definition;if(!(Y.getParent()&&Y.getParent().equals(h.document.getBody())))Y.appendTo(h.document.getBody());else Y.setStyle('display','block');if(i.gecko&&i.version<10900){var aa=this.parts.dialog;aa.setStyle('position','absolute');setTimeout(function(){aa.setStyle('position','fixed');},0);}this.resize(this._.contentSize&&this._.contentSize.width||Z.width||Z.minWidth,this._.contentSize&&this._.contentSize.height||Z.height||Z.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(h.dialog._.currentZIndex===null)h.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',h.dialog._.currentZIndex+=10);if(h.dialog._.currentTop===null){h.dialog._.currentTop=this;this._.parentDialog=null;O(this._.editor);}else{this._.parentDialog=h.dialog._.currentTop;var ab=this._.parentDialog.getElement().getFirst();ab.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);h.dialog._.currentTop=this;}Y.on('keydown',S);Y.on(i.opera?'keypress':'keyup',T);this._.hasFocus=false;l.setTimeout(function(){this.layout();B(this);this.parts.dialog.setStyle('visibility','');this.fireOnce('load',{});
r.fire('ready',this);this.fire('show',{});this._.editor.fire('dialogShow',this);this.foreach(function(ac){ac.setInitValue&&ac.setInitValue();});},100,this);},layout:function(){var ae=this;var Y=ae.parts.dialog,Z=ae.getSize(),aa=h.document.getWindow(),ab=aa.getViewPaneSize(),ac=(ab.width-Z.width)/2,ad=(ab.height-Z.height)/2;if(!i.ie6Compat)if(Z.height+(ad>0?ad:0)>ab.height||Z.width+(ac>0?ac:0)>ab.width)Y.setStyle('position','absolute');else Y.setStyle('position','fixed');ae.move(ae._.moved?ae._.position.x:ac,ae._.moved?ae._.position.y:ad);},foreach:function(Y){var ab=this;for(var Z in ab._.contents)for(var aa in ab._.contents[Z])Y.call(ab,ab._.contents[Z][aa]);return ab;},reset:(function(){var Y=function(Z){if(Z.reset)Z.reset(1);};return function(){this.foreach(Y);return this;};})(),setupContent:function(){var Y=arguments;this.foreach(function(Z){if(Z.setup)Z.setup.apply(Z,Y);});},commitContent:function(){var Y=arguments;this.foreach(function(Z){if(j&&this._.currentFocusIndex==Z.focusIndex)Z.getInputElement().$.blur();if(Z.commit)Z.commit.apply(Z,Y);});},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire('hide',{});this._.editor.fire('dialogHide',this);this.selectPage(this._.tabIdList[0]);var Y=this._.element;Y.setStyle('display','none');this.parts.dialog.setStyle('visibility','hidden');V(this);while(h.dialog._.currentTop!=this)h.dialog._.currentTop.hide();if(!this._.parentDialog)P();else{var Z=this._.parentDialog.getElement().getFirst();Z.setStyle('z-index',parseInt(Z.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}h.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){h.dialog._.currentZIndex=null;Y.removeListener('keydown',S);Y.removeListener(i.opera?'keypress':'keyup',T);var aa=this._.editor;aa.focus();if(aa.mode=='wysiwyg'&&j){var ab=aa.getSelection();ab&&ab.unlock(true);}}else h.dialog._.currentZIndex-=10;delete this._.parentDialog;this.foreach(function(ac){ac.resetInitValue&&ac.resetInitValue();});},addPage:function(Y){var ak=this;var Z=[],aa=Y.label?' title="'+l.htmlEncode(Y.label)+'"':'',ab=Y.elements,ac=h.dialog._.uiElementBuilders.vbox.build(ak,{type:'vbox',className:'cke_dialog_page_contents',children:Y.elements,expand:!!Y.expand,padding:Y.padding,style:Y.style||'width: 100%;height:100%'},Z),ad=o.createFromHtml(Z.join(''));ad.setAttribute('role','tabpanel');var ae=i,af='cke_'+Y.id+'_'+l.getNextNumber(),ag=o.createFromHtml(['<a class="cke_dialog_tab"',ak._.pageCount>0?' cke_last':'cke_first',aa,!!Y.hidden?' style="display:none"':'',' id="',af,'"',ae.gecko&&ae.version>=10900&&!ae.hc?'':' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',Y.label,'</a>'].join(''));
ad.setAttribute('aria-labelledby',af);ak._.tabs[Y.id]=[ag,ad];ak._.tabIdList.push(Y.id);!Y.hidden&&ak._.pageCount++;ak._.lastTab=ag;ak.updateStyle();var ah=ak._.contents[Y.id]={},ai,aj=ac.getChild();while(ai=aj.shift()){ah[ai.id]=ai;if(typeof ai.getChild=='function')aj.push.apply(aj,ai.getChild());}ad.setAttribute('name',Y.id);ad.appendTo(ak.parts.contents);ag.unselectable();ak.parts.tabs.append(ag);if(Y.accessKey){U(ak,ak,'CTRL+'+Y.accessKey,X,W);ak._.accessKeyMap['CTRL+'+Y.accessKey]=Y.id;}},selectPage:function(Y){if(this._.currentTabId==Y)return;if(this.fire('selectPage',{page:Y,currentPage:this._.currentTabId})===true)return;for(var Z in this._.tabs){var aa=this._.tabs[Z][0],ab=this._.tabs[Z][1];if(Z!=Y){aa.removeClass('cke_dialog_tab_selected');ab.hide();}ab.setAttribute('aria-hidden',Z!=Y);}var ac=this._.tabs[Y];ac[0].addClass('cke_dialog_tab_selected');if(i.ie6Compat||i.ie7Compat){x(ac[1]);ac[1].show();setTimeout(function(){x(ac[1],1);},0);}else ac[1].show();this._.currentTabId=Y;this._.currentTabIndex=l.indexOf(this._.tabIdList,Y);},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?'add':'remove')+'Class']('cke_single_page');},hidePage:function(Y){var aa=this;var Z=aa._.tabs[Y]&&aa._.tabs[Y][0];if(!Z||aa._.pageCount==1||!Z.isVisible())return;else if(Y==aa._.currentTabId)aa.selectPage(v.call(aa));Z.hide();aa._.pageCount--;aa.updateStyle();},showPage:function(Y){var aa=this;var Z=aa._.tabs[Y]&&aa._.tabs[Y][0];if(!Z)return;Z.show();aa._.pageCount++;aa.updateStyle();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(Y,Z){var aa=this._.contents[Y];return aa&&aa[Z];},getValueOf:function(Y,Z){return this.getContentElement(Y,Z).getValue();},setValueOf:function(Y,Z,aa){return this.getContentElement(Y,Z).setValue(aa);},getButton:function(Y){return this._.buttons[Y];},click:function(Y){return this._.buttons[Y].click();},disableButton:function(Y){return this._.buttons[Y].disable();},enableButton:function(Y){return this._.buttons[Y].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement();},addFocusable:function(Y,Z){var ab=this;if(typeof Z=='undefined'){Z=ab._.focusList.length;ab._.focusList.push(new A(ab,Y,Z));}else{ab._.focusList.splice(Z,0,new A(ab,Y,Z));for(var aa=Z+1;aa<ab._.focusList.length;aa++)ab._.focusList[aa].focusIndex++;}}};l.extend(h.dialog,{add:function(Y,Z){if(!this._.dialogDefinitions[Y]||typeof Z=='function')this._.dialogDefinitions[Y]=Z;
},exists:function(Y){return!!this._.dialogDefinitions[Y];},getCurrent:function(){return h.dialog._.currentTop;},okButton:(function(){var Y=function(Z,aa){aa=aa||{};return l.extend({id:'ok',type:'button',label:Z.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(ab){var ac=ab.data.dialog;if(ac.fire('ok',{hide:true}).hide!==false)ac.hide();}},aa,true);};Y.type='button';Y.override=function(Z){return l.extend(function(aa){return Y(aa,Z);},{type:'button'},true);};return Y;})(),cancelButton:(function(){var Y=function(Z,aa){aa=aa||{};return l.extend({id:'cancel',type:'button',label:Z.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(ab){var ac=ab.data.dialog;if(ac.fire('cancel',{hide:true}).hide!==false)ac.hide();}},aa,true);};Y.type='button';Y.override=function(Z){return l.extend(function(aa){return Y(aa,Z);},{type:'button'},true);};return Y;})(),addUIElement:function(Y,Z){this._.uiElementBuilders[Y]=Z;}});h.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};h.event.implementOn(h.dialog);h.event.implementOn(h.dialog.prototype,true);var C={resizable:3,minWidth:600,minHeight:400,buttons:[h.dialog.okButton,h.dialog.cancelButton]},D=function(Y,Z,aa){for(var ab=0,ac;ac=Y[ab];ab++){if(ac.id==Z)return ac;if(aa&&ac[aa]){var ad=D(ac[aa],Z,aa);if(ad)return ad;}}return null;},E=function(Y,Z,aa,ab,ac){if(aa){for(var ad=0,ae;ae=Y[ad];ad++){if(ae.id==aa){Y.splice(ad,0,Z);return Z;}if(ab&&ae[ab]){var af=E(ae[ab],Z,aa,ab,true);if(af)return af;}}if(ac)return null;}Y.push(Z);return Z;},F=function(Y,Z,aa){for(var ab=0,ac;ac=Y[ab];ab++){if(ac.id==Z)return Y.splice(ab,1);if(aa&&ac[aa]){var ad=F(ac[aa],Z,aa);if(ad)return ad;}}return null;},G=function(Y,Z){this.dialog=Y;var aa=Z.contents;for(var ab=0,ac;ac=aa[ab];ab++)aa[ab]=ac&&new H(Y,ac);l.extend(this,Z);};G.prototype={getContents:function(Y){return D(this.contents,Y);},getButton:function(Y){return D(this.buttons,Y);},addContents:function(Y,Z){return E(this.contents,Y,Z);},addButton:function(Y,Z){return E(this.buttons,Y,Z);},removeContents:function(Y){F(this.contents,Y);},removeButton:function(Y){F(this.buttons,Y);}};function H(Y,Z){this._={dialog:Y};l.extend(this,Z);};H.prototype={get:function(Y){return D(this.elements,Y,'children');},add:function(Y,Z){return E(this.elements,Y,Z,'children');},remove:function(Y){F(this.elements,Y,'children');}};function I(Y){var Z=null,aa=null,ab=Y.getElement().getFirst(),ac=Y.getParentEditor(),ad=ac.config.dialog_magnetDistance,ae=ac.skin.margins||[0,0,0,0];
if(typeof ad=='undefined')ad=20;function af(ah){var ai=Y.getSize(),aj=h.document.getWindow().getViewPaneSize(),ak=ah.data.$.screenX,al=ah.data.$.screenY,am=ak-Z.x,an=al-Z.y,ao,ap;Z={x:ak,y:al};aa.x+=am;aa.y+=an;if(aa.x+ae[3]<ad)ao=-ae[3];else if(aa.x-ae[1]>aj.width-ai.width-ad)ao=aj.width-ai.width+(ac.lang.dir=='rtl'?0:ae[1]);else ao=aa.x;if(aa.y+ae[0]<ad)ap=-ae[0];else if(aa.y-ae[2]>aj.height-ai.height-ad)ap=aj.height-ai.height+ae[2];else ap=aa.y;Y.move(ao,ap,1);ah.data.preventDefault();};function ag(ah){h.document.removeListener('mousemove',af);h.document.removeListener('mouseup',ag);if(i.ie6Compat){var ai=M.getChild(0).getFrameDocument();ai.removeListener('mousemove',af);ai.removeListener('mouseup',ag);}};Y.parts.title.on('mousedown',function(ah){Z={x:ah.data.$.screenX,y:ah.data.$.screenY};h.document.on('mousemove',af);h.document.on('mouseup',ag);aa=Y.getPosition();if(i.ie6Compat){var ai=M.getChild(0).getFrameDocument();ai.on('mousemove',af);ai.on('mouseup',ag);}ah.data.preventDefault();},Y);};function J(Y){var Z=Y.definition,aa=Z.resizable;if(aa==0)return;var ab=Y.getParentEditor(),ac,ad,ae,af,ag,ah,ai=l.addFunction(function(al){ag=Y.getSize();var am=Y.parts.contents,an=am.$.getElementsByTagName('iframe').length;if(an){ah=o.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');am.append(ah);}ad=ag.height-Y.parts.contents.getSize('height',!(i.gecko||i.opera||j&&i.quirks));ac=ag.width-Y.parts.contents.getSize('width',1);af={x:al.screenX,y:al.screenY};ae=h.document.getWindow().getViewPaneSize();h.document.on('mousemove',aj);h.document.on('mouseup',ak);if(i.ie6Compat){var ao=M.getChild(0).getFrameDocument();ao.on('mousemove',aj);ao.on('mouseup',ak);}al.preventDefault&&al.preventDefault();});Y.on('load',function(){var al='';if(aa==1)al=' cke_resizer_horizontal';else if(aa==2)al=' cke_resizer_vertical';var am=o.createFromHtml('<div class="cke_resizer'+al+' cke_resizer_'+ab.lang.dir+'"'+' title="'+l.htmlEncode(ab.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+ai+', event )"></div>');Y.parts.footer.append(am,1);});ab.on('destroy',function(){l.removeFunction(ai);});function aj(al){var am=ab.lang.dir=='rtl',an=(al.data.$.screenX-af.x)*(am?-1:1),ao=al.data.$.screenY-af.y,ap=ag.width,aq=ag.height,ar=ap+an*(Y._.moved?1:2),as=aq+ao*(Y._.moved?1:2),at=Y._.element.getFirst(),au=am&&at.getComputedStyle('right'),av=Y.getPosition();if(av.y+as>ae.height)as=ae.height-av.y;if((am?au:av.x)+ar>ae.width)ar=ae.width-(am?au:av.x);
if(aa==1||aa==3)ap=Math.max(Z.minWidth||0,ar-ac);if(aa==2||aa==3)aq=Math.max(Z.minHeight||0,as-ad);Y.resize(ap,aq);if(!Y._.moved)Y.layout();al.data.preventDefault();};function ak(){h.document.removeListener('mouseup',ak);h.document.removeListener('mousemove',aj);if(ah){ah.remove();ah=null;}if(i.ie6Compat){var al=M.getChild(0).getFrameDocument();al.removeListener('mouseup',ak);al.removeListener('mousemove',aj);}};};var K,L={},M;function N(Y){Y.data.preventDefault(1);};function O(Y){var Z=h.document.getWindow(),aa=Y.config,ab=aa.dialog_backgroundCoverColor||'white',ac=aa.dialog_backgroundCoverOpacity,ad=aa.baseFloatZIndex,ae=l.genKey(ab,ac,ad),af=L[ae];if(!af){var ag=['<div tabIndex="-1" style="position: ',i.ie6Compat?'absolute':'fixed','; z-index: ',ad,'; top: 0px; left: 0px; ',!i.ie6Compat?'background-color: '+ab:'','" class="cke_dialog_background_cover">'];if(i.ie6Compat){var ah=i.isCustomDomain(),ai="<html><body style=\\'background-color:"+ab+";\\'></body></html>";ag.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');ag.push('void((function(){document.open();'+(ah?"document.domain='"+document.domain+"';":'')+"document.write( '"+ai+"' );"+'document.close();'+'})())');ag.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}ag.push('</div>');af=o.createFromHtml(ag.join(''));af.setOpacity(ac!=undefined?ac:0.5);af.on('keydown',N);af.on('keypress',N);af.on('keyup',N);af.appendTo(h.document.getBody());L[ae]=af;}else af.show();M=af;var aj=function(){var am=Z.getViewPaneSize();af.setStyles({width:am.width+'px',height:am.height+'px'});},ak=function(){var am=Z.getScrollPosition(),an=h.dialog._.currentTop;af.setStyles({left:am.x+'px',top:am.y+'px'});if(an)do{var ao=an.getPosition();an.move(ao.x,ao.y);}while(an=an._.parentDialog)};K=aj;Z.on('resize',aj);aj();if(!(i.mac&&i.webkit))af.focus();if(i.ie6Compat){var al=function(){ak();arguments.callee.prevScrollHandler.apply(this,arguments);};Z.$.setTimeout(function(){al.prevScrollHandler=window.onscroll||(function(){});window.onscroll=al;},0);ak();}};function P(){if(!M)return;var Y=h.document.getWindow();M.hide();Y.removeListener('resize',K);if(i.ie6Compat)Y.$.setTimeout(function(){var Z=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=Z||null;},0);K=null;};function Q(){for(var Y in L)L[Y].remove();L={};};var R={},S=function(Y){var Z=Y.data.$.ctrlKey||Y.data.$.metaKey,aa=Y.data.$.altKey,ab=Y.data.$.shiftKey,ac=String.fromCharCode(Y.data.$.keyCode),ad=R[(Z?'CTRL+':'')+(aa?'ALT+':'')+(ab?'SHIFT+':'')+ac];
if(!ad||!ad.length)return;ad=ad[ad.length-1];ad.keydown&&ad.keydown.call(ad.uiElement,ad.dialog,ad.key);Y.data.preventDefault();},T=function(Y){var Z=Y.data.$.ctrlKey||Y.data.$.metaKey,aa=Y.data.$.altKey,ab=Y.data.$.shiftKey,ac=String.fromCharCode(Y.data.$.keyCode),ad=R[(Z?'CTRL+':'')+(aa?'ALT+':'')+(ab?'SHIFT+':'')+ac];if(!ad||!ad.length)return;ad=ad[ad.length-1];if(ad.keyup){ad.keyup.call(ad.uiElement,ad.dialog,ad.key);Y.data.preventDefault();}},U=function(Y,Z,aa,ab,ac){var ad=R[aa]||(R[aa]=[]);ad.push({uiElement:Y,dialog:Z,key:aa,keyup:ac||Y.accessKeyUp,keydown:ab||Y.accessKeyDown});},V=function(Y){for(var Z in R){var aa=R[Z];for(var ab=aa.length-1;ab>=0;ab--){if(aa[ab].dialog==Y||aa[ab].uiElement==Y)aa.splice(ab,1);}if(aa.length===0)delete R[Z];}},W=function(Y,Z){if(Y._.accessKeyMap[Z])Y.selectPage(Y._.accessKeyMap[Z]);},X=function(Y,Z){};(function(){r.dialog={uiElement:function(Y,Z,aa,ab,ac,ad,ae){if(arguments.length<4)return;var af=(ab.call?ab(Z):ab)||'div',ag=['<',af,' '],ah=(ac&&ac.call?ac(Z):ac)||{},ai=(ad&&ad.call?ad(Z):ad)||{},aj=(ae&&ae.call?ae.call(this,Y,Z):ae)||'',ak=this.domId=ai.id||l.getNextId()+'_uiElement',al=this.id=Z.id,am;ai.id=ak;var an={};if(Z.type)an['cke_dialog_ui_'+Z.type]=1;if(Z.className)an[Z.className]=1;if(Z.disabled)an.cke_disabled=1;var ao=ai['class']&&ai['class'].split?ai['class'].split(' '):[];for(am=0;am<ao.length;am++){if(ao[am])an[ao[am]]=1;}var ap=[];for(am in an)ap.push(am);ai['class']=ap.join(' ');if(Z.title)ai.title=Z.title;var aq=(Z.style||'').split(';');if(Z.align){var ar=Z.align;ah['margin-left']=ar=='left'?0:'auto';ah['margin-right']=ar=='right'?0:'auto';}for(am in ah)aq.push(am+':'+ah[am]);if(Z.hidden)aq.push('display:none');for(am=aq.length-1;am>=0;am--){if(aq[am]==='')aq.splice(am,1);}if(aq.length>0)ai.style=(ai.style?ai.style+'; ':'')+aq.join('; ');for(am in ai)ag.push(am+'="'+l.htmlEncode(ai[am])+'" ');ag.push('>',aj,'</',af,'>');aa.push(ag.join(''));(this._||(this._={})).dialog=Y;if(typeof Z.isChanged=='boolean')this.isChanged=function(){return Z.isChanged;};if(typeof Z.isChanged=='function')this.isChanged=Z.isChanged;if(typeof Z.setValue=='function')this.setValue=l.override(this.setValue,function(at){return function(au){at.call(this,Z.setValue.call(this,au));};});if(typeof Z.getValue=='function')this.getValue=l.override(this.getValue,function(at){return function(){return Z.getValue.call(this,at.call(this));};});h.event.implementOn(this);this.registerEvents(Z);if(this.accessKeyUp&&this.accessKeyDown&&Z.accessKey)U(this,Y,'CTRL+'+Z.accessKey);
var as=this;Y.on('load',function(){var at=as.getInputElement();if(at){var au=as.type in {checkbox:1,ratio:1}&&j&&i.version<8?'cke_dialog_ui_focused':'';at.on('focus',function(){Y._.tabBarMode=false;Y._.hasFocus=true;as.fire('focus');au&&this.addClass(au);});at.on('blur',function(){as.fire('blur');au&&this.removeClass(au);});}});if(this.keyboardFocusable){this.tabIndex=Z.tabIndex||0;this.focusIndex=Y._.focusList.push(this)-1;this.on('focus',function(){Y._.currentFocusIndex=as.focusIndex;});}l.extend(this,Z);},hbox:function(Y,Z,aa,ab,ac){if(arguments.length<4)return;this._||(this._={});var ad=this._.children=Z,ae=ac&&ac.widths||null,af=ac&&ac.height||null,ag={},ah,ai=function(){var ak=['<tbody><tr class="cke_dialog_ui_hbox">'];for(ah=0;ah<aa.length;ah++){var al='cke_dialog_ui_hbox_child',am=[];if(ah===0)al='cke_dialog_ui_hbox_first';if(ah==aa.length-1)al='cke_dialog_ui_hbox_last';ak.push('<td class="',al,'" role="presentation" ');if(ae){if(ae[ah])am.push('width:'+t(ae[ah]));}else am.push('width:'+Math.floor(100/aa.length)+'%');if(af)am.push('height:'+t(af));if(ac&&ac.padding!=undefined)am.push('padding:'+t(ac.padding));if(j&&i.quirks&&ad[ah].align)am.push('text-align:'+ad[ah].align);if(am.length>0)ak.push('style="'+am.join('; ')+'" ');ak.push('>',aa[ah],'</td>');}ak.push('</tr></tbody>');return ak.join('');},aj={role:'presentation'};ac&&ac.align&&(aj.align=ac.align);r.dialog.uiElement.call(this,Y,ac||{type:'hbox'},ab,'table',ag,aj,ai);},vbox:function(Y,Z,aa,ab,ac){if(arguments.length<3)return;this._||(this._={});var ad=this._.children=Z,ae=ac&&ac.width||null,af=ac&&ac.heights||null,ag=function(){var ah=['<table role="presentation" cellspacing="0" border="0" '];ah.push('style="');if(ac&&ac.expand)ah.push('height:100%;');ah.push('width:'+t(ae||'100%'),';');ah.push('"');ah.push('align="',l.htmlEncode(ac&&ac.align||(Y.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');ah.push('><tbody>');for(var ai=0;ai<aa.length;ai++){var aj=[];ah.push('<tr><td role="presentation" ');if(ae)aj.push('width:'+t(ae||'100%'));if(af)aj.push('height:'+t(af[ai]));else if(ac&&ac.expand)aj.push('height:'+Math.floor(100/aa.length)+'%');if(ac&&ac.padding!=undefined)aj.push('padding:'+t(ac.padding));if(j&&i.quirks&&ad[ai].align)aj.push('text-align:'+ad[ai].align);if(aj.length>0)ah.push('style="',aj.join('; '),'" ');ah.push(' class="cke_dialog_ui_vbox_child">',aa[ai],'</td></tr>');}ah.push('</tbody></table>');return ah.join('');};r.dialog.uiElement.call(this,Y,ac||{type:'vbox'},ab,'div',null,{role:'presentation'},ag);
}};})();r.dialog.uiElement.prototype={getElement:function(){return h.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(Y,Z){this.getInputElement().setValue(Y);!Z&&this.fire('change',{value:Y});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var ab=this;var Y=ab.getInputElement(),Z=Y,aa;while((Z=Z.getParent())&&Z.$.className.search('cke_dialog_page_contents')==-1){}if(!Z)return ab;aa=Z.getAttribute('name');if(ab._.dialog._.currentTabId!=aa)ab._.dialog.selectPage(aa);return ab;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(Y){var Z=/^on([A-Z]\w+)/,aa,ab=function(ad,ae,af,ag){ae.on('load',function(){ad.getInputElement().on(af,ag,ad);});};for(var ac in Y){if(!(aa=ac.match(Z)))continue;if(this.eventProcessors[ac])this.eventProcessors[ac].call(this,this._.dialog,Y[ac]);else ab(this,this._.dialog,aa[1].toLowerCase(),Y[ac]);}return this;},eventProcessors:{onLoad:function(Y,Z){Y.on('load',Z,this);},onShow:function(Y,Z){Y.on('show',Z,this);},onHide:function(Y,Z){Y.on('hide',Z,this);}},accessKeyDown:function(Y,Z){this.focus();},accessKeyUp:function(Y,Z){},disable:function(){var Y=this.getElement(),Z=this.getInputElement();Z.setAttribute('disabled','true');Y.addClass('cke_disabled');},enable:function(){var Y=this.getElement(),Z=this.getInputElement();Z.removeAttribute('disabled');Y.removeClass('cke_disabled');},isEnabled:function(){return!this.getElement().hasClass('cke_disabled');},isVisible:function(){return this.getInputElement().isVisible();},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};r.dialog.hbox.prototype=l.extend(new r.dialog.uiElement(),{getChild:function(Y){var Z=this;if(arguments.length<1)return Z._.children.concat();if(!Y.splice)Y=[Y];if(Y.length<2)return Z._.children[Y[0]];else return Z._.children[Y[0]]&&Z._.children[Y[0]].getChild?Z._.children[Y[0]].getChild(Y.slice(1,Y.length)):null;}},true);r.dialog.vbox.prototype=new r.dialog.hbox();(function(){var Y={build:function(Z,aa,ab){var ac=aa.children,ad,ae=[],af=[];for(var ag=0;ag<ac.length&&(ad=ac[ag]);ag++){var ah=[];ae.push(ah);af.push(h.dialog._.uiElementBuilders[ad.type].build(Z,ad,ah));}return new r.dialog[aa.type](Z,af,ae,ab,aa);}};h.dialog.addUIElement('hbox',Y);h.dialog.addUIElement('vbox',Y);})();h.dialogCommand=function(Y){this.dialogName=Y;
};h.dialogCommand.prototype={exec:function(Y){i.opera?l.setTimeout(function(){Y.openDialog(this.dialogName);},0,this):Y.openDialog(this.dialogName);},canUndo:false,editorFocus:j||i.webkit};(function(){var Y=/^([a]|[^a])+$/,Z=/^\d*$/,aa=/^\d*(?:\.\d+)?$/,ab=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,ac=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,ad=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;h.VALIDATE_OR=1;h.VALIDATE_AND=2;h.dialog.validate={functions:function(){var ae=arguments;return function(){var af=this&&this.getValue?this.getValue():ae[0],ag=undefined,ah=2,ai=[],aj;for(aj=0;aj<ae.length;aj++){if(typeof ae[aj]=='function')ai.push(ae[aj]);else break;}if(aj<ae.length&&typeof ae[aj]=='string'){ag=ae[aj];aj++;}if(aj<ae.length&&typeof ae[aj]=='number')ah=ae[aj];var ak=ah==2?true:false;for(aj=0;aj<ai.length;aj++){if(ah==2)ak=ak&&ai[aj](af);else ak=ak||ai[aj](af);}return!ak?ag:true;};},regex:function(ae,af){return function(){var ag=this&&this.getValue?this.getValue():arguments[0];return!ae.test(ag)?af:true;};},notEmpty:function(ae){return this.regex(Y,ae);},integer:function(ae){return this.regex(Z,ae);},number:function(ae){return this.regex(aa,ae);},cssLength:function(ae){return this.functions(function(af){return ac.test(l.trim(af));},ae);},htmlLength:function(ae){return this.functions(function(af){return ab.test(l.trim(af));},ae);},inlineStyle:function(ae){return this.functions(function(af){return ad.test(l.trim(af));},ae);},equals:function(ae,af){return this.functions(function(ag){return ag==ae;},af);},notEqual:function(ae,af){return this.functions(function(ag){return ag!=ae;},af);}};h.on('instanceDestroyed',function(ae){if(l.isEmpty(h.instances)){var af;while(af=h.dialog._.currentTop)af.hide();Q();}var ag=ae.editor._.storedDialogs;for(var ah in ag)ag[ah].destroy();});})();l.extend(h.editor.prototype,{openDialog:function(Y,Z){if(this.mode=='wysiwyg'&&j){var aa=this.getSelection();aa&&aa.lock();}var ab=h.dialog._.dialogDefinitions[Y],ac=this.skin.dialog;if(h.dialog._.currentTop===null)O(this);if(typeof ab=='function'&&ac._isLoaded){var ad=this._.storedDialogs||(this._.storedDialogs={}),ae=ad[Y]||(ad[Y]=new h.dialog(this,Y));Z&&Z.call(ae,ae);ae.show();return ae;}else if(ab=='failed'){P();throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+Y+'" failed when loading definition.');}var af=this;function ag(ai){var aj=h.dialog._.dialogDefinitions[Y],ak=af.skin.dialog;if(!ak._isLoaded||ah&&typeof ai=='undefined')return;if(typeof aj!='function')h.dialog._.dialogDefinitions[Y]='failed';
af.openDialog(Y,Z);};if(typeof ab=='string'){var ah=1;h.scriptLoader.load(h.getUrl(ab),ag,null,0,1);}h.skins.load(this,'dialog',ag);return null;}});})();q.add('dialog',{requires:['dialogui']});q.add('styles',{requires:['selection'],init:function(t){t.on('contentDom',function(){t.document.setCustomData('cke_includeReadonly',!t.config.disableReadonlyStyling);});}});h.editor.prototype.attachStyleStateChange=function(t,u){var v=this._.styleStateChangeCallbacks;if(!v){v=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(w){for(var x=0;x<v.length;x++){var y=v[x],z=y.style.checkActive(w.data.path)?1:2;y.fn.call(this,z);}});}v.push({style:t,fn:u});};h.STYLE_BLOCK=1;h.STYLE_INLINE=2;h.STYLE_OBJECT=3;(function(){var t={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},u={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},v=/\s*(?:;\s*|$)/,w=/#\((.+?)\)/g,x=k.walker.bookmark(0,1),y=k.walker.whitespaces(1);h.style=function(aa,ab){var ae=this;var ac=aa.attributes;if(ac&&ac.style){aa.styles=l.extend({},aa.styles,X(ac.style));delete ac.style;}if(ab){aa=l.clone(aa);S(aa.attributes,ab);S(aa.styles,ab);}var ad=ae.element=aa.element?typeof aa.element=='string'?aa.element.toLowerCase():aa.element:'*';ae.type=t[ad]?1:u[ad]?3:2;if(typeof ae.element=='object')ae.type=3;ae._={definition:aa};};h.style.prototype={apply:function(aa){Z.call(this,aa,false);},remove:function(aa){Z.call(this,aa,true);},applyToRange:function(aa){var ab=this;return(ab.applyToRange=ab.type==2?A:ab.type==1?E:ab.type==3?C:null).call(ab,aa);},removeFromRange:function(aa){var ab=this;return(ab.removeFromRange=ab.type==2?B:ab.type==1?F:ab.type==3?D:null).call(ab,aa);},applyToObject:function(aa){R(aa,this);},checkActive:function(aa){var af=this;switch(af.type){case 1:return af.checkElementRemovable(aa.block||aa.blockLimit,true);case 3:case 2:var ab=aa.elements;for(var ac=0,ad;ac<ab.length;ac++){ad=ab[ac];if(af.type==2&&(ad==aa.block||ad==aa.blockLimit))continue;if(af.type==3){var ae=ad.getName();if(!(typeof af.element=='string'?ae==af.element:ae in af.element))continue;}if(af.checkElementRemovable(ad,true))return true;}}return false;},checkApplicable:function(aa){switch(this.type){case 2:case 1:break;case 3:return aa.lastElement.getAscendant(this.element,true);
}return true;},checkElementMatch:function(aa,ab){var ah=this;var ac=ah._.definition;if(!aa||!ac.ignoreReadonly&&aa.isReadOnly())return false;var ad,ae=aa.getName();if(typeof ah.element=='string'?ae==ah.element:ae in ah.element){if(!ab&&!aa.hasAttributes())return true;ad=T(ac);if(ad._length){for(var af in ad){if(af=='_length')continue;var ag=aa.getAttribute(af)||'';if(af=='style'?Y(ad[af],W(ag,false)):ad[af]==ag){if(!ab)return true;}else if(ab)return false;}if(ab)return true;}else return true;}return false;},checkElementRemovable:function(aa,ab){if(this.checkElementMatch(aa,ab))return true;var ac=U(this)[aa.getName()];if(ac){var ad,ae;if(!(ad=ac.attributes))return true;for(var af=0;af<ad.length;af++){ae=ad[af][0];var ag=aa.getAttribute(ae);if(ag){var ah=ad[af][1];if(ah===null||typeof ah=='string'&&ag==ah||ah.test(ag))return true;}}}return false;},buildPreview:function(aa){var ab=this._.definition,ac=[],ad=ab.element;if(ad=='bdo')ad='span';ac=['<',ad];var ae=ab.attributes;if(ae)for(var af in ae)ac.push(' ',af,'="',ae[af],'"');var ag=h.style.getStyleText(ab);if(ag)ac.push(' style="',ag,'"');ac.push('>',aa||ab.name,'</',ad,'>');return ac.join('');}};h.style.getStyleText=function(aa){var ab=aa._ST;if(ab)return ab;ab=aa.styles;var ac=aa.attributes&&aa.attributes.style||'',ad='';if(ac.length)ac=ac.replace(v,';');for(var ae in ab){var af=ab[ae],ag=(ae+':'+af).replace(v,';');if(af=='inherit')ad+=ag;else ac+=ag;}if(ac.length)ac=W(ac);ac+=ad;return aa._ST=ac;};function z(aa){var ab,ac;while(aa=aa.getParent()){if(aa.getName()=='body')break;if(aa.getAttribute('data-nostyle'))ab=aa;else if(!ac){var ad=aa.getAttribute('contentEditable');if(ad=='false')ab=aa;else if(ad=='true')ac=1;}}return ab;};function A(aa){var aF=this;var ab=aa.document;if(aa.collapsed){var ac=Q(aF,ab);aa.insertNode(ac);aa.moveToPosition(ac,2);return;}var ad=aF.element,ae=aF._.definition,af,ag=ae.ignoreReadonly,ah=ag||ae.includeReadonly;if(ah==undefined)ah=ab.getCustomData('cke_includeReadonly');var ai=m[ad]||(af=true,m.span);aa.enlarge(1,1);aa.trim();var aj=aa.createBookmark(),ak=aj.startNode,al=aj.endNode,am=ak,an;if(!ag){var ao=z(ak),ap=z(al);if(ao)am=ao.getNextSourceNode(true);if(ap)al=ap;}if(am.getPosition(al)==2)am=0;while(am){var aq=false;if(am.equals(al)){am=null;aq=true;}else{var ar=am.type,as=ar==1?am.getName():null,at=as&&am.getAttribute('contentEditable')=='false',au=as&&am.getAttribute('data-nostyle');if(as&&am.data('cke-bookmark')){am=am.getNextSourceNode(true);continue;}if(!as||ai[as]&&!au&&(!at||ah)&&(am.getPosition(al)|4|0|8)==4+0+8&&(!ae.childRule||ae.childRule(am))){var av=am.getParent();
if(av&&((av.getDtd()||m.span)[ad]||af)&&(!ae.parentRule||ae.parentRule(av))){if(!an&&(!as||!m.$removeEmpty[as]||(am.getPosition(al)|4|0|8)==4+0+8)){an=new k.range(ab);an.setStartBefore(am);}if(ar==3||at||ar==1&&!am.getChildCount()){var aw=am,ax;while((aq=!aw.getNext(x))&&(ax=aw.getParent(),ai[ax.getName()])&&(ax.getPosition(ak)|2|0|8)==2+0+8&&(!ae.childRule||ae.childRule(ax)))aw=ax;an.setEndAfter(aw);}}else aq=true;}else aq=true;am=am.getNextSourceNode(au||at);}if(aq&&an&&!an.collapsed){var ay=Q(aF,ab),az=ay.hasAttributes(),aA=an.getCommonAncestor(),aB={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},aC,aD,aE;while(ay&&aA){if(aA.getName()==ad){for(aC in ae.attributes){if(aB.blockedAttrs[aC]||!(aE=aA.getAttribute(aD)))continue;if(ay.getAttribute(aC)==aE)aB.attrs[aC]=1;else aB.blockedAttrs[aC]=1;}for(aD in ae.styles){if(aB.blockedStyles[aD]||!(aE=aA.getStyle(aD)))continue;if(ay.getStyle(aD)==aE)aB.styles[aD]=1;else aB.blockedStyles[aD]=1;}}aA=aA.getParent();}for(aC in aB.attrs)ay.removeAttribute(aC);for(aD in aB.styles)ay.removeStyle(aD);if(az&&!ay.hasAttributes())ay=null;if(ay){an.extractContents().appendTo(ay);N(aF,ay);an.insertNode(ay);ay.mergeSiblings();if(!j)ay.$.normalize();}else{ay=new o('span');an.extractContents().appendTo(ay);an.insertNode(ay);N(aF,ay);ay.remove(true);}an=null;}}aa.moveToBookmark(aj);aa.shrink(2);};function B(aa){aa.enlarge(1,1);var ab=aa.createBookmark(),ac=ab.startNode;if(aa.collapsed){var ad=new k.elementPath(ac.getParent()),ae;for(var af=0,ag;af<ad.elements.length&&(ag=ad.elements[af]);af++){if(ag==ad.block||ag==ad.blockLimit)break;if(this.checkElementRemovable(ag)){var ah;if(aa.collapsed&&(aa.checkBoundaryOfElement(ag,2)||(ah=aa.checkBoundaryOfElement(ag,1)))){ae=ag;ae.match=ah?'start':'end';}else{ag.mergeSiblings();if(ag.getName()==this.element)M(this,ag);else O(ag,U(this)[ag.getName()]);}}}if(ae){var ai=ac;for(af=0;true;af++){var aj=ad.elements[af];if(aj.equals(ae))break;else if(aj.match)continue;else aj=aj.clone();aj.append(ai);ai=aj;}ai[ae.match=='start'?'insertBefore':'insertAfter'](ae);}}else{var ak=ab.endNode,al=this;function am(){var ap=new k.elementPath(ac.getParent()),aq=new k.elementPath(ak.getParent()),ar=null,as=null;for(var at=0;at<ap.elements.length;at++){var au=ap.elements[at];if(au==ap.block||au==ap.blockLimit)break;if(al.checkElementRemovable(au))ar=au;}for(at=0;at<aq.elements.length;at++){au=aq.elements[at];if(au==aq.block||au==aq.blockLimit)break;if(al.checkElementRemovable(au))as=au;}if(as)ak.breakParent(as);
if(ar)ac.breakParent(ar);};am();var an=ac;while(!an.equals(ak)){var ao=an.getNextSourceNode();if(an.type==1&&this.checkElementRemovable(an)){if(an.getName()==this.element)M(this,an);else O(an,U(this)[an.getName()]);if(ao.type==1&&ao.contains(ac)){am();ao=ac.getNext();}}an=ao;}}aa.moveToBookmark(ab);};function C(aa){var ab=aa.getCommonAncestor(true,true),ac=ab.getAscendant(this.element,true);ac&&!ac.isReadOnly()&&R(ac,this);};function D(aa){var ab=aa.getCommonAncestor(true,true),ac=ab.getAscendant(this.element,true);if(!ac)return;var ad=this,ae=ad._.definition,af=ae.attributes;if(af)for(var ag in af)ac.removeAttribute(ag,af[ag]);if(ae.styles)for(var ah in ae.styles){if(!ae.styles.hasOwnProperty(ah))continue;ac.removeStyle(ah);}};function E(aa){var ab=aa.createBookmark(true),ac=aa.createIterator();ac.enforceRealBlocks=true;if(this._.enterMode)ac.enlargeBr=this._.enterMode!=2;var ad,ae=aa.document,af;while(ad=ac.getNextParagraph()){if(!ad.isReadOnly()){var ag=Q(this,ae,ad);G(ad,ag);}}aa.moveToBookmark(ab);};function F(aa){var af=this;var ab=aa.createBookmark(1),ac=aa.createIterator();ac.enforceRealBlocks=true;ac.enlargeBr=af._.enterMode!=2;var ad;while(ad=ac.getNextParagraph()){if(af.checkElementRemovable(ad))if(ad.is('pre')){var ae=af._.enterMode==2?null:aa.document.createElement(af._.enterMode==1?'p':'div');ae&&ad.copyAttributes(ae);G(ad,ae);}else M(af,ad,1);}aa.moveToBookmark(ab);};function G(aa,ab){var ac=!ab;if(ac){ab=aa.getDocument().createElement('div');aa.copyAttributes(ab);}var ad=ab&&ab.is('pre'),ae=aa.is('pre'),af=ad&&!ae,ag=!ad&&ae;if(af)ab=L(aa,ab);else if(ag)ab=K(ac?[aa.getHtml()]:I(aa),ab);else aa.moveChildren(ab);ab.replace(aa);if(ad)H(ab);else if(ac)P(ab);};function H(aa){var ab;if(!((ab=aa.getPrevious(y))&&ab.is&&ab.is('pre')))return;var ac=J(ab.getHtml(),/\n$/,'')+'\n\n'+J(aa.getHtml(),/^\n/,'');if(j)aa.$.outerHTML='<pre>'+ac+'</pre>';else aa.setHtml(ac);ab.remove();};function I(aa){var ab=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,ac=aa.getName(),ad=J(aa.getOuterHtml(),ab,function(af,ag,ah){return ag+'</pre>'+ah+'<pre>';}),ae=[];ad.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(af,ag){ae.push(ag);});return ae;};function J(aa,ab,ac){var ad='',ae='';aa=aa.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(af,ag,ah){ag&&(ad=ag);ah&&(ae=ah);return '';});return ad+aa.replace(ab,ac)+ae;};function K(aa,ab){var ac;if(aa.length>1)ac=new k.documentFragment(ab.getDocument());
for(var ad=0;ad<aa.length;ad++){var ae=aa[ad];ae=ae.replace(/(\r\n|\r)/g,'\n');ae=J(ae,/^[ \t]*\n/,'');ae=J(ae,/\n$/,'');ae=J(ae,/^[ \t]+|[ \t]+$/g,function(ag,ah,ai){if(ag.length==1)return '&nbsp;';else if(!ah)return l.repeat('&nbsp;',ag.length-1)+' ';else return ' '+l.repeat('&nbsp;',ag.length-1);});ae=ae.replace(/\n/g,'<br>');ae=ae.replace(/[ \t]{2,}/g,function(ag){return l.repeat('&nbsp;',ag.length-1)+' ';});if(ac){var af=ab.clone();af.setHtml(ae);ac.append(af);}else ab.setHtml(ae);}return ac||ab;};function L(aa,ab){var ac=aa.getBogus();ac&&ac.remove();var ad=aa.getHtml();ad=J(ad,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'');ad=ad.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,'$1');ad=ad.replace(/([ \t\n\r]+|&nbsp;)/g,' ');ad=ad.replace(/<br\b[^>]*>/gi,'\n');if(j){var ae=aa.getDocument().createElement('div');ae.append(ab);ab.$.outerHTML='<pre>'+ad+'</pre>';ab.copyAttributes(ae.getFirst());ab=ae.getFirst().remove();}else ab.setHtml(ad);return ab;};function M(aa,ab){var ac=aa._.definition,ad=ac.attributes,ae=ac.styles,af=U(aa)[ab.getName()],ag=l.isEmpty(ad)&&l.isEmpty(ae);for(var ah in ad){if((ah=='class'||aa._.definition.fullMatch)&&ab.getAttribute(ah)!=V(ah,ad[ah]))continue;ag=ab.hasAttribute(ah);ab.removeAttribute(ah);}for(var ai in ae){if(aa._.definition.fullMatch&&ab.getStyle(ai)!=V(ai,ae[ai],true))continue;ag=ag||!!ab.getStyle(ai);ab.removeStyle(ai);}O(ab,af,t[ab.getName()]);if(ag)!m.$block[ab.getName()]||aa._.enterMode==2&&!ab.hasAttributes()?P(ab):ab.renameNode(aa._.enterMode==1?'p':'div');};function N(aa,ab){var ac=aa._.definition,ad=ac.attributes,ae=ac.styles,af=U(aa),ag=ab.getElementsByTag(aa.element);for(var ah=ag.count();--ah>=0;)M(aa,ag.getItem(ah));for(var ai in af){if(ai!=aa.element){ag=ab.getElementsByTag(ai);for(ah=ag.count()-1;ah>=0;ah--){var aj=ag.getItem(ah);O(aj,af[ai]);}}}};function O(aa,ab,ac){var ad=ab&&ab.attributes;if(ad)for(var ae=0;ae<ad.length;ae++){var af=ad[ae][0],ag;if(ag=aa.getAttribute(af)){var ah=ad[ae][1];if(ah===null||ah.test&&ah.test(ag)||typeof ah=='string'&&ag==ah)aa.removeAttribute(af);}}if(!ac)P(aa);};function P(aa){if(!aa.hasAttributes())if(m.$block[aa.getName()]){var ab=aa.getPrevious(y),ac=aa.getNext(y);if(ab&&(ab.type==3||!ab.isBlockBoundary({br:1})))aa.append('br',1);if(ac&&(ac.type==3||!ac.isBlockBoundary({br:1})))aa.append('br');aa.remove(true);}else{var ad=aa.getFirst(),ae=aa.getLast();aa.remove(true);if(ad){ad.type==1&&ad.mergeSiblings();if(ae&&!ad.equals(ae)&&ae.type==1)ae.mergeSiblings();}}};function Q(aa,ab,ac){var ad,ae=aa._.definition,af=aa.element;
if(af=='*')af='span';ad=new o(af,ab);if(ac)ac.copyAttributes(ad);ad=R(ad,aa);if(ab.getCustomData('doc_processing_style')&&ad.hasAttribute('id'))ad.removeAttribute('id');else ab.setCustomData('doc_processing_style',1);return ad;};function R(aa,ab){var ac=ab._.definition,ad=ac.attributes,ae=h.style.getStyleText(ac);if(ad)for(var af in ad)aa.setAttribute(af,ad[af]);if(ae)aa.setAttribute('style',ae);return aa;};function S(aa,ab){for(var ac in aa)aa[ac]=aa[ac].replace(w,function(ad,ae){return ab[ae];});};function T(aa){var ab=aa._AC;if(ab)return ab;ab={};var ac=0,ad=aa.attributes;if(ad)for(var ae in ad){ac++;ab[ae]=ad[ae];}var af=h.style.getStyleText(aa);if(af){if(!ab.style)ac++;ab.style=af;}ab._length=ac;return aa._AC=ab;};function U(aa){if(aa._.overrides)return aa._.overrides;var ab=aa._.overrides={},ac=aa._.definition.overrides;if(ac){if(!l.isArray(ac))ac=[ac];for(var ad=0;ad<ac.length;ad++){var ae=ac[ad],af,ag,ah;if(typeof ae=='string')af=ae.toLowerCase();else{af=ae.element?ae.element.toLowerCase():aa.element;ah=ae.attributes;}ag=ab[af]||(ab[af]={});if(ah){var ai=ag.attributes=ag.attributes||[];for(var aj in ah)ai.push([aj.toLowerCase(),ah[aj]]);}}}return ab;};function V(aa,ab,ac){var ad=new o('span');ad[ac?'setStyle':'setAttribute'](aa,ab);return ad[ac?'getStyle':'getAttribute'](aa);};function W(aa,ab){var ac;if(ab!==false){var ad=new o('span');ad.setAttribute('style',aa);ac=ad.getAttribute('style')||'';}else ac=aa;ac=ac.replace(/(font-family:)(.*?)(?=;|$)/,function(ae,af,ag){var ah=ag.split(',');for(var ai=0;ai<ah.length;ai++)ah[ai]=l.trim(ah[ai].replace(/["']/g,''));return af+ah.join(',');});return ac.replace(/\s*([;:])\s*/,'$1').replace(/([^\s;])$/,'$1;').replace(/,\s+/g,',').replace(/\"/g,'').toLowerCase();};function X(aa){var ab={};aa.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(ac,ad,ae){ab[ad]=ae;});return ab;};function Y(aa,ab){typeof aa=='string'&&(aa=X(aa));typeof ab=='string'&&(ab=X(ab));for(var ac in aa){if(!(ac in ab&&(ab[ac]==aa[ac]||aa[ac]=='inherit'||ab[ac]=='inherit')))return false;}return true;};function Z(aa,ab){var ac=aa.getSelection(),ad=ac.createBookmarks(1),ae=ac.getRanges(),af=ab?this.removeFromRange:this.applyToRange,ag,ah=ae.createIterator();while(ag=ah.getNextRange())af.call(this,ag);if(ad.length==1&&ad[0].collapsed){ac.selectRanges(ae);aa.getById(ad[0].startNode).remove();}else ac.selectBookmarks(ad);aa.removeCustomData('doc_processing_style');};})();h.styleCommand=function(t){this.style=t;};h.styleCommand.prototype.exec=function(t){var v=this;
t.focus();var u=t.document;if(u)if(v.state==2)v.style.apply(u);else if(v.state==1)v.style.remove(u);return!!u;};h.stylesSet=new h.resourceManager('','stylesSet');h.addStylesSet=l.bind(h.stylesSet.add,h.stylesSet);h.loadStylesSet=function(t,u,v){h.stylesSet.addExternal(t,u,'');h.stylesSet.load(t,v);};h.editor.prototype.getStylesSet=function(t){if(!this._.stylesDefinitions){var u=this,v=u.config.stylesCombo_stylesSet||u.config.stylesSet||'default';if(v instanceof Array){u._.stylesDefinitions=v;t(v);return;}var w=v.split(':'),x=w[0],y=w[1],z=q.registered.styles.path;h.stylesSet.addExternal(x,y?w.slice(1).join(':'):z+'styles/'+x+'.js','');h.stylesSet.load(x,function(A){u._.stylesDefinitions=A[x];t(u._.stylesDefinitions);});}else t(this._.stylesDefinitions);};q.add('domiterator');(function(){function t(z){var A=this;if(arguments.length<1)return;A.range=z;A.forceBrBreak=0;A.enlargeBr=1;A.enforceRealBlocks=0;A._||(A._={});};var u=/^[\r\n\t ]+$/,v=k.walker.bookmark(false,true),w=k.walker.whitespaces(true),x=function(z){return v(z)&&w(z);};function y(z,A,B){var C=z.getNextSourceNode(A,null,B);while(!v(C))C=C.getNextSourceNode(A,null,B);return C;};t.prototype={getNextParagraph:function(z){var Z=this;var A,B,C,D,E,F;if(!Z._.started){B=Z.range.clone();B.shrink(1,true);D=B.endContainer.hasAscendant('pre',true)||B.startContainer.hasAscendant('pre',true);B.enlarge(Z.forceBrBreak&&!D||!Z.enlargeBr?3:2);if(!B.collapsed){var G=new k.walker(B.clone()),H=k.walker.bookmark(true,true);G.evaluator=H;Z._.nextNode=G.next();G=new k.walker(B.clone());G.evaluator=H;var I=G.previous();Z._.lastNode=I.getNextSourceNode(true);if(Z._.lastNode&&Z._.lastNode.type==3&&!l.trim(Z._.lastNode.getText())&&Z._.lastNode.getParent().isBlockBoundary()){var J=new k.range(B.document);J.moveToPosition(Z._.lastNode,4);if(J.checkEndOfBlock()){var K=new k.elementPath(J.endContainer),L=K.block||K.blockLimit;Z._.lastNode=L.getNextSourceNode(true);}}if(!Z._.lastNode){Z._.lastNode=Z._.docEndMarker=B.document.createText('');Z._.lastNode.insertAfter(I);}B=null;}Z._.started=1;}var M=Z._.nextNode;I=Z._.lastNode;Z._.nextNode=null;while(M){var N=0,O=M.hasAscendant('pre'),P=M.type!=1,Q=0;if(!P){var R=M.getName();if(M.isBlockBoundary(Z.forceBrBreak&&!O&&{br:1})){if(R=='br')P=1;else if(!B&&!M.getChildCount()&&R!='hr'){A=M;C=M.equals(I);break;}if(B){B.setEndAt(M,3);if(R!='br')Z._.nextNode=M;}N=1;}else{if(M.getFirst()){if(!B){B=new k.range(Z.range.document);B.setStartAt(M,3);}M=M.getFirst();continue;}P=1;}}else if(M.type==3)if(u.test(M.getText()))P=0;
if(P&&!B){B=new k.range(Z.range.document);B.setStartAt(M,3);}C=(!N||P)&&M.equals(I);if(B&&!N)while(!M.getNext(x)&&!C){var S=M.getParent();if(S.isBlockBoundary(Z.forceBrBreak&&!O&&{br:1})){N=1;P=0;C=C||S.equals(I);B.setEndAt(S,2);break;}M=S;P=1;C=M.equals(I);Q=1;}if(P)B.setEndAt(M,4);M=y(M,Q,I);C=!M;if(C||N&&B)break;}if(!A){if(!B){Z._.docEndMarker&&Z._.docEndMarker.remove();Z._.nextNode=null;return null;}var T=new k.elementPath(B.startContainer),U=T.blockLimit,V={div:1,th:1,td:1};A=T.block;if(!A&&!Z.enforceRealBlocks&&V[U.getName()]&&B.checkStartOfBlock()&&B.checkEndOfBlock())A=U;else if(!A||Z.enforceRealBlocks&&A.getName()=='li'){A=Z.range.document.createElement(z||'p');B.extractContents().appendTo(A);A.trim();B.insertNode(A);E=F=true;}else if(A.getName()!='li'){if(!B.checkStartOfBlock()||!B.checkEndOfBlock()){A=A.clone(false);B.extractContents().appendTo(A);A.trim();var W=B.splitBlock();E=!W.wasStartOfBlock;F=!W.wasEndOfBlock;B.insertNode(A);}}else if(!C)Z._.nextNode=A.equals(I)?null:y(B.getBoundaryNodes().endNode,1,I);}if(E){var X=A.getPrevious();if(X&&X.type==1)if(X.getName()=='br')X.remove();else if(X.getLast()&&X.getLast().$.nodeName.toLowerCase()=='br')X.getLast().remove();}if(F){var Y=A.getLast();if(Y&&Y.type==1&&Y.getName()=='br')if(j||Y.getPrevious(v)||Y.getNext(v))Y.remove();}if(!Z._.nextNode)Z._.nextNode=C||A.equals(I)||!I?null:y(A,1,I);return A;}};k.range.prototype.createIterator=function(){return new t(this);};})();q.add('panelbutton',{requires:['button'],onLoad:function(){function t(u){var w=this;var v=w._;if(v.state==0)return;w.createPanel(u);if(v.on){v.panel.hide();return;}v.panel.showBlock(w._.id,w.document.getById(w._.id),4);};r.panelButton=l.createClass({base:r.button,$:function(u){var w=this;var v=u.panel;delete u.panel;w.base(u);w.document=v&&v.parent&&v.parent.getDocument()||h.document;v.block={attributes:v.attributes};w.hasArrow=true;w.click=t;w._={panelDefinition:v};},statics:{handler:{create:function(u){return new r.panelButton(u);}}},proto:{createPanel:function(u){var v=this._;if(v.panel)return;var w=this._.panelDefinition||{},x=this._.panelDefinition.block,y=w.parent||h.document.getBody(),z=this._.panel=new r.floatPanel(u,y,w),A=z.addBlock(v.id,x),B=this;z.onShow=function(){if(B.className)this.element.getFirst().addClass(B.className+'_panel');B.setState(1);v.on=1;if(B.onOpen)B.onOpen();};z.onHide=function(C){if(B.className)this.element.getFirst().removeClass(B.className+'_panel');B.setState(B.modes&&B.modes[u.mode]?2:0);v.on=0;if(!C&&B.onClose)B.onClose();
};z.onEscape=function(){z.hide();B.document.getById(v.id).focus();};if(this.onBlock)this.onBlock(z,A);A.onHide=function(){v.on=0;B.setState(2);};}}});},beforeInit:function(t){t.ui.addHandler(4,r.panelButton.handler);}});h.UI_PANELBUTTON='panelbutton';q.add('floatpanel',{requires:['panel']});(function(){var t={},u=false;function v(w,x,y,z,A){var B=l.genKey(x.getUniqueId(),y.getUniqueId(),w.skinName,w.lang.dir,w.uiColor||'',z.css||'',A||''),C=t[B];if(!C){C=t[B]=new r.panel(x,z);C.element=y.append(o.createFromHtml(C.renderHtml(w),x));C.element.setStyles({display:'none',position:'absolute'});}return C;};r.floatPanel=l.createClass({$:function(w,x,y,z){y.forceIFrame=1;var A=x.getDocument(),B=v(w,A,x,y,z||0),C=B.element,D=C.getFirst().getFirst();C.disableContextMenu();this.element=C;this._={editor:w,panel:B,parentElement:x,definition:y,document:A,iframe:D,children:[],dir:w.lang.dir};w.on('mode',function(){this.hide();},this);},proto:{addBlock:function(w,x){return this._.panel.addBlock(w,x);},addListBlock:function(w,x){return this._.panel.addListBlock(w,x);},getBlock:function(w){return this._.panel.getBlock(w);},showBlock:function(w,x,y,z,A){var B=this._.panel,C=B.showBlock(w);this.allowBlur(false);u=1;this._.returnFocus=this._.editor.focusManager.hasFocus?this._.editor:new o(h.document.$.activeElement);var D=this.element,E=this._.iframe,F=this._.definition,G=x.getDocumentPosition(D.getDocument()),H=this._.dir=='rtl',I=G.x+(z||0),J=G.y+(A||0);if(H&&(y==1||y==4))I+=x.$.offsetWidth;else if(!H&&(y==2||y==3))I+=x.$.offsetWidth-1;if(y==3||y==4)J+=x.$.offsetHeight-1;this._.panel._.offsetParentId=x.getId();D.setStyles({top:J+'px',left:0,display:''});D.setOpacity(0);D.getFirst().removeStyle('width');if(!this._.blurSet){var K=j?E:new k.window(E.$.contentWindow);h.event.useCapture=true;K.on('blur',function(L){var N=this;if(!N.allowBlur())return;var M=L.data.getTarget();if(M.getName&&M.getName()!='iframe')return;if(N.visible&&!N._.activeChild&&!u){delete N._.returnFocus;N.hide();}},this);K.on('focus',function(){this._.focused=true;this.hideChild();this.allowBlur(true);},this);h.event.useCapture=false;this._.blurSet=1;}B.onEscape=l.bind(function(L){if(this.onEscape&&this.onEscape(L)===false)return false;},this);l.setTimeout(function(){var L=l.bind(function(){var M=D.getFirst();if(C.autoSize){var N=C.element.getDocument(),O=(i.webkit?C.element:N.getBody()).$.scrollWidth;if(j&&i.quirks&&O>0)O+=(M.$.offsetWidth||0)-(M.$.clientWidth||0)+3;O+=4;M.setStyle('width',O+'px');C.element.addClass('cke_frameLoaded');
var P=C.element.$.scrollHeight;if(j&&i.quirks&&P>0)P+=(M.$.offsetHeight||0)-(M.$.clientHeight||0)+3;M.setStyle('height',P+'px');B._.currentBlock.element.setStyle('display','none').removeStyle('display');}else M.removeStyle('height');if(H)I-=D.$.offsetWidth;D.setStyle('left',I+'px');var Q=B.element,R=Q.getWindow(),S=D.$.getBoundingClientRect(),T=R.getViewPaneSize(),U=S.width||S.right-S.left,V=S.height||S.bottom-S.top,W=H?S.right:T.width-S.left,X=H?T.width-S.right:S.left;if(H){if(W<U)if(X>U)I+=U;else if(T.width>U)I-=S.left;else I=I-S.right+T.width;}else if(W<U)if(X>U)I-=U;else if(T.width>U)I=I-S.right+T.width;else I-=S.left;var Y=T.height-S.top,Z=S.top;if(Y<V)if(Z>V)J-=V;else if(T.height>V)J=J-S.bottom+T.height;else J-=S.top;if(j){var aa=new o(D.$.offsetParent),ab=aa;if(ab.getName()=='html')ab=ab.getDocument().getBody();if(ab.getComputedStyle('direction')=='rtl')if(i.ie8Compat)I-=D.getDocument().getDocumentElement().$.scrollLeft*2;else I-=aa.$.scrollWidth-aa.$.clientWidth;}var ac=D.getFirst(),ad;if(ad=ac.getCustomData('activePanel'))ad.onHide&&ad.onHide.call(this,1);ac.setCustomData('activePanel',this);D.setStyles({top:J+'px',left:I+'px'});D.setOpacity(1);},this);B.isLoaded?L():B.onLoad=L;l.setTimeout(function(){E.$.contentWindow.focus();this.allowBlur(true);},0,this);},i.air?200:0,this);this.visible=1;if(this.onShow)this.onShow.call(this);u=0;},hide:function(w){var y=this;if(y.visible&&(!y.onHide||y.onHide.call(y)!==true)){y.hideChild();i.gecko&&y._.iframe.getFrameDocument().$.activeElement.blur();y.element.setStyle('display','none');y.visible=0;y.element.getFirst().removeCustomData('activePanel');var x=w!==false&&y._.returnFocus;if(x){if(i.webkit&&x.type)x.getWindow().$.focus();x.focus();}}},allowBlur:function(w){var x=this._.panel;if(w!=undefined)x.allowBlur=w;return x.allowBlur;},showAsChild:function(w,x,y,z,A,B){if(this._.activeChild==w&&w._.panel._.offsetParentId==y.getId())return;this.hideChild();w.onHide=l.bind(function(){l.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=w;this._.focused=false;w.showBlock(x,y,z,A,B);if(i.ie7Compat||i.ie8&&i.ie6Compat)setTimeout(function(){w.element.getChild(0).$.style.cssText+='';},100);},hideChild:function(){var w=this._.activeChild;if(w){delete w.onHide;delete w._.returnFocus;delete this._.activeChild;w.hide();}}}});h.on('instanceDestroyed',function(){var w=l.isEmpty(h.instances);for(var x in t){var y=t[x];if(w)y.destroy();else y.element.hide();}w&&(t={});});})();q.add('menu',{beforeInit:function(t){var u=t.config.menu_groups.split(','),v=t._.menuGroups={},w=t._.menuItems={};
for(var x=0;x<u.length;x++)v[u[x]]=x+1;t.addMenuGroup=function(y,z){v[y]=z||100;};t.addMenuItem=function(y,z){if(v[z.group])w[y]=new h.menuItem(this,y,z);};t.addMenuItems=function(y){for(var z in y)this.addMenuItem(z,y[z]);};t.getMenuItem=function(y){return w[y];};t.removeMenuItem=function(y){delete w[y];};},requires:['floatpanel']});(function(){h.menu=l.createClass({$:function(u,v){var y=this;v=y._.definition=v||{};y.id=l.getNextId();y.editor=u;y.items=[];y._.listeners=[];y._.level=v.level||1;var w=l.extend({},v.panel,{css:u.skin.editor.css,level:y._.level-1,block:{}}),x=w.block.attributes=w.attributes||{};!x.role&&(x.role='menu');y._.panelDefinition=w;},_:{onShow:function(){var C=this;var u=C.editor.getSelection();if(j)u&&u.lock();var v=u&&u.getStartElement(),w=C._.listeners,x=[];C.removeAll();for(var y=0;y<w.length;y++){var z=w[y](v,u);if(z)for(var A in z){var B=C.editor.getMenuItem(A);if(B&&(!B.command||C.editor.getCommand(B.command).state)){B.state=z[A];C.add(B);}}}},onClick:function(u){this.hide(false);if(u.onClick)u.onClick();else if(u.command)this.editor.execCommand(u.command);},onEscape:function(u){var v=this.parent;if(v){v._.panel.hideChild();var w=v._.panel._.panel._.currentBlock,x=w._.focusIndex;w._.markItem(x);}else if(u==27)this.hide();return false;},onHide:function(){this._.unlockSelection();this.onHide&&this.onHide();},unlockSelection:function(){if(j&&!this.parent){var u=this.editor.getSelection();u&&u.unlock(true);}},showSubMenu:function(u){var C=this;var v=C._.subMenu,w=C.items[u],x=w.getItems&&w.getItems();if(!x){C._.panel.hideChild();return;}var y=C._.panel.getBlock(C.id);y._.focusIndex=u;if(v)v.removeAll();else{v=C._.subMenu=new h.menu(C.editor,l.extend({},C._.definition,{level:C._.level+1},true));v.parent=C;v._.onClick=l.bind(C._.onClick,C);}for(var z in x){var A=C.editor.getMenuItem(z);if(A){A.state=x[z];v.add(A);}}var B=C._.panel.getBlock(C.id).element.getDocument().getById(C.id+String(u));v.show(B,2);}},proto:{add:function(u){if(!u.order)u.order=this.items.length;this.items.push(u);},removeAll:function(){this.items=[];},show:function(u,v,w,x){if(!this.parent){this._.onShow();if(!this.items.length){this._.unlockSelection();return;}}v=v||(this.editor.lang.dir=='rtl'?2:1);var y=this.items,z=this.editor,A=this._.panel,B=this._.element;if(!A){A=this._.panel=new r.floatPanel(this.editor,h.document.getBody(),this._.panelDefinition,this._.level);A.onEscape=l.bind(function(M){if(this._.onEscape(M)===false)return false;},this);A.onHide=l.bind(function(){this._.onHide&&this._.onHide();
},this);var C=A.addBlock(this.id,this._.panelDefinition.block);C.autoSize=true;var D=C.keys;D[40]='next';D[9]='next';D[38]='prev';D[2000+9]='prev';D[z.lang.dir=='rtl'?37:39]=j?'mouseup':'click';D[32]=j?'mouseup':'click';j&&(D[13]='mouseup');B=this._.element=C.element;B.addClass(z.skinClass);var E=B.getDocument();E.getBody().setStyle('overflow','hidden');E.getElementsByTag('html').getItem(0).setStyle('overflow','hidden');this._.itemOverFn=l.addFunction(function(M){var N=this;clearTimeout(N._.showSubTimeout);N._.showSubTimeout=l.setTimeout(N._.showSubMenu,z.config.menu_subMenuDelay||400,N,[M]);},this);this._.itemOutFn=l.addFunction(function(M){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=l.addFunction(function(M){var O=this;var N=O.items[M];if(N.state==0){O.hide();return;}if(N.getItems)O._.showSubMenu(M);else O._.onClick(N);},this);}t(y);var F=z.container.getChild(1),G=F.hasClass('cke_mixed_dir_content')?' cke_mixed_dir_content':'',H=['<div class="cke_menu'+G+'" role="presentation">'],I=y.length,J=I&&y[0].group;for(var K=0;K<I;K++){var L=y[K];if(J!=L.group){H.push('<div class="cke_menuseparator" role="separator"></div>');J=L.group;}L.render(this,K,H);}H.push('</div>');B.setHtml(H.join(''));r.fire('ready',this);if(this.parent)this.parent._.panel.showAsChild(A,this.id,u,v,w,x);else A.showBlock(this.id,u,v,w,x);z.fire('menuShow',[A]);},addListener:function(u){this._.listeners.push(u);},hide:function(u){var v=this;v._.onHide&&v._.onHide();v._.panel&&v._.panel.hide(u);}}});function t(u){u.sort(function(v,w){if(v.group<w.group)return-1;else if(v.group>w.group)return 1;return v.order<w.order?-1:v.order>w.order?1:0;});};h.menuItem=l.createClass({$:function(u,v,w){var x=this;l.extend(x,w,{order:0,className:'cke_button_'+v});x.group=u._.menuGroups[x.group];x.editor=u;x.name=v;},proto:{render:function(u,v,w){var D=this;var x=u.id+String(v),y=typeof D.state=='undefined'?2:D.state,z=' cke_'+(y==1?'on':y==0?'disabled':'off'),A=D.label;if(D.className)z+=' '+D.className;var B=D.getItems;w.push('<span class="cke_menuitem'+(D.icon&&D.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">'+'<a id="',x,'" class="',z,'" href="javascript:void(\'',(D.label||'').replace("'",''),'\')" title="',D.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(B?'aria-haspopup="true"':'')+(y==0?'aria-disabled="true"':'')+(y==1?'aria-pressed="true"':''));if(i.opera||i.gecko&&i.mac)w.push(' onkeypress="return false;"');if(i.gecko)w.push(' onblur="this.style.cssText = this.style.cssText;"');
var C=(D.iconOffset||0)*-16;w.push(' onmouseover="CKEDITOR.tools.callFunction(',u._.itemOverFn,',',v,');" onmouseout="CKEDITOR.tools.callFunction(',u._.itemOutFn,',',v,');" '+(j?'onclick="return false;" onmouseup':'onclick')+'="CKEDITOR.tools.callFunction(',u._.itemClickFn,',',v,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(D.icon?' style="background-image:url('+h.getUrl(D.icon)+');background-position:0 '+C+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(B)w.push('<span class="cke_menuarrow">','<span>&#',D.editor.lang.dir=='rtl'?'9668':'9658',';</span>','</span>');w.push(A,'</span></a></span>');}}});})();p.menu_groups='clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';(function(){var t;q.add('editingblock',{init:function(u){if(!u.config.editingBlock)return;u.on('themeSpace',function(v){if(v.data.space=='contents')v.data.html+='<br>';});u.on('themeLoaded',function(){u.fireOnce('editingBlockReady');});u.on('uiReady',function(){u.setMode(u.config.startupMode);});u.on('afterSetData',function(){if(!t){function v(){t=true;u.getMode().loadData(u.getData());t=false;};if(u.mode)v();else u.on('mode',function(){if(u.mode){v();u.removeListener('mode',arguments.callee);}});}});u.on('beforeGetData',function(){if(!t&&u.mode){t=true;u.setData(u.getMode().getData(),null,1);t=false;}});u.on('getSnapshot',function(v){if(u.mode)v.data=u.getMode().getSnapshotData();});u.on('loadSnapshot',function(v){if(u.mode)u.getMode().loadSnapshotData(v.data);});u.on('mode',function(v){v.removeListener();i.webkit&&u.container.on('focus',function(){u.focus();});if(u.config.startupFocus)u.focus();setTimeout(function(){u.fireOnce('instanceReady');h.fire('instanceReady',null,u);},0);});u.on('destroy',function(){var v=this;if(v.mode)v._.modes[v.mode].unload(v.getThemeSpace('contents'));});}});h.editor.prototype.mode='';h.editor.prototype.addMode=function(u,v){v.name=u;(this._.modes||(this._.modes={}))[u]=v;};h.editor.prototype.setMode=function(u){this.fire('beforeSetMode',{newMode:u});var v,w=this.getThemeSpace('contents'),x=this.checkDirty();if(this.mode){if(u==this.mode)return;this._.previousMode=this.mode;this.fire('beforeModeUnload');var y=this.getMode();v=y.getData();y.unload(w);this.mode='';}w.setHtml('');var z=this.getMode(u);if(!z)throw '[CKEDITOR.editor.setMode] Unknown mode "'+u+'".';if(!x)this.on('mode',function(){this.resetDirty();
this.removeListener('mode',arguments.callee);});z.load(w,typeof v!='string'?this.getData():v);};h.editor.prototype.getMode=function(u){return this._.modes&&this._.modes[u||this.mode];};h.editor.prototype.focus=function(){this.forceNextSelectionCheck();var u=this.getMode();if(u)u.focus();};})();p.startupMode='wysiwyg';p.editingBlock=true;(function(){function t(){var N=this;try{var K=N.getSelection();if(!K||!K.document.getWindow().$)return;var L=K.getStartElement(),M=new k.elementPath(L);if(!M.compare(N._.selectionPreviousPath)){N._.selectionPreviousPath=M;N.fire('selectionChange',{selection:K,path:M,element:L});}}catch(O){}};var u,v;function w(){v=true;if(u)return;x.call(this);u=l.setTimeout(x,200,this);};function x(){u=null;if(v){l.setTimeout(t,0,this);v=false;}};function y(K){function L(P,Q){if(!P||P.type==3)return false;var R=K.clone();return R['moveToElementEdit'+(Q?'End':'Start')](P);};var M=K.startContainer,N=K.getPreviousNode(H,null,M),O=K.getNextNode(H,null,M);if(L(N)||L(O,1))return true;if(!(N||O)&&!(M.type==1&&M.isBlockBoundary()&&M.getBogus()))return true;return false;};var z={modes:{wysiwyg:1,source:1},readOnly:j||i.webkit,exec:function(K){switch(K.mode){case 'wysiwyg':K.document.$.execCommand('SelectAll',false,null);K.forceNextSelectionCheck();K.selectionChange();break;case 'source':var L=K.textarea.$;if(j)L.createTextRange().execCommand('SelectAll');else{L.selectionStart=0;L.selectionEnd=L.value.length;}L.focus();}},canUndo:false};function A(K){D(K);var L=K.createText('​');K.setCustomData('cke-fillingChar',L);return L;};function B(K){return K&&K.getCustomData('cke-fillingChar');};function C(K){var L=K&&B(K);if(L)if(L.getCustomData('ready'))D(K);else L.setCustomData('ready',1);};function D(K){var L=K&&K.removeCustomData('cke-fillingChar');if(L){var M,N=K.getSelection().getNative(),O=N&&N.type!='None'&&N.getRangeAt(0);if(L.getLength()>1&&O&&O.intersectsNode(L.$)){M=[N.anchorOffset,N.focusOffset];var P=N.anchorNode==L.$&&N.anchorOffset>0,Q=N.focusNode==L.$&&N.focusOffset>0;P&&M[0]--;Q&&M[1]--;E(N)&&M.unshift(M.pop());}L.setText(L.getText().replace(/\u200B/g,''));if(M){var R=N.getRangeAt(0);R.setStart(R.startContainer,M[0]);R.setEnd(R.startContainer,M[1]);N.removeAllRanges();N.addRange(R);}}};function E(K){if(!K.isCollapsed){var L=K.getRangeAt(0);L.setStart(K.anchorNode,K.anchorOffset);L.setEnd(K.focusNode,K.focusOffset);return L.collapsed;}};q.add('selection',{init:function(K){if(i.webkit){K.on('selectionChange',function(){C(K.document);});K.on('beforeSetMode',function(){D(K.document);
});var L,M;function N(){var P=K.document,Q=B(P);if(Q){var R=P.$.defaultView.getSelection();if(R.type=='Caret'&&R.anchorNode==Q.$)M=1;L=Q.getText();Q.setText(L.replace(/\u200B/g,''));}};function O(){var P=K.document,Q=B(P);if(Q){Q.setText(L);if(M){P.$.defaultView.getSelection().setPosition(Q.$,Q.getLength());M=0;}}};K.on('beforeUndoImage',N);K.on('afterUndoImage',O);K.on('beforeGetData',N,null,null,0);K.on('getData',O);}K.on('contentDom',function(){var P=K.document,Q=h.document,R=P.getBody(),S=P.getDocumentElement();if(j){var T,U,V=1;R.on('focusin',function(ac){if(ac.data.$.srcElement.nodeName!='BODY')return;var ad=P.getCustomData('cke_locked_selection');if(ad){ad.unlock(1);ad.lock();}else if(T&&V){try{T.select();}catch(ae){}T=null;}});R.on('focus',function(){U=1;ab();});R.on('beforedeactivate',function(ac){if(ac.data.$.toElement)return;U=0;V=1;});j&&K.on('blur',function(){try{P.$.selection.empty();}catch(ac){}});S.on('mousedown',function(){V=0;});S.on('mouseup',function(){V=1;});var W;R.on('mousedown',function(ac){if(ac.data.$.button==2){var ad=K.document.$.selection;if(ad.type=='None')W=K.window.getScrollPosition();}aa();});R.on('mouseup',function(ac){if(ac.data.$.button==2&&W){K.document.$.documentElement.scrollLeft=W.x;K.document.$.documentElement.scrollTop=W.y;}W=null;U=1;setTimeout(function(){ab(true);},0);});R.on('keydown',aa);R.on('keyup',function(){U=1;ab();});if(P.$.compatMode!='BackCompat'){if(i.ie7Compat||i.ie6Compat){function X(ac,ad,ae){try{ac.moveToPoint(ad,ae);}catch(af){}};S.on('mousedown',function(ac){function ad(ai){ai=ai.data.$;if(ag){var aj=R.$.createTextRange();X(aj,ai.x,ai.y);ag.setEndPoint(ah.compareEndPoints('StartToStart',aj)<0?'EndToEnd':'StartToStart',aj);ag.select();}};function ae(){Q.removeListener('mouseup',af);S.removeListener('mouseup',af);};function af(){S.removeListener('mousemove',ad);ae();ag.select();};ac=ac.data;if(ac.getTarget().is('html')&&ac.$.x<S.$.clientWidth&&ac.$.y<S.$.clientHeight){var ag=R.$.createTextRange();X(ag,ac.$.x,ac.$.y);var ah=ag.duplicate();S.on('mousemove',ad);Q.on('mouseup',af);S.on('mouseup',af);}});}if(i.ie8){S.on('mousedown',function(ac){if(ac.data.getTarget().is('html')){Q.on('mouseup',Z);S.on('mouseup',Z);}});function Y(){Q.removeListener('mouseup',Z);S.removeListener('mouseup',Z);};function Z(){Y();var ac=h.document.$.selection,ad=ac.createRange();if(ac.type!='None'&&ad.parentElement().ownerDocument==P.$)ad.select();};}}P.on('selectionchange',ab);function aa(){U=0;};function ab(ac){if(U){var ad=K.document,ae=K.getSelection(),af=ae&&ae.getNative();
if(ac&&af&&af.type=='None')if(!ad.$.queryCommandEnabled('InsertImage')){l.setTimeout(ab,50,this,true);return;}var ag;if(af&&af.type&&af.type!='Control'&&(ag=af.createRange())&&(ag=ag.parentElement())&&(ag=ag.nodeName)&&ag.toLowerCase() in {input:1,textarea:1})return;try{T=af&&ae.getRanges()[0];}catch(ah){}w.call(K);}};}else{P.on('mouseup',w,K);P.on('keyup',w,K);P.on('selectionchange',w,K);}if(i.webkit)P.on('keydown',function(ac){var ad=ac.data.getKey();switch(ad){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:D(K.document);}},null,null,-1);});K.on('contentDomUnload',K.forceNextSelectionCheck,K);K.addCommand('selectAll',z);K.ui.addButton('SelectAll',{label:K.lang.selectAll,command:'selectAll'});K.selectionChange=function(P){(P?t:w).call(this);};i.ie9Compat&&K.on('destroy',function(){var P=K.getSelection();P&&P.getNative().clear();},null,null,9);}});h.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection();};h.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};n.prototype.getSelection=function(){var K=new k.selection(this);return!K||K.isInvalid?null:K;};h.SELECTION_NONE=1;h.SELECTION_TEXT=2;h.SELECTION_ELEMENT=3;k.selection=function(K){var N=this;var L=K.getCustomData('cke_locked_selection');if(L)return L;N.document=K;N.isLocked=0;N._={cache:{}};if(j)try{var M=N.getNative().createRange();if(!M||M.item&&M.item(0).ownerDocument!=N.document.$||M.parentElement&&M.parentElement().ownerDocument!=N.document.$)throw 0;}catch(O){N.isInvalid=true;}return N;};var F={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};k.selection.prototype={getNative:j?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:j?function(){var K=this._.cache;if(K.type)return K.type;var L=1;try{var M=this.getNative(),N=M.type;if(N=='Text')L=2;if(N=='Control')L=3;if(M.createRange().parentElement)L=2;}catch(O){}return K.type=L;}:function(){var K=this._.cache;if(K.type)return K.type;var L=2,M=this.getNative();if(!M)L=1;else if(M.rangeCount==1){var N=M.getRangeAt(0),O=N.startContainer;if(O==N.endContainer&&O.nodeType==1&&N.endOffset-N.startOffset==1&&F[O.childNodes[N.startOffset].nodeName.toLowerCase()])L=3;}return K.type=L;},getRanges:(function(){var K=j?(function(){function L(N){return new k.node(N).getIndex();
};var M=function(N,O){N=N.duplicate();N.collapse(O);var P=N.parentElement(),Q=P.ownerDocument;if(!P.hasChildNodes())return{container:P,offset:0};var R=P.children,S,T,U=N.duplicate(),V=0,W=R.length-1,X=-1,Y,Z,aa;while(V<=W){X=Math.floor((V+W)/2);S=R[X];U.moveToElementText(S);Y=U.compareEndPoints('StartToStart',N);if(Y>0)W=X-1;else if(Y<0)V=X+1;else if(i.ie9Compat&&S.tagName=='BR'){var ab=Q.defaultView.getSelection();return{container:ab[O?'anchorNode':'focusNode'],offset:ab[O?'anchorOffset':'focusOffset']};}else return{container:P,offset:L(S)};}if(X==-1||X==R.length-1&&Y<0){U.moveToElementText(P);U.setEndPoint('StartToStart',N);Z=U.text.replace(/(\r\n|\r)/g,'\n').length;R=P.childNodes;if(!Z){S=R[R.length-1];if(S.nodeType!=3)return{container:P,offset:R.length};else return{container:S,offset:S.nodeValue.length};}var ac=R.length;while(Z>0&&ac>0){T=R[--ac];if(T.nodeType==3){aa=T;Z-=T.nodeValue.length;}}return{container:aa,offset:-Z};}else{U.collapse(Y>0?true:false);U.setEndPoint(Y>0?'StartToStart':'EndToStart',N);Z=U.text.replace(/(\r\n|\r)/g,'\n').length;if(!Z)return{container:P,offset:L(S)+(Y>0?0:1)};while(Z>0)try{T=S[Y>0?'previousSibling':'nextSibling'];if(T.nodeType==3){Z-=T.nodeValue.length;aa=T;}S=T;}catch(ad){return{container:P,offset:L(S)};}return{container:aa,offset:Y>0?-Z:aa.nodeValue.length+Z};}};return function(){var X=this;var N=X.getNative(),O=N&&N.createRange(),P=X.getType(),Q;if(!N)return[];if(P==2){Q=new k.range(X.document);var R=M(O,true);Q.setStart(new k.node(R.container),R.offset);R=M(O);Q.setEnd(new k.node(R.container),R.offset);if(Q.endContainer.getPosition(Q.startContainer)&4&&Q.endOffset<=Q.startContainer.getIndex())Q.collapse();return[Q];}else if(P==3){var S=[];for(var T=0;T<O.length;T++){var U=O.item(T),V=U.parentNode,W=0;Q=new k.range(X.document);for(;W<V.childNodes.length&&V.childNodes[W]!=U;W++){}Q.setStart(new k.node(V),W);Q.setEnd(new k.node(V),W+1);S.push(Q);}return S;}return[];};})():function(){var L=[],M,N=this.document,O=this.getNative();if(!O)return L;if(!O.rangeCount){M=new k.range(N);M.moveToElementEditStart(N.getBody());L.push(M);}for(var P=0;P<O.rangeCount;P++){var Q=O.getRangeAt(P);M=new k.range(N);M.setStart(new k.node(Q.startContainer),Q.startOffset);M.setEnd(new k.node(Q.endContainer),Q.endOffset);L.push(M);}return L;};return function(L){var M=this._.cache;if(M.ranges&&!L)return M.ranges;else if(!M.ranges)M.ranges=new k.rangeList(K.call(this));if(L){var N=M.ranges;for(var O=0;O<N.length;O++){var P=N[O],Q=P.getCommonAncestor();
if(Q.isReadOnly())N.splice(O,1);if(P.collapsed)continue;if(P.startContainer.isReadOnly()){var R=P.startContainer;while(R){if(R.is('body')||!R.isReadOnly())break;if(R.type==1&&R.getAttribute('contentEditable')=='false')P.setStartAfter(R);R=R.getParent();}}var S=P.startContainer,T=P.endContainer,U=P.startOffset,V=P.endOffset,W=P.clone();if(S&&S.type==3)if(U>=S.getLength())W.setStartAfter(S);else W.setStartBefore(S);if(T&&T.type==3)if(!V)W.setEndBefore(T);else W.setEndAfter(T);var X=new k.walker(W);X.evaluator=function(Y){if(Y.type==1&&Y.isReadOnly()){var Z=P.clone();P.setEndBefore(Y);if(P.collapsed)N.splice(O--,1);if(!(Y.getPosition(W.endContainer)&16)){Z.setStartAfter(Y);if(!Z.collapsed)N.splice(O+1,0,Z);}return true;}return false;};X.next();}}return M.ranges;};})(),getStartElement:function(){var R=this;var K=R._.cache;if(K.startElement!==undefined)return K.startElement;var L,M=R.getNative();switch(R.getType()){case 3:return R.getSelectedElement();case 2:var N=R.getRanges()[0];if(N){if(!N.collapsed){N.optimize();while(1){var O=N.startContainer,P=N.startOffset;if(P==(O.getChildCount?O.getChildCount():O.getLength())&&!O.isBlockBoundary())N.setStartAfter(O);else break;}L=N.startContainer;if(L.type!=1)return L.getParent();L=L.getChild(N.startOffset);if(!L||L.type!=1)L=N.startContainer;else{var Q=L.getFirst();while(Q&&Q.type==1){L=Q;Q=Q.getFirst();}}}else{L=N.startContainer;if(L.type!=1)L=L.getParent();}L=L.$;}}return K.startElement=L?new o(L):null;},getSelectedElement:function(){var K=this._.cache;if(K.selectedElement!==undefined)return K.selectedElement;var L=this,M=l.tryThese(function(){return L.getNative().createRange().item(0);},function(){var N,O,P=L.getRanges()[0],Q=P.getCommonAncestor(1,1),R={table:1,ul:1,ol:1,dl:1};for(var S in R){if(N=Q.getAscendant(S,1))break;}if(N){var T=new k.range(this.document);T.setStartAt(N,1);T.setEnd(P.startContainer,P.startOffset);var U=l.extend(R,m.$listItem,m.$tableContent),V=new k.walker(T),W=function(X,Y){return function(Z,aa){if(Z.type==3&&(!l.trim(Z.getText())||Z.getParent().data('cke-bookmark')))return true;var ab;if(Z.type==1){ab=Z.getName();if(ab=='br'&&Y&&Z.equals(Z.getParent().getBogus()))return true;if(aa&&ab in U||ab in m.$removeEmpty)return true;}X.halted=1;return false;};};V.guard=W(V);if(V.checkBackward()&&!V.halted){V=new k.walker(T);T.setStart(P.endContainer,P.endOffset);T.setEndAt(N,2);V.guard=W(V,1);if(V.checkForward()&&!V.halted)O=N.$;}}if(!O)throw 0;return O;},function(){var N=L.getRanges()[0],O,P;for(var Q=2;
Q&&!((O=N.getEnclosedNode())&&O.type==1&&F[O.getName()]&&(P=O));Q--)N.shrink(1);return P.$;});return K.selectedElement=M?new o(M):null;},getSelectedText:function(){var K=this._.cache;if(K.selectedText!==undefined)return K.selectedText;var L='',M=this.getNative();if(this.getType()==2)L=j?M.createRange().text:M.toString();return K.selectedText=L;},lock:function(){var K=this;K.getRanges();K.getStartElement();K.getSelectedElement();K.getSelectedText();K._.cache.nativeSel={};K.isLocked=1;K.document.setCustomData('cke_locked_selection',K);},unlock:function(K){var P=this;var L=P.document,M=L.getCustomData('cke_locked_selection');if(M){L.setCustomData('cke_locked_selection',null);if(K){var N=M.getSelectedElement(),O=!N&&M.getRanges();P.isLocked=0;P.reset();if(N)P.selectElement(N);else P.selectRanges(O);}}if(!M||!K){P.isLocked=0;P.reset();}},reset:function(){this._.cache={};},selectElement:function(K){var M=this;if(M.isLocked){var L=new k.range(M.document);L.setStartBefore(K);L.setEndAfter(K);M._.cache.selectedElement=K;M._.cache.startElement=K;M._.cache.ranges=new k.rangeList(L);M._.cache.type=3;return;}L=new k.range(K.getDocument());L.setStartBefore(K);L.setEndAfter(K);L.select();M.document.fire('selectionchange');M.reset();},selectRanges:function(K){var Y=this;if(Y.isLocked){Y._.cache.selectedElement=null;Y._.cache.startElement=K[0]&&K[0].getTouchedStartNode();Y._.cache.ranges=new k.rangeList(K);Y._.cache.type=2;return;}if(j){if(K.length>1){var L=K[K.length-1];K[0].setEnd(L.endContainer,L.endOffset);K.length=1;}if(K[0])K[0].select();Y.reset();}else{var M=Y.getNative();if(!M)return;if(K.length){M.removeAllRanges();i.webkit&&D(Y.document);}for(var N=0;N<K.length;N++){if(N<K.length-1){var O=K[N],P=K[N+1],Q=O.clone();Q.setStart(O.endContainer,O.endOffset);Q.setEnd(P.startContainer,P.startOffset);if(!Q.collapsed){Q.shrink(1,true);var R=Q.getCommonAncestor(),S=Q.getEnclosedNode();if(R.isReadOnly()||S&&S.isReadOnly()){P.setStart(O.startContainer,O.startOffset);K.splice(N--,1);continue;}}}var T=K[N],U=Y.document.$.createRange(),V=T.startContainer;if(T.collapsed&&(i.opera||i.gecko&&i.version<10900)&&V.type==1&&!V.getChildCount())V.appendText('');if(T.collapsed&&i.webkit&&y(T)){var W=A(Y.document);T.insertNode(W);var X=W.getNext();if(X&&!W.getPrevious()&&X.type==1&&X.getName()=='br'){D(Y.document);T.moveToPosition(X,3);}else T.moveToPosition(W,4);}U.setStart(T.startContainer.$,T.startOffset);try{U.setEnd(T.endContainer.$,T.endOffset);}catch(Z){if(Z.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){T.collapse(1);
U.setEnd(T.endContainer.$,T.endOffset);}else throw Z;}M.addRange(U);}Y.document.fire('selectionchange');Y.reset();}},createBookmarks:function(K){return this.getRanges().createBookmarks(K);},createBookmarks2:function(K){return this.getRanges().createBookmarks2(K);},selectBookmarks:function(K){var L=[];for(var M=0;M<K.length;M++){var N=new k.range(this.document);N.moveToBookmark(K[M]);L.push(N);}this.selectRanges(L);return this;},getCommonAncestor:function(){var K=this.getRanges(),L=K[0].startContainer,M=K[K.length-1].endContainer;return L.getCommonAncestor(M);},scrollIntoView:function(){var K=this.getStartElement();K.scrollIntoView();}};var G=k.walker.whitespaces(true),H=k.walker.invisible(1),I=/\ufeff|\u00a0/,J={table:1,tbody:1,tr:1};k.range.prototype.select=j?function(K){var V=this;var L=V.collapsed,M,N,O,P=V.getEnclosedNode();if(P)try{O=V.document.$.body.createControlRange();O.addElement(P.$);O.select();return;}catch(W){}if(V.startContainer.type==1&&V.startContainer.getName() in J||V.endContainer.type==1&&V.endContainer.getName() in J)V.shrink(1,true);var Q=V.createBookmark(),R=Q.startNode,S;if(!L)S=Q.endNode;O=V.document.$.body.createTextRange();O.moveToElementText(R.$);O.moveStart('character',1);if(S){var T=V.document.$.body.createTextRange();T.moveToElementText(S.$);O.setEndPoint('EndToEnd',T);O.moveEnd('character',-1);}else{var U=R.getNext(G);M=!(U&&U.getText&&U.getText().match(I))&&(K||!R.hasPrevious()||R.getPrevious().is&&R.getPrevious().is('br'));N=V.document.createElement('span');N.setHtml('&#65279;');N.insertBefore(R);if(M)V.document.createText('\ufeff').insertBefore(R);}V.setStartBefore(R);R.remove();if(L){if(M){O.moveStart('character',-1);O.select();V.document.$.selection.clear();}else O.select();V.moveToPosition(N,3);N.remove();}else{V.setEndBefore(S);S.remove();O.select();}V.document.fire('selectionchange');}:function(){this.document.getSelection().selectRanges([this]);};})();(function(){var t=h.htmlParser.cssStyle,u=l.cssLength,v=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i;function w(y,z){var A=v.exec(y),B=v.exec(z);if(A){if(!A[2]&&B[2]=='px')return B[1];if(A[2]=='px'&&!B[2])return B[1]+'px';}return z;};var x={elements:{$:function(y){var z=y.attributes,A=z&&z['data-cke-realelement'],B=A&&new h.htmlParser.fragment.fromHtml(decodeURIComponent(A)),C=B&&B.children[0];if(C&&y.attributes['data-cke-resizable']){var D=new t(y).rules,E=C.attributes,F=D.width,G=D.height;F&&(E.width=w(E.width,F));G&&(E.height=w(E.height,G));}return C;}}};q.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(y){var z=y.dataProcessor,A=z&&z.htmlFilter;
if(A)A.addRules(x);}});h.editor.prototype.createFakeElement=function(y,z,A,B){var C=this.lang.fakeobjects,D=C[A]||C.unknown,E={'class':z,'data-cke-realelement':encodeURIComponent(y.getOuterHtml()),'data-cke-real-node-type':y.type,alt:D,title:D,align:y.getAttribute('align')||''};if(!i.hc)E.src=h.getUrl('images/spacer.gif');if(A)E['data-cke-real-element-type']=A;if(B){E['data-cke-resizable']=B;var F=new t(),G=y.getAttribute('width'),H=y.getAttribute('height');G&&(F.rules.width=u(G));H&&(F.rules.height=u(H));F.populate(E);}return this.document.createElement('img',{attributes:E});};h.editor.prototype.createFakeParserElement=function(y,z,A,B){var C=this.lang.fakeobjects,D=C[A]||C.unknown,E,F=new h.htmlParser.basicWriter();y.writeHtml(F);E=F.getHtml();var G={'class':z,'data-cke-realelement':encodeURIComponent(E),'data-cke-real-node-type':y.type,alt:D,title:D,align:y.attributes.align||''};if(!i.hc)G.src=h.getUrl('images/spacer.gif');if(A)G['data-cke-real-element-type']=A;if(B){G['data-cke-resizable']=B;var H=y.attributes,I=new t(),J=H.width,K=H.height;J!=undefined&&(I.rules.width=u(J));K!=undefined&&(I.rules.height=u(K));I.populate(G);}return new h.htmlParser.element('img',G);};h.editor.prototype.restoreRealElement=function(y){if(y.data('cke-real-node-type')!=1)return null;var z=o.createFromHtml(decodeURIComponent(y.data('cke-realelement')),this.document);if(y.data('cke-resizable')){var A=y.getStyle('width'),B=y.getStyle('height');A&&z.setAttribute('width',w(z.getAttribute('width'),A));B&&z.setAttribute('height',w(z.getAttribute('height'),B));}return z;};})();q.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(t){t.ui.addHandler(3,r.richCombo.handler);}});h.UI_RICHCOMBO='richcombo';r.richCombo=l.createClass({$:function(t){var v=this;l.extend(v,t,{title:t.label,modes:{wysiwyg:1}});var u=v.panel||{};delete v.panel;v.id=l.getNextNumber();v.document=u&&u.parent&&u.parent.getDocument()||h.document;u.className=(u.className||'')+' cke_rcombopanel';u.block={multiSelect:u.multiSelect,attributes:u.attributes};v._={panelDefinition:u,items:{},state:2};},statics:{handler:{create:function(t){return new r.richCombo(t);}}},proto:{renderHtml:function(t){var u=[];this.render(t,u);return u.join('');},render:function(t,u){var v=i,w='cke_'+this.id,x=l.addFunction(function(C){var F=this;var D=F._;if(D.state==0)return;F.createPanel(t);if(D.on){D.panel.hide();return;}F.commit();var E=F.getValue();if(E)D.list.mark(E);else D.list.unmarkAll();D.panel.showBlock(F.id,new o(C),4);
},this),y={id:w,combo:this,focus:function(){var C=h.document.getById(w).getChild(1);C.focus();},clickFn:x};function z(){var D=this;var C=D.modes[t.mode]?2:0;D.setState(t.readOnly&&!D.readOnly?0:C);D.setValue('');};t.on('mode',z,this);!this.readOnly&&t.on('readOnly',z,this);var A=l.addFunction(function(C,D){C=new k.event(C);var E=C.getKeystroke();switch(E){case 13:case 32:case 40:l.callFunction(x,D);break;default:y.onkey(y,E);}C.preventDefault();}),B=l.addFunction(function(){y.onfocus&&y.onfocus();});y.keyDownFn=A;u.push('<span class="cke_rcombo" role="presentation">','<span id=',w);if(this.className)u.push(' class="',this.className,' cke_off"');u.push(' role="presentation">','<span id="'+w+'_label" class=cke_label>',this.label,'</span>','<a hidefocus=true title="',this.title,'" tabindex="-1"',v.gecko&&v.version>=10900&&!v.hc?'':" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',w,'_label" aria-describedby="',w,'_text" aria-haspopup="true"');if(i.opera||i.gecko&&i.mac)u.push(' onkeypress="return false;"');if(i.gecko)u.push(' onblur="this.style.cssText = this.style.cssText;"');u.push(' onkeydown="CKEDITOR.tools.callFunction( ',A,', event, this );" onfocus="return CKEDITOR.tools.callFunction(',B,', event);" '+(j?'onclick="return false;" onmouseup':'onclick')+'="CKEDITOR.tools.callFunction(',x,', this); return false;"><span><span id="'+w+'_text" class="cke_text cke_inline_label">'+this.label+'</span>'+'</span>'+'<span class=cke_openbutton><span class=cke_icon>'+(i.hc?'&#9660;':i.air?'&nbsp;':'')+'</span></span>'+'</a>'+'</span>'+'</span>');if(this.onRender)this.onRender();return y;},createPanel:function(t){if(this._.panel)return;var u=this._.panelDefinition,v=this._.panelDefinition.block,w=u.parent||h.document.getBody(),x=new r.floatPanel(t,w,u),y=x.addListBlock(this.id,v),z=this;x.onShow=function(){if(z.className)this.element.getFirst().addClass(z.className+'_panel');z.setState(1);y.focus(!z.multiSelect&&z.getValue());z._.on=1;if(z.onOpen)z.onOpen();};x.onHide=function(A){if(z.className)this.element.getFirst().removeClass(z.className+'_panel');z.setState(z.modes&&z.modes[t.mode]?2:0);z._.on=0;if(!A&&z.onClose)z.onClose();};x.onEscape=function(){x.hide();};y.onClick=function(A,B){z.document.getWindow().focus();if(z.onClick)z.onClick.call(z,A,B);if(B)z.setValue(A,z._.items[A]);else z.setValue('');x.hide(false);};this._.panel=x;this._.list=y;x.getBlock(this.id).onHide=function(){z._.on=0;z.setState(2);};if(this.init)this.init();},setValue:function(t,u){var w=this;
w._.value=t;var v=w.document.getById('cke_'+w.id+'_text');if(v){if(!(t||u)){u=w.label;v.addClass('cke_inline_label');}else v.removeClass('cke_inline_label');v.setHtml(typeof u!='undefined'?u:t);}},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(t){this._.list.mark(t);},hideItem:function(t){this._.list.hideItem(t);},hideGroup:function(t){this._.list.hideGroup(t);},showAll:function(){this._.list.showAll();},add:function(t,u,v){this._.items[t]=v||t;this._.list.add(t,u,v);},startGroup:function(t){this._.list.startGroup(t);},commit:function(){var t=this;if(!t._.committed){t._.list.commit();t._.committed=1;r.fire('ready',t);}t._.committed=1;},setState:function(t){var u=this;if(u._.state==t)return;u.document.getById('cke_'+u.id).setState(t);u._.state=t;}}});r.prototype.addRichCombo=function(t,u){this.add(t,3,u);};q.add('htmlwriter');h.htmlWriter=l.createClass({base:h.htmlParser.basicWriter,$:function(){var v=this;v.base();v.indentationChars='\t';v.selfClosingEnd=' />';v.lineBreakChars='\n';v.forceSimpleAmpersand=0;v.sortAttributes=1;v._.indent=0;v._.indentation='';v._.inPre=0;v._.rules={};var t=m;for(var u in l.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))v.setRules(u,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!t[u]['#'],breakAfterClose:1});v.setRules('br',{breakAfterOpen:1});v.setRules('title',{indent:0,breakAfterOpen:0});v.setRules('style',{indent:0,breakBeforeClose:1});v.setRules('pre',{indent:0});},proto:{openTag:function(t,u){var w=this;var v=w._.rules[t];if(w._.indent)w.indentation();else if(v&&v.breakBeforeOpen){w.lineBreak();w.indentation();}w._.output.push('<',t);},openTagClose:function(t,u){var w=this;var v=w._.rules[t];if(u)w._.output.push(w.selfClosingEnd);else{w._.output.push('>');if(v&&v.indent)w._.indentation+=w.indentationChars;}if(v&&v.breakAfterOpen)w.lineBreak();t=='pre'&&(w._.inPre=1);},attribute:function(t,u){if(typeof u=='string'){this.forceSimpleAmpersand&&(u=u.replace(/&amp;/g,'&'));u=l.htmlEncodeAttr(u);}this._.output.push(' ',t,'="',u,'"');},closeTag:function(t){var v=this;var u=v._.rules[t];if(u&&u.indent)v._.indentation=v._.indentation.substr(v.indentationChars.length);if(v._.indent)v.indentation();else if(u&&u.breakBeforeClose){v.lineBreak();v.indentation();}v._.output.push('</',t,'>');t=='pre'&&(v._.inPre=0);if(u&&u.breakAfterClose)v.lineBreak();},text:function(t){var u=this;if(u._.indent){u.indentation();!u._.inPre&&(t=l.ltrim(t));}u._.output.push(t);
},comment:function(t){if(this._.indent)this.indentation();this._.output.push('<!--',t,'-->');},lineBreak:function(){var t=this;if(!t._.inPre&&t._.output.length>0)t._.output.push(t.lineBreakChars);t._.indent=1;},indentation:function(){var t=this;if(!t._.inPre)t._.output.push(t._.indentation);t._.indent=0;},setRules:function(t,u){var v=this._.rules[t];if(v)l.extend(v,u,true);else this._.rules[t]=u;}}});q.add('menubutton',{requires:['button','menu'],beforeInit:function(t){t.ui.addHandler(5,r.menuButton.handler);}});h.UI_MENUBUTTON='menubutton';(function(){var t=function(u){var v=this._;if(v.state===0)return;v.previousState=v.state;var w=v.menu;if(!w){w=v.menu=new h.menu(u,{panel:{className:u.skinClass+' cke_contextmenu',attributes:{'aria-label':u.lang.common.options}}});w.onHide=l.bind(function(){this.setState(this.modes&&this.modes[u.mode]?v.previousState:0);},this);if(this.onMenu)w.addListener(this.onMenu);}if(v.on){w.hide();return;}this.setState(1);w.show(h.document.getById(this._.id),4);};r.menuButton=l.createClass({base:r.button,$:function(u){var v=u.panel;delete u.panel;this.base(u);this.hasArrow=true;this.click=t;},statics:{handler:{create:function(u){return new r.menuButton(u);}}}});})();q.add('dialogui');(function(){var t=function(B){var E=this;E._||(E._={});E._['default']=E._.initValue=B['default']||'';E._.required=B.required||false;var C=[E._];for(var D=1;D<arguments.length;D++)C.push(arguments[D]);C.push(true);l.extend.apply(l,C);return E._;},u={build:function(B,C,D){return new r.dialog.textInput(B,C,D);}},v={build:function(B,C,D){return new r.dialog[C.type](B,C,D);}},w={build:function(B,C,D){var E=C.children,F,G=[],H=[];for(var I=0;I<E.length&&(F=E[I]);I++){var J=[];G.push(J);H.push(h.dialog._.uiElementBuilders[F.type].build(B,F,J));}return new r.dialog[C.type](B,H,G,D,C);}},x={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(B){this.setValue(this.getInitValue(),B);},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},y=l.extend({},r.dialog.uiElement.prototype.eventProcessors,{onChange:function(B,C){if(!this._.domOnChangeRegistered){B.on('load',function(){this.getInputElement().on('change',function(){if(!B.parts.dialog.isVisible())return;this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',C);}},true),z=/^on([A-Z]\w+)/,A=function(B){for(var C in B){if(z.test(C)||C=='title'||C=='type')delete B[C];
}return B;};l.extend(r.dialog,{labeledElement:function(B,C,D,E){if(arguments.length<4)return;var F=t.call(this,C);F.labelId=l.getNextId()+'_label';var G=this._.children=[],H=function(){var I=[],J=C.required?' cke_required':'';if(C.labelLayout!='horizontal')I.push('<label class="cke_dialog_ui_labeled_label'+J+'" ',' id="'+F.labelId+'"',F.inputId?' for="'+F.inputId+'"':'',(C.labelStyle?' style="'+C.labelStyle+'"':'')+'>',C.label,'</label>','<div class="cke_dialog_ui_labeled_content"'+(C.controlStyle?' style="'+C.controlStyle+'"':'')+' role="presentation">',E.call(this,B,C),'</div>');else{var K={type:'hbox',widths:C.widths,padding:0,children:[{type:'html',html:'<label class="cke_dialog_ui_labeled_label'+J+'"'+' id="'+F.labelId+'"'+' for="'+F.inputId+'"'+(C.labelStyle?' style="'+C.labelStyle+'"':'')+'>'+l.htmlEncode(C.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content"'+(C.controlStyle?' style="'+C.controlStyle+'"':'')+'>'+E.call(this,B,C)+'</span>'}]};h.dialog._.uiElementBuilders.hbox.build(B,K,I);}return I.join('');};r.dialog.uiElement.call(this,B,C,D,'div',null,{role:'presentation'},H);},textInput:function(B,C,D){if(arguments.length<3)return;t.call(this,C);var E=this._.inputId=l.getNextId()+'_textInput',F={'class':'cke_dialog_ui_input_'+C.type,id:E,type:C.type},G;if(C.validate)this.validate=C.validate;if(C.maxLength)F.maxlength=C.maxLength;if(C.size)F.size=C.size;if(C.inputStyle)F.style=C.inputStyle;var H=function(){var I=['<div class="cke_dialog_ui_input_',C.type,'" role="presentation"'];if(C.width)I.push('style="width:'+C.width+'" ');I.push('><input ');F['aria-labelledby']=this._.labelId;this._.required&&(F['aria-required']=this._.required);for(var J in F)I.push(J+'="'+F[J]+'" ');I.push(' /></div>');return I.join('');};r.dialog.labeledElement.call(this,B,C,D,H);},textarea:function(B,C,D){if(arguments.length<3)return;t.call(this,C);var E=this,F=this._.inputId=l.getNextId()+'_textarea',G={};if(C.validate)this.validate=C.validate;G.rows=C.rows||5;G.cols=C.cols||20;if(typeof C.inputStyle!='undefined')G.style=C.inputStyle;var H=function(){G['aria-labelledby']=this._.labelId;this._.required&&(G['aria-required']=this._.required);var I=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',F,'" '];for(var J in G)I.push(J+'="'+l.htmlEncode(G[J])+'" ');I.push('>',l.htmlEncode(E._['default']),'</textarea></div>');return I.join('');};r.dialog.labeledElement.call(this,B,C,D,H);},checkbox:function(B,C,D){if(arguments.length<3)return;
var E=t.call(this,C,{'default':!!C['default']});if(C.validate)this.validate=C.validate;var F=function(){var G=l.extend({},C,{id:C.id?C.id+'_checkbox':l.getNextId()+'_checkbox'},true),H=[],I=l.getNextId()+'_label',J={'class':'cke_dialog_ui_checkbox_input',type:'checkbox','aria-labelledby':I};A(G);if(C['default'])J.checked='checked';if(typeof G.inputStyle!='undefined')G.style=G.inputStyle;E.checkbox=new r.dialog.uiElement(B,G,H,'input',null,J);H.push(' <label id="',I,'" for="',J.id,'"'+(C.labelStyle?' style="'+C.labelStyle+'"':'')+'>',l.htmlEncode(C.label),'</label>');return H.join('');};r.dialog.uiElement.call(this,B,C,D,'span',null,null,F);},radio:function(B,C,D){if(arguments.length<3)return;t.call(this,C);if(!this._['default'])this._['default']=this._.initValue=C.items[0][1];if(C.validate)this.validate=C.valdiate;var E=[],F=this,G=function(){var H=[],I=[],J={'class':'cke_dialog_ui_radio_item','aria-labelledby':this._.labelId},K=C.id?C.id+'_radio':l.getNextId()+'_radio';for(var L=0;L<C.items.length;L++){var M=C.items[L],N=M[2]!==undefined?M[2]:M[0],O=M[1]!==undefined?M[1]:M[0],P=l.getNextId()+'_radio_input',Q=P+'_label',R=l.extend({},C,{id:P,title:null,type:null},true),S=l.extend({},R,{title:N},true),T={type:'radio','class':'cke_dialog_ui_radio_input',name:K,value:O,'aria-labelledby':Q},U=[];if(F._['default']==O)T.checked='checked';A(R);A(S);if(typeof R.inputStyle!='undefined')R.style=R.inputStyle;E.push(new r.dialog.uiElement(B,R,U,'input',null,T));U.push(' ');new r.dialog.uiElement(B,S,U,'label',null,{id:Q,'for':T.id},M[0]);H.push(U.join(''));}new r.dialog.hbox(B,E,H,I);return I.join('');};r.dialog.labeledElement.call(this,B,C,D,G);this._.children=E;},button:function(B,C,D){if(!arguments.length)return;if(typeof C=='function')C=C(B.getParentEditor());t.call(this,C,{disabled:C.disabled||false});h.event.implementOn(this);var E=this;B.on('load',function(H){var I=this.getElement();(function(){I.on('click',function(J){E.fire('click',{dialog:E.getDialog()});J.data.preventDefault();});I.on('keydown',function(J){if(J.data.getKeystroke() in {32:1}){E.click();J.data.preventDefault();}});})();I.unselectable();},this);var F=l.extend({},C);delete F.style;var G=l.getNextId()+'_label';r.dialog.uiElement.call(this,B,F,D,'a',null,{style:C.style,href:'javascript:void(0)',title:C.label,hidefocus:'true','class':C['class'],role:'button','aria-labelledby':G},'<span id="'+G+'" class="cke_dialog_ui_button">'+l.htmlEncode(C.label)+'</span>');},select:function(B,C,D){if(arguments.length<3)return;
var E=t.call(this,C);if(C.validate)this.validate=C.validate;E.inputId=l.getNextId()+'_select';var F=function(){var G=l.extend({},C,{id:C.id?C.id+'_select':l.getNextId()+'_select'},true),H=[],I=[],J={id:E.inputId,'class':'cke_dialog_ui_input_select','aria-labelledby':this._.labelId};if(C.size!=undefined)J.size=C.size;if(C.multiple!=undefined)J.multiple=C.multiple;A(G);for(var K=0,L;K<C.items.length&&(L=C.items[K]);K++)I.push('<option value="',l.htmlEncode(L[1]!==undefined?L[1]:L[0]).replace(/"/g,'&quot;'),'" /> ',l.htmlEncode(L[0]));if(typeof G.inputStyle!='undefined')G.style=G.inputStyle;E.select=new r.dialog.uiElement(B,G,H,'select',null,J,I.join(''));return H.join('');};r.dialog.labeledElement.call(this,B,C,D,F);},file:function(B,C,D){if(arguments.length<3)return;if(C['default']===undefined)C['default']='';var E=l.extend(t.call(this,C),{definition:C,buttons:[]});if(C.validate)this.validate=C.validate;var F=function(){E.frameId=l.getNextId()+'_fileInput';var G=i.isCustomDomain(),H=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',E.frameId,'" title="',C.label,'" src="javascript:void('];H.push(G?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');H.push(')"></iframe>');return H.join('');};B.on('load',function(){var G=h.document.getById(E.frameId),H=G.getParent();H.addClass('cke_dialog_ui_input_file');});r.dialog.labeledElement.call(this,B,C,D,F);},fileButton:function(B,C,D){if(arguments.length<3)return;var E=t.call(this,C),F=this;if(C.validate)this.validate=C.validate;var G=l.extend({},C),H=G.onClick;G.className=(G.className?G.className+' ':'')+'cke_dialog_ui_button';G.onClick=function(I){var J=C['for'];if(!H||H.call(this,I)!==false){B.getContentElement(J[0],J[1]).submit();this.disable();}};B.on('load',function(){B.getContentElement(C['for'][0],C['for'][1])._.buttons.push(F);});r.dialog.button.call(this,B,G,D);},html:(function(){var B=/^\s*<[\w:]+\s+([^>]*)?>/,C=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,D=/\/$/;return function(E,F,G){if(arguments.length<3)return;var H=[],I,J=F.html,K,L;if(J.charAt(0)!='<')J='<span>'+J+'</span>';var M=F.focus;if(M){var N=this.focus;this.focus=function(){N.call(this);typeof M=='function'&&M.call(this);this.fire('focus');};if(F.isFocusable){var O=this.isFocusable;this.isFocusable=O;}this.keyboardFocusable=true;}r.dialog.uiElement.call(this,E,F,H,'span',null,null,'');I=H.join('');K=I.match(B);L=J.match(C)||['','',''];if(D.test(L[1])){L[1]=L[1].slice(0,-1);
L[2]='/'+L[2];}G.push([L[1],' ',K[1]||'',L[2]].join(''));};})(),fieldset:function(B,C,D,E,F){var G=F.label,H=function(){var I=[];G&&I.push('<legend'+(F.labelStyle?' style="'+F.labelStyle+'"':'')+'>'+G+'</legend>');for(var J=0;J<D.length;J++)I.push(D[J]);return I.join('');};this._={children:C};r.dialog.uiElement.call(this,B,F,E,'fieldset',null,null,H);}},true);r.dialog.html.prototype=new r.dialog.uiElement();r.dialog.labeledElement.prototype=l.extend(new r.dialog.uiElement(),{setLabel:function(B){var C=h.document.getById(this._.labelId);if(C.getChildCount()<1)new k.text(B,h.document).appendTo(C);else C.getChild(0).$.nodeValue=B;return this;},getLabel:function(){var B=h.document.getById(this._.labelId);if(!B||B.getChildCount()<1)return '';else return B.getChild(0).getText();},eventProcessors:y},true);r.dialog.button.prototype=l.extend(new r.dialog.uiElement(),{click:function(){var B=this;if(!B._.disabled)return B.fire('click',{dialog:B._.dialog});B.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var B=this.getElement();B&&B.removeClass('cke_disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('cke_disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},eventProcessors:l.extend({},r.dialog.uiElement.prototype.eventProcessors,{onClick:function(B,C){this.on('click',function(){this.getElement().focus();C.apply(this,arguments);});}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);r.dialog.textInput.prototype=l.extend(new r.dialog.labeledElement(),{getInputElement:function(){return h.document.getById(this._.inputId);},focus:function(){var B=this.selectParentTab();setTimeout(function(){var C=B.getInputElement();C&&C.$.focus();},0);},select:function(){var B=this.selectParentTab();setTimeout(function(){var C=B.getInputElement();if(C){C.$.focus();C.$.select();}},0);},accessKeyUp:function(){this.select();},setValue:function(B){!B&&(B='');return r.dialog.uiElement.prototype.setValue.apply(this,arguments);},keyboardFocusable:true},x,true);r.dialog.textarea.prototype=new r.dialog.textInput();r.dialog.select.prototype=l.extend(new r.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(B,C,D){var E=new o('option',this.getDialog().getParentEditor().document),F=this.getInputElement().$;E.$.text=B;E.$.value=C===undefined||C===null?B:C;if(D===undefined||D===null){if(j)F.add(E.$);
else F.add(E.$,null);}else F.add(E.$,D);return this;},remove:function(B){var C=this.getInputElement().$;C.remove(B);return this;},clear:function(){var B=this.getInputElement().$;while(B.length>0)B.remove(0);return this;},keyboardFocusable:true},x,true);r.dialog.checkbox.prototype=l.extend(new r.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(B,C){this.getInputElement().$.checked=B;!C&&this.fire('change',{value:B});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(B,C){if(!j||i.version>8)return y.onChange.apply(this,arguments);else{B.on('load',function(){var D=this._.checkbox.getElement();D.on('propertychange',function(E){E=E.data.$;if(E.propertyName=='checked')this.fire('change',{value:D.$.checked});},this);},this);this.on('change',C);}return null;}},keyboardFocusable:true},x,true);r.dialog.radio.prototype=l.extend(new r.dialog.uiElement(),{setValue:function(B,C){var D=this._.children,E;for(var F=0;F<D.length&&(E=D[F]);F++)E.getElement().$.checked=E.getValue()==B;!C&&this.fire('change',{value:B});},getValue:function(){var B=this._.children;for(var C=0;C<B.length;C++){if(B[C].getElement().$.checked)return B[C].getValue();}return null;},accessKeyUp:function(){var B=this._.children,C;for(C=0;C<B.length;C++){if(B[C].getElement().$.checked){B[C].getElement().focus();return;}}B[0].getElement().focus();},eventProcessors:{onChange:function(B,C){if(!j)return y.onChange.apply(this,arguments);else{B.on('load',function(){var D=this._.children,E=this;for(var F=0;F<D.length;F++){var G=D[F].getElement();G.on('propertychange',function(H){H=H.data.$;if(H.propertyName=='checked'&&this.$.checked)E.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',C);}return null;}},keyboardFocusable:true},x,true);r.dialog.file.prototype=l.extend(new r.dialog.labeledElement(),x,{getInputElement:function(){var B=h.document.getById(this._.frameId).getFrameDocument();return B.$.forms.length>0?new o(B.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},getAction:function(){return this.getInputElement().getParent().$.action;},registerEvents:function(B){var C=/^on([A-Z]\w+)/,D,E=function(G,H,I,J){G.on('formLoaded',function(){G.getInputElement().on(I,J,G);});};for(var F in B){if(!(D=F.match(C)))continue;if(this.eventProcessors[F])this.eventProcessors[F].call(this,this._.dialog,B[F]);
else E(this,this._.dialog,D[1].toLowerCase(),B[F]);}return this;},reset:function(){var B=this._,C=h.document.getById(B.frameId),D=C.getFrameDocument(),E=B.definition,F=B.buttons,G=this.formLoadedNumber,H=this.formUnloadNumber,I=B.dialog._.editor.lang.dir,J=B.dialog._.editor.langCode;if(!G){G=this.formLoadedNumber=l.addFunction(function(){this.fire('formLoaded');},this);H=this.formUnloadNumber=l.addFunction(function(){this.getInputElement().clearCustomData();},this);this.getDialog()._.editor.on('destroy',function(){l.removeFunction(G);l.removeFunction(H);});}function K(){D.$.open();if(i.isCustomDomain())D.$.domain=document.domain;var L='';if(E.size)L=E.size-(j?7:0);var M=B.frameId+'_input';D.$.write(['<html dir="'+I+'" lang="'+J+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+I+'" lang="'+J+'" action="',l.htmlEncode(E.action),'">','<label id="',B.labelId,'" for="',M,'" style="display:none">',l.htmlEncode(E.label),'</label>','<input id="',M,'" aria-labelledby="',B.labelId,'" type="file" name="',l.htmlEncode(E.id||'cke_upload'),'" size="',l.htmlEncode(L>0?L:''),'" />','</form>','</body></html>','<script>window.parent.CKEDITOR.tools.callFunction('+G+');','window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction('+H+')}</script>'].join(''));D.$.close();for(var N=0;N<F.length;N++)F[N].enable();};if(i.gecko)setTimeout(K,500);else K();},getValue:function(){return this.getInputElement().$.value||'';},setInitValue:function(){this._.initValue='';},eventProcessors:{onChange:function(B,C){if(!this._.domOnChangeRegistered){this.on('formLoaded',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',C);}},keyboardFocusable:true},true);r.dialog.fileButton.prototype=new r.dialog.button();r.dialog.fieldset.prototype=l.clone(r.dialog.hbox.prototype);h.dialog.addUIElement('text',u);h.dialog.addUIElement('password',u);h.dialog.addUIElement('textarea',v);h.dialog.addUIElement('checkbox',v);h.dialog.addUIElement('radio',v);h.dialog.addUIElement('button',v);h.dialog.addUIElement('select',v);h.dialog.addUIElement('file',v);h.dialog.addUIElement('fileButton',v);h.dialog.addUIElement('html',v);h.dialog.addUIElement('fieldset',w);})();q.add('panel',{beforeInit:function(t){t.ui.addHandler(2,r.panel.handler);}});h.UI_PANEL='panel';r.panel=function(t,u){var v=this;
if(u)l.extend(v,u);l.extend(v,{className:'',css:[]});v.id=l.getNextId();v.document=t;v._={blocks:{}};};r.panel.handler={create:function(t){return new r.panel(t);}};r.panel.prototype={renderHtml:function(t){var u=[];this.render(t,u);return u.join('');},render:function(t,u){var w=this;var v=w.id;u.push('<div class="',t.skinClass,'" lang="',t.langCode,'" role="presentation" style="display:none;z-index:'+(t.config.baseFloatZIndex+1)+'">'+'<div'+' id=',v,' dir=',t.lang.dir,' role="presentation" class="cke_panel cke_',t.lang.dir);if(w.className)u.push(' ',w.className);u.push('">');if(w.forceIFrame||w.css.length){u.push('<iframe id="',v,'_frame" frameborder="0" role="application" src="javascript:void(');u.push(i.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');u.push(')"></iframe>');}u.push('</div></div>');return v;},getHolderElement:function(){var t=this._.holder;if(!t){if(this.forceIFrame||this.css.length){var u=this.document.getById(this.id+'_frame'),v=u.getParent(),w=v.getAttribute('dir'),x=v.getParent().getAttribute('class'),y=v.getParent().getAttribute('lang'),z=u.getFrameDocument();i.iOS&&v.setStyles({overflow:'scroll','-webkit-overflow-scrolling':'touch'});var A=l.addFunction(l.bind(function(D){this.isLoaded=true;if(this.onLoad)this.onLoad();},this)),B='<!DOCTYPE html><html dir="'+w+'" class="'+x+'_container" lang="'+y+'">'+'<head>'+'<style>.'+x+'_container{visibility:hidden}</style>'+l.buildStyleHtml(this.css)+'</head>'+'<body class="cke_'+w+' cke_panel_frame '+i.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+A+');"></body>'+'</html>';z.write(B);var C=z.getWindow();C.$.CKEDITOR=h;z.on('key'+(i.opera?'press':'down'),function(D){var G=this;var E=D.data.getKeystroke(),F=G.document.getById(G.id).getAttribute('dir');if(G._.onKeyDown&&G._.onKeyDown(E)===false){D.data.preventDefault();return;}if(E==27||E==(F=='rtl'?39:37))if(G.onEscape&&G.onEscape(E)===false)D.data.preventDefault();},this);t=z.getBody();t.unselectable();i.air&&l.callFunction(A);}else t=this.document.getById(this.id);this._.holder=t;}return t;},addBlock:function(t,u){var v=this;u=v._.blocks[t]=u instanceof r.panel.block?u:new r.panel.block(v.getHolderElement(),u);if(!v._.currentBlock)v.showBlock(t);return u;},getBlock:function(t){return this._.blocks[t];},showBlock:function(t){var y=this;var u=y._.blocks,v=u[t],w=y._.currentBlock,x=!y.forceIFrame||j?y._.holder:y.document.getById(y.id+'_frame');
if(w){x.removeAttributes(w.attributes);w.hide();}y._.currentBlock=v;x.setAttributes(v.attributes);h.fire('ariaWidget',x);v._.focusIndex=-1;y._.onKeyDown=v.onKeyDown&&l.bind(v.onKeyDown,v);v.show();return v;},destroy:function(){this.element&&this.element.remove();}};r.panel.block=l.createClass({$:function(t,u){var v=this;v.element=t.append(t.getDocument().createElement('div',{attributes:{tabIndex:-1,'class':'cke_panel_block',role:'presentation'},styles:{display:'none'}}));if(u)l.extend(v,u);if(!v.attributes.title)v.attributes.title=v.attributes['aria-label'];v.keys={};v._.focusIndex=-1;v.element.disableContextMenu();},_:{markItem:function(t){var w=this;if(t==-1)return;var u=w.element.getElementsByTag('a'),v=u.getItem(w._.focusIndex=t);if(i.webkit||i.opera)v.getDocument().getWindow().focus();v.focus();w.onMark&&w.onMark(v);}},proto:{show:function(){this.element.setStyle('display','');},hide:function(){var t=this;if(!t.onHide||t.onHide.call(t)!==true)t.element.setStyle('display','none');},onKeyDown:function(t){var y=this;var u=y.keys[t];switch(u){case 'next':var v=y._.focusIndex,w=y.element.getElementsByTag('a'),x;while(x=w.getItem(++v)){if(x.getAttribute('_cke_focus')&&x.$.offsetWidth){y._.focusIndex=v;x.focus();break;}}return false;case 'prev':v=y._.focusIndex;w=y.element.getElementsByTag('a');while(v>0&&(x=w.getItem(--v))){if(x.getAttribute('_cke_focus')&&x.$.offsetWidth){y._.focusIndex=v;x.focus();break;}}return false;case 'click':case 'mouseup':v=y._.focusIndex;x=v>=0&&y.element.getElementsByTag('a').getItem(v);if(x)x.$[u]?x.$[u]():x.$['on'+u]();return false;}return true;}}});q.add('listblock',{requires:['panel'],onLoad:function(){r.panel.prototype.addListBlock=function(t,u){return this.addBlock(t,new r.listBlock(this.getHolderElement(),u));};r.listBlock=l.createClass({base:r.panel.block,$:function(t,u){var x=this;u=u||{};var v=u.attributes||(u.attributes={});(x.multiSelect=!!u.multiSelect)&&(v['aria-multiselectable']=true);!v.role&&(v.role='listbox');x.base.apply(x,arguments);var w=x.keys;w[40]='next';w[9]='next';w[38]='prev';w[2000+9]='prev';w[32]=j?'mouseup':'click';j&&(w[13]='mouseup');x._.pendingHtml=[];x._.items={};x._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=l.addFunction(function(t){var v=this;var u=true;if(v.multiSelect)u=v.toggle(t);else v.mark(t);if(v.onClick)v.onClick(t,u);},this);return this._.click;}},proto:{add:function(t,u,v){var y=this;
var w=y._.pendingHtml,x=l.getNextId();if(!y._.started){w.push('<ul role="presentation" class=cke_panel_list>');y._.started=1;y._.size=y._.size||0;}y._.items[t]=x;w.push('<li id=',x,' class=cke_panel_listItem role=presentation><a id="',x,'_option" _cke_focus=1 hidefocus=true title="',v||t,'" href="javascript:void(\'',t,"')\" "+(j?'onclick="return false;" onmouseup':'onclick')+'="CKEDITOR.tools.callFunction(',y._.getClick(),",'",t,"'); return false;\"",' role="option">',u||t,'</a></li>');},startGroup:function(t){this._.close();var u=l.getNextId();this._.groups[t]=u;this._.pendingHtml.push('<h1 role="presentation" id=',u,' class=cke_panel_grouptitle>',t,'</h1>');},commit:function(){var t=this;t._.close();t.element.appendHtml(t._.pendingHtml.join(''));delete t._.size;t._.pendingHtml=[];},toggle:function(t){var u=this.isMarked(t);if(u)this.unmark(t);else this.mark(t);return!u;},hideGroup:function(t){var u=this.element.getDocument().getById(this._.groups[t]),v=u&&u.getNext();if(u){u.setStyle('display','none');if(v&&v.getName()=='ul')v.setStyle('display','none');}},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle('display','none');},showAll:function(){var t=this._.items,u=this._.groups,v=this.element.getDocument();for(var w in t)v.getById(t[w]).setStyle('display','');for(var x in u){var y=v.getById(u[x]),z=y.getNext();y.setStyle('display','');if(z&&z.getName()=='ul')z.setStyle('display','');}},mark:function(t){var w=this;if(!w.multiSelect)w.unmarkAll();var u=w._.items[t],v=w.element.getDocument().getById(u);v.addClass('cke_selected');w.element.getDocument().getById(u+'_option').setAttribute('aria-selected',true);w.onMark&&w.onMark(v);},unmark:function(t){var x=this;var u=x.element.getDocument(),v=x._.items[t],w=u.getById(v);w.removeClass('cke_selected');u.getById(v+'_option').removeAttribute('aria-selected');x.onUnmark&&x.onUnmark(w);},unmarkAll:function(){var x=this;var t=x._.items,u=x.element.getDocument();for(var v in t){var w=t[v];u.getById(w).removeClass('cke_selected');u.getById(w+'_option').removeAttribute('aria-selected');}x.onUnmark&&x.onUnmark();},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass('cke_selected');},focus:function(t){this._.focusIndex=-1;if(t){var u=this.element.getDocument().getById(this._.items[t]).getFirst(),v=this.element.getElementsByTag('a'),w,x=-1;while(w=v.getItem(++x)){if(w.equals(u)){this._.focusIndex=x;break;}}setTimeout(function(){u.focus();},0);}}}});}});h.themes.add('default',(function(){var t={};
function u(v,w){var x,y;y=v.config.sharedSpaces;y=y&&y[w];y=y&&h.document.getById(y);if(y){var z='<span class="cke_shared " dir="'+v.lang.dir+'"'+'>'+'<span class="'+v.skinClass+' '+v.id+' cke_editor_'+v.name+'">'+'<span class="'+i.cssClass+'">'+'<span class="cke_wrapper cke_'+v.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+w+'">'+'</div></span></span></span></span></span>',A=y.append(o.createFromHtml(z,y.getDocument()));if(y.getCustomData('cke_hasshared'))A.hide();else y.setCustomData('cke_hasshared',1);x=A.getChild([0,0,0,0]);!v.sharedSpaces&&(v.sharedSpaces={});v.sharedSpaces[w]=x;v.on('focus',function(){for(var B=0,C,D=y.getChildren();C=D.getItem(B);B++){if(C.type==1&&!C.equals(A)&&C.hasClass('cke_shared'))C.hide();}A.show();});v.on('destroy',function(){A.remove();});}return x;};return{build:function(v,w){var x=v.name,y=v.element,z=v.elementMode;if(!y||z==0)return;if(z==1)y.hide();var A=v.fire('themeSpace',{space:'top',html:''}).html,B=v.fire('themeSpace',{space:'contents',html:''}).html,C=v.fireOnce('themeSpace',{space:'bottom',html:''}).html,D=B&&v.config.height,E=v.config.tabIndex||v.element.getAttribute('tabindex')||0;if(!B)D='auto';else if(!isNaN(D))D+='px';var F='',G=v.config.width;if(G){if(!isNaN(G))G+='px';F+='width: '+G+';';}var H=A&&u(v,'top'),I=u(v,'bottom');H&&(H.setHtml(A),A='');I&&(I.setHtml(C),C='');var J='<style>.'+v.skinClass+'{visibility:hidden;}</style>';if(t[v.skinClass])J='';else t[v.skinClass]=1;var K=o.createFromHtml(['<span id="cke_',x,'" class="',v.skinClass,' ',v.id,' cke_editor_',x,'" dir="',v.lang.dir,'" title="',i.gecko?' ':'','" lang="',v.langCode,'"'+(i.webkit?' tabindex="'+E+'"':'')+' role="application"'+' aria-labelledby="cke_',x,'_arialbl"'+(F?' style="'+F+'"':'')+'>'+'<span id="cke_',x,'_arialbl" class="cke_voice_label">'+v.lang.editor+'</span>'+'<span class="',i.cssClass,'" role="presentation"><span class="cke_wrapper cke_',v.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',A?'':' style="display:none"',' role="presentation"><td id="cke_top_',x,'" class="cke_top" role="presentation">',A,'</td></tr><tr',B?'':' style="display:none"',' role="presentation"><td id="cke_contents_',x,'" class="cke_contents" style="height:',D,'" role="presentation">',B,'</td></tr><tr',C?'':' style="display:none"',' role="presentation"><td id="cke_bottom_',x,'" class="cke_bottom" role="presentation">',C,'</td></tr></tbody></table>'+J+'</span>'+'</span>'+'</span>'].join(''));
K.getChild([1,0,0,0,0]).unselectable();K.getChild([1,0,0,0,2]).unselectable();if(z==1)K.insertAfter(y);else y.append(K);v.container=K;K.disableContextMenu();v.on('contentDirChanged',function(L){var M=(v.lang.dir!=L.data?'add':'remove')+'Class';K.getChild(1)[M]('cke_mixed_dir_content');var N=this.sharedSpaces&&this.sharedSpaces[this.config.toolbarLocation];N&&N.getParent().getParent()[M]('cke_mixed_dir_content');});v.fireOnce('themeLoaded');v.fireOnce('uiReady');},buildDialog:function(v){var w=l.getNextNumber(),x=o.createFromHtml(['<div class="',v.id,'_dialog cke_editor_',v.name.replace('.','\\.'),'_dialog cke_skin_',v.skinName,'" dir="',v.lang.dir,'" lang="',v.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog',' '+i.cssClass,' cke_',v.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+v.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',j?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+w).replace(/%/g,'cke_dialog_')),y=x.getChild([0,0,0,0,0]),z=y.getChild(0),A=y.getChild(1);if(j&&!i.ie6Compat){var B=i.isCustomDomain(),C='javascript:void(function(){'+encodeURIComponent('document.open();'+(B?'document.domain="'+document.domain+'";':'')+'document.close();')+'}())',D=o.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+C+'"'+' tabIndex="-1"'+'></iframe>');D.appendTo(y.getParent());}z.unselectable();A.unselectable();return{element:x,parts:{dialog:x.getChild(0),title:z,close:A,tabs:y.getChild(2),contents:y.getChild([3,0,0,0]),footer:y.getChild([3,0,1,0])}};},destroy:function(v){var w=v.container,x=v.element;if(w){w.clearCustomData();w.remove();}if(x){x.clearCustomData();
v.elementMode==1&&x.show();delete v.element;}}};})());h.editor.prototype.getThemeSpace=function(t){var u='cke_'+t,v=this._[u]||(this._[u]=h.document.getById(u+'_'+this.name));return v;};h.editor.prototype.resize=function(t,u,v,w){var C=this;var x=C.container,y=h.document.getById('cke_contents_'+C.name),z=i.webkit&&C.document&&C.document.getWindow().$.frameElement,A=w?x.getChild(1):x;A.setSize('width',t,true);z&&(z.style.width='1%');var B=v?0:(A.$.offsetHeight||0)-(y.$.clientHeight||0);y.setStyle('height',Math.max(u-B,0)+'px');z&&(z.style.width='100%');C.fire('resize');};h.editor.prototype.getResizable=function(t){return t?h.document.getById('cke_contents_'+this.name):this.container;};})();
