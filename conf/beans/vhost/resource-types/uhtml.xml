<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

  <!-- UHTML Mixin -->

  
  <bean id="uhtmlMixinResourceTypeDef" 
        class="org.vortikal.repository.resourcetype.MixinResourceTypeDefinitionImpl">
    <property name="name" value="uhtml"/>
    <property name="namespace" ref="UHTML_NAMESPACE" /> 

    <property name="mixinTypeDefinitions">
      <list>
        <ref bean="uhtmlAuthorMixinResourceTypeDef" />
      </list>
    </property>
    <property name="propertyTypeDefinitions">
      <list>
        <ref bean="verifiedDatePropDef" />
      </list>
    </property>
  </bean>

  <bean id="verifiedDatePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="verifiedDate" /> 
    <property name="type" ref="TYPE_DATE" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <!-- Possibly inherited uhtml -->

  <bean id="uhtmlInheritedMixinResourceTypeDef" 
        class="org.vortikal.repository.resourcetype.MixinResourceTypeDefinitionImpl">
    <property name="name" value="inheritedUhtml"/>
    <property name="namespace" ref="UHTML_NAMESPACE" /> 
    <property name="mixinTypeDefinitions">
      <list>
        <ref bean="uhtmlPublisherMixinResourceTypeDef" />
      </list>
    </property>
    <property name="propertyTypeDefinitions">
      <list>
        <ref bean="inheritedPropdef" />
        <ref bean="unitPropDef" />
        <ref bean="topicPropDef" />
      </list>
    </property>
  </bean>

  <!-- if set: inherited
       true: forced?
       false: 
    -->
  <bean id="inheritedPropdef" 
        class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="inherited" /> 
    <property name="type" ref="TYPE_BOOLEAN" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="unitPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="unit" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
    <property name="allowedValues">
      <list>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="uio" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="hf" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="jf" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="mn" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="mf" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="od" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="sv" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="sosiologi" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="tf" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="uv" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="ia" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="sta" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="fa" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="usit" />
        </bean>
      </list>
    </property>
  </bean>

  <bean id="topicPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="topic" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
    <property name="allowedValues">
      <list>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="studier" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="forskning" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omuio" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="it" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="studentliv" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="foransatte" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="bibliotek" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="publikum" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="tavle" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omhf" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omjus" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="ommn" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="ommed" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omod" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omsv" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omtf" />
        </bean>
        <bean class="org.vortikal.repository.resourcetype.Value">
          <property name="value" value="omuv" />
        </bean>
      </list>
    </property>
  </bean>



  <bean id="UHTML_NAMESPACE" class="org.vortikal.repository.Namespace">
    <constructor-arg value="uhtml" />
    <constructor-arg value="http://www.uio.no/uhtml" />
  </bean>


  <!-- Web 3.0 -->

  <bean id="web30MixinResourceTypeDef" 
        class="org.vortikal.repository.resourcetype.MixinResourceTypeDefinitionImpl">
    <property name="name" value="uhtml"/>
    <property name="namespace" ref="WEB_3_0_NAMESPACE" /> 
    <property name="propertyTypeDefinitions">
      <list>
        <ref bean="keywordsPropDef" />
        <ref bean="descriptionPropDef" />
      </list>
    </property>
  </bean>

  <bean id="keywordsPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="keywords" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="multiple" value="true" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="descriptionPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="description" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="WEB_3_0_NAMESPACE" class="org.vortikal.repository.Namespace">
    <constructor-arg value="web30" />
    <constructor-arg value="http://www.uio.no/uhtml/web30" />
  </bean>


  <!-- Publisher mixin -->


  <bean id="uhtmlPublisherMixinResourceTypeDef" 
        class="org.vortikal.repository.resourcetype.MixinResourceTypeDefinitionImpl">
    <property name="name" value="publisher"/>
    <property name="namespace" ref="PUBLISHER_NAMESPACE" /> 

    <property name="propertyTypeDefinitions">
      <list>
        <ref bean="publisherNamePropDef" />
        <ref bean="publisherMailPropDef" />
        <ref bean="publisherURLPropDef" />
      </list>
    </property>
  </bean>

  <bean id="publisherNamePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="name" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="publisherMailPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="mail" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="publisherURLPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="url" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="PUBLISHER_NAMESPACE" class="org.vortikal.repository.Namespace">
    <constructor-arg value="uhtml" />
    <constructor-arg value="http://www.uio.no/uhtml/publisher" />
  </bean>

  <!-- Author mixin -->

  <bean id="uhtmlAuthorMixinResourceTypeDef" 
        class="org.vortikal.repository.resourcetype.MixinResourceTypeDefinitionImpl">
    <property name="name" value="author"/>
    <property name="namespace" ref="AUTHOR_NAMESPACE" /> 

    <property name="propertyTypeDefinitions">
      <list>
        <ref bean="authorNamePropDef" />
        <ref bean="authorMailPropDef" />
        <ref bean="authorURLPropDef" />
      </list>
    </property>
  </bean>

  <bean id="authorNamePropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="name" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="authorMailPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="mail" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="authorURLPropDef" class="org.vortikal.repository.resourcetype.PropertyTypeDefinitionImpl">
    <property name="name" value="url" /> 
    <property name="type" ref="TYPE_STRING" />
    <property name="protectionLevel" ref="PROTECTION_LEVEL_ACL_WRITE" />
    <property name="mandatory" value="false" />
  </bean>

  <bean id="AUTHOR_NAMESPACE" class="org.vortikal.repository.Namespace">
    <constructor-arg value="uhtml" />
    <constructor-arg value="http://www.uio.no/uhtml/author" />
  </bean>

</beans>
